(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1131:function(e,n,t){},1132:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"fetchConfig",function(){return wt}),t.d(a,"updateDashboard",function(){return xt}),t.d(a,"createCell",function(){return kt}),t.d(a,"deleteCell",function(){return St}),t.d(a,"defaultDashboards",function(){return Rt});var r=t(1),o=t.n(r),c=t(11);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(95),i=t(28),s=t(16),u=t(21),d=t(18),p=t(17),f=t(27),h=t(19),m=t(51),b=t(10),C=t(484),g=t(8),v=t.n(g),y=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var n=e.getPrefixCls,a=t.props,r=(a.dashboard,n("dashboard-empty",a.prefixCls));return o.a.createElement("div",{className:"".concat(r)},"\u5f53\u524d\u9762\u677f\u6ca1\u6709\u4efb\u4f55\u529f\u80fd\u5355\u5143")},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderDashboard)}}]),n}(r.Component),O=t(295),E=t.n(O),j=t(139),w=t.n(j),x=t(486),k=t.n(x),S=t(23),R=t.n(S),D=w.a.Item,_=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(d.a)(this,Object(p.a)(n).call(this,e))).handleEditCell=function(){(0,t.props.onEdit)()},t.handleDeleteCell=function(){var e=t.props;(0,e.onDelete)(e.cell.i)},t.handleCloneCell=function(){var e=t.props,n=e.onClone,a=e.cell;(a=Object(b.a)({},a)).y=a.y+1,n(a)},t.editMenu=function(e){var n=Object(f.a)(t),a=o.a.createElement(w.a,{onClick:function(e){switch(e.key){case"configure":n.handleEditCell();break;case"clone":n.handleCloneCell();break;case"delete":n.handleDeleteCell()}}},o.a.createElement(D,{key:"configure"},"Configure"),o.a.createElement(D,{key:"clone"},"Clone"),o.a.createElement(D,{key:"delete"},"Delete"));return o.a.createElement(k.a,{overlay:a,trigger:["click"],placement:"bottomRight",className:"".concat(e,"--button"),overlayClassName:"".concat(e,"--dropdown-menu"),getPopupContainer:n.props.getPopupContainer},o.a.createElement(R.a,{type:"edit"}))},t.renderMenu=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls;if(a.isEditable){var c=n("layout-cell-context",r);return o.a.createElement("div",{className:"".concat(c)},t.editMenu(c))}},t.state={subMenuIsOpen:!1},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderMenu)}}]),n}(r.Component),M=t(13),T=t.n(M),L=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(c)))).renderLayoutCellHeader=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.isEditable,l=n("layout-cell-header",r),i=n("layout-cell",r),s="".concat(i,"--draggable"),u="".concat(l,"--draggable"),d={};return d[s]=c,d[u]=c,o.a.createElement("div",{className:T()("".concat(l),Object(b.a)({},d))},t.cellName(l),t.headingBar(l))},t.cellName=function(e){var n=t.props.cellName,a={};a["".concat(e,"-name__default")]=!n||""===n.trim();var r=T()("".concat(e,"-name"),Object(b.a)({},a));return o.a.createElement("span",{className:r},n||"\u672a\u547d\u540d")},t.headingBar=function(e){if(t.props.isEditable)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(e,"--header-bar")}),o.a.createElement("div",{className:"".concat(e,"--header-dragger")}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderLayoutCellHeader)}}]),n}(r.Component),N=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderLayoutCell=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.isEditable,l=a.cell,i=a.onCloneCell,s=a.onCellUpdate,u=a.onDeleteCell,d=a.toggleVisType,p=a.children,h=Object(f.a)(t),m=n("layout-cell",r);return o.a.createElement("div",{className:"".concat(m),ref:function(e){h.container=e}},o.a.createElement(_,{cell:l,isEditable:c,dataExists:!1,onClone:i,onDelete:u,onCellUpdate:s,toggleVisType:d,visType:"",getPopupContainer:function(){return h.container}}),o.a.createElement(L,{cellName:l.name,isEditable:c}),o.a.createElement("div",{className:"".concat(m,"-body")},p))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return console.log("LayoutCell render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLayoutCell)}}]),n}(r.Component),A=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderCommandButton=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,n("command-button",r));return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(R.a,{type:"deployment-unit",style:{fontSize:50}}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderCommandButton)}}]),n}(r.Component),I=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,n("logger",r));return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(R.a,{type:"area-chart",style:{fontSize:50}}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderLogger)}}]),n}(r.Component),U=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.cell,l=n("unknown-cell-type",r);return o.a.createElement("div",{className:"".concat(l)},o.a.createElement("div",null,"\u4e0d\u652f\u6301\u7684\u7ec4\u4ef6\u7c7b ",c.type))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderLogger)}}]),n}(r.Component),B=t(296),P=t.n(B),F=t(487),V=t.n(F),J=t(43),H=t(210),W=t.n(H),q=t(216),z=t.n(q),K=t(48),G=t.n(K),Q=Object(J.b)(W.a,function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce(function(e,n){return e+"-"+JSON.stringify(n)},"")}),X=function(e,n){return e.robot.resultsByChannel[n.cell.i]},Z=function(e,n){return e.robot.resultsByChannel[n]},Y=(Q(X,function(e){return e}),Q(Z,function(e){return e})),$=Q(function(e){return Object.keys(e.robot.resultsByChannel)},function(e){return e}),ee=function(e,n,t){var a=Z(e,n);if(a&&a[t])return z()(a[t])?[new Date(a.id),[a[t]]]:[new Date(a.id),a[t]]},ne=function(e){return e.robot.manualMotionVel},te=(Object(J.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.ai},function(e){return e}),Object(J.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.di},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pe},function(e){return e})),ae=(Object(J.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pq},function(e){return e}),Object(J.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_acc},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_pos},function(e){return e})),re=Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_state},function(e){return e}),oe=(Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_toq},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.part_pq},function(e){return e})),ce=Q(oe,function(e){return e&&e.join("&")}),le=Object(J.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_al_state},function(e){return e}),ie=(Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_link_num},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_online_state},function(e){return e})),se=function(e){return e.router.pathname},ue=Object(J.a)(function(e){return e.config.interfaceRoot},function(e){return e&&e.dashboards}),de=Object(J.a)(ue,function(e){return e&&e.map(function(e){return{name:e.name,i:e.i,editable:e.editable}})}),pe=function(e,n){var t=ue(e);if(t)return t.filter(function(e){return e.i===n})[0]},fe=Object(J.a)(ue,se,function(e,n){if("/"!==n&&-1!==n.indexOf("/dashboards/")){var t=n.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===t})[0];if(a)return a}return e&&e[0]}),he=(Object(J.a)(de,se,function(e,n){if("/"!==n&&-1!==n.indexOf("/dashboards/")){var t=n.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===t})[0];if(a)return a.i}return e&&e[0].i}),Object(J.a)(de,se,function(e,n){if("/"!==n&&-1!==n.indexOf("/dashboards/")){var t=n.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===t})[0];if(a)return a}return e&&e[0]})),me=function(e){return e.config.xml},be=function(e){return e.robot.websocketConnected},Ce=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.ws&&n.interfaceRoot.ws.url},ge=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.ws&&n.interfaceRoot.ws.commandSendInterval},ve=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.ws&&n.interfaceRoot.ws.getInterval},ye=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.ws&&n.interfaceRoot.ws.commandSendDelay},Oe=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.ws&&n.interfaceRoot.ws.unityUpdateInterval},Ee=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(d.a)(this,Object(p.a)(n).call(this,e))).renderLogger=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,n("view3d",r));return o.a.createElement("div",{className:"".concat(c),ref:function(e){return t.container=e}},o.a.createElement(P.a,{unityContent:t.unityContent}))},t.unityContent=new B.UnityContent("/unity/8.json","/unity/UnityLoader.js"),t.state={},t.unityContent.on("progress",function(e){t.setState({progression:e}),1===e&&(t.unityContent.send("empt","GetUrlFromJs",window.location.origin+"/"),t.unityContent.send("empt","GetRobotXmlFromJS",t.props.xml),t.unityContent.send("empt","SetCameraBackGround","0&0&0"),t.unityContent.send("empt","SetFPS","20"))}),console.log("unityUpdateInterval",t.props.unityUpdateInterval),t.throttleSend=V()(t.unityContent.send.bind(t.unityContent),t.props.unityUpdateInterval),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentWillUnmount",value:function(){this.unityContent.remove("progress")}},{key:"shouldComponentUpdate",value:function(e,n,t){var a=this;return e.xml!==this.props.xml&&1===this.state.progression&&this.unityContent.send("empt","GetRobotXmlFromJS",e.xml),e.partPQ!==this.props.partPQ&&e.partPQ&&1===this.state.progression&&setTimeout(function(){a.throttleSend("empt","ReceiveDataFromJs",e.partPQ)},0),!1}},{key:"unityProgress",value:function(e,n){e.Module&&this.setState({progress:e.progress})}},{key:"componentDidMount",value:function(){console.error("View3D componentDidMount()")}},{key:"render",value:function(){return console.error("View3D render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLogger)}}]),n}(r.Component);var je=Object(i.b)(function(e){return{xml:me(e),partPQ:ce(e),unityUpdateInterval:Oe(e)}})(Ee),we=t(0),xe=t.n(we),ke=t(217),Se=t.n(ke),Re=t(81),De=t.n(Re),_e=t(63),Me=t.n(_e),Te=t(49),Le=t.n(Te),Ne=t(169),Ae=t.n(Ne),Ie=Date.now();function Ue(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(b.a)({type:e},n)}var Be="LOAD_CONFIG",Pe={request:function(){return Ue("CONFIG_FETCH_REQUEST",{})},success:function(e){return Ue("CONFIG_FETCH_SUCCESS",{response:e})},failure:function(e){return Ue("CONFIG_FETCH_FAILURE",{error:e})}},Fe="UPDATE_DASHBOARD",Ve={request:function(e){return Ue("DASHBOARD_UPDATE_REQUEST",{dashboard:e})},success:function(e){return Ue("DASHBOARD_UPDATE_SUCCESS",{dashboard:e})},failure:function(e){return Ue("DASHBOARD_UPDATE_FAILURE",{error:e})}},Je=function(e){return Ue(Fe,{dashboard:e})},He="CREATE_CELL",We={request:function(e){return Ue("CELL_CREATE_REQUEST",{dashboardId:e})},success:function(e,n){return Ue("CELL_CREATE_SUCCESS",{dashboardId:e,cell:n})},failure:function(e){return Ue("CELL_CREATE_FAILURE",{error:e})}},qe=function(e,n){return Ue(He,{dashboardId:e,cell:n})},ze="DELETE_CELL",Ke={request:function(e,n){return Ue("CELL_DELETE_REQUEST",{dashboardId:e,cellId:n})},success:function(e,n){return Ue("CELL_DELETE_SUCCESS",{dashboardId:e,cell:n})},failure:function(e){return Ue("CELL_DELETE_FAILURE",{error:e})}},Ge="UPDATE_ROUTER_STATE",Qe="NAVIGATE",Xe="START_WEBSOCKET",Ze="STOP_WEBSOCKET",Ye="SEND_CMD",$e="CMD_RESPONSE",en=function(e){return Ue(Xe,{url:e})},nn=function(){return Ue("WEBSOCKET_CONNECTED")},tn=function(){return Ue("WEBSOCKET_DISCONNECTED")},an=function(e){return Ue("WEBSOCKET_ERROR",{error:e})},rn=function(e,n){var t=Date.now();return t<=Ie?Ie+=1:Ie=t,Ue(Ye,{cmd:e,id:Ie,channel:n})},on=function(e){return e.config},cn=function(e){var n=e.robot;return n.resultsByChannel&&n.resultsByChannel.get&&n.resultsByChannel.get.state_code},ln=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.layoutConfig&&n.interfaceRoot.layoutConfig.cols},sn=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.layoutConfig&&n.interfaceRoot.layoutConfig.rowHeight},un=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.layoutConfig&&n.interfaceRoot.layoutConfig.margin},dn=function(e){var n=e.config;return n.interfaceRoot&&n.interfaceRoot.layoutConfig&&n.interfaceRoot.layoutConfig.containerPadding},pn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).interval=null,t.timeout=null,t.sendCmd=function(e,n){var a=t.props,r=a.sendCmd,o=a.cell;r(e,n||o.i)},t.getSendCmdFn=function(e,n){return function(){t.sendCmd(e,n)}.bind(Object(f.a)(t))},t.getOnMouseDownFn=function(e,n){return function(){t.interval&&clearInterval(t.interval);var a=t.props,r=a.commandSendInterval,o=a.commandSendDelay,c=t.sendCmd.bind(Object(f.a)(t),e,n),l=Object(f.a)(t);l.timeout=setTimeout(function(){l.interval=setInterval(c,r)},o)}.bind(Object(f.a)(t))},t.getOnMouseUpFn=function(){return function(){t.timeout&&clearTimeout(t.timeout),t.interval&&clearInterval(t.interval)}.bind(Object(f.a)(t))},t.getOptions=function(){var e=t.props.cell;return e.options&&0!==e.options.length?e.options.reduce(function(e,n){return e[n.name]=n.value,e},{}):{}},t.updateOptions=function(e){var n=Object(b.a)({},t.props.cell);n.options=Object.keys(e).map(function(n){return{name:n,value:e[n].toString()}}),t.props.onCellUpdate(n)},t.renderContent=function(){throw new Error("renderComponent not implemented")},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("CellBase Mount()")}},{key:"render",value:function(){return console.log("CellBase render()"),o.a.createElement(g.ConfigConsumer,null,this.renderContent)}}]),n}(r.Component),fn=Me.a.Option,hn=Se.a.Group,mn=(Ae.a.Group,function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={mCoordinateRadio:0,mCoordinate:0},t.renderJogCoordinate=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.endPE,l=a.cell,i=n("jog-coordinate",r),s={display:"block",height:"30px",lineHeight:"30px"},u=["x","y","z","rx","ry","rz"];return o.a.createElement("div",{className:"".concat(i)},o.a.createElement(De.a,null,o.a.createElement(hn,{onChange:t.onMCoordinateChange.bind(Object(f.a)(t)),value:t.state.mCoordinateRadio},o.a.createElement(Se.a,{style:s,value:0},"\u4e16\u754c\u5750\u6807\u7cfb"),o.a.createElement(Se.a,{style:s,value:1},o.a.createElement(Me.a,{onChange:t.handleSelectChange.bind(Object(f.a)(t)),value:t.state.mCoordinate?t.state.mCoordinate:1,disabled:!t.state.mCoordinate},o.a.createElement(fn,{value:1},"\u672b\u7aef\u5750\u6807\u7cfb 1"),o.a.createElement(fn,{value:2},"\u672b\u7aef\u5750\u6807\u7cfb 2"))))),["X","Y","Z","RX","RY","RZ"].map(function(e,n){return o.a.createElement(De.a,{key:e},o.a.createElement(Le.a,{type:"primary",size:"large",onClick:function(){t.getSendCmdFn("j".concat(u[n]," --vel_percent=").concat(t.props.vel," --direction=-1 --cor=").concat(t.state.mCoordinate," "),l.i)()},onMouseDown:function(){t.getOnMouseDownFn("j".concat(u[n]," --vel_percent=").concat(t.props.vel," --direction=-1 --cor=").concat(t.state.mCoordinate," "),l.i)()},onMouseUp:function(){t.getOnMouseUpFn()()}},e,"-"),o.a.createElement(Le.a,{type:"primary",size:"large",onMouseDown:function(){t.getOnMouseDownFn("j".concat(u[n]," --vel_percent=").concat(t.props.vel," --direction=1 --cor=").concat(t.state.mCoordinate," "),l.i)()},onMouseUp:function(){t.getOnMouseUpFn()()}},e,"+"))}),o.a.createElement(De.a,{className:"".concat(i,"-end_pe")},o.a.createElement("div",null,o.a.createElement("span",null,"X"),o.a.createElement("span",null,c&&(c[0]||0===c[0])?c[0].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"Y"),o.a.createElement("span",null,c&&(c[1]||0===c[1])?c[1].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"Z"),o.a.createElement("span",null,c&&(c[2]||0===c[2])?c[2].toFixed(3):"null"))),o.a.createElement(De.a,{className:"".concat(i,"-end_pe")},o.a.createElement("div",null,o.a.createElement("span",null,"RX"),o.a.createElement("span",null,c&&(c[3]||0===c[3])?c[3].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"RY"),o.a.createElement("span",null,c&&(c[4]||0===c[4])?c[4].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"RZ"),o.a.createElement("span",null,c&&(c[5]||0===c[5])?c[5].toFixed(3):"null"))))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"onMCoordinateChange",value:function(e){var n=this.state.mCoordinate;0===e.target.value?n=0:0===n&&(n=e.target.value),this.setState({mCoordinateRadio:e.target.value,mCoordinate:n})}},{key:"handleSelectChange",value:function(e){this.setState({mCoordinate:e})}},{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogCoordinate)}}]),n}(pn));mn.propTypes={cell:xe.a.object.isRequired,sendCmd:xe.a.func.isRequired,vel:xe.a.number,endPE:xe.a.array};var bn=Object(i.b)(function(e){return{vel:ne(e),endPE:te(e)}},{sendCmd:rn})(mn),Cn=function(e){return o.a.createElement("svg",Object.assign({width:"90px",height:"76px",viewBox:"0 0 90 76",version:"1.1"},e),o.a.createElement("rect",{fillRule:"nonzero",x:"0",y:"55.243",width:"18.306",height:"20.204"}),o.a.createElement("rect",{fillRule:"nonzero",x:"23.711",y:"37.304",width:"18.493",height:"38.143"}),o.a.createElement("rect",{fillRule:"nonzero",x:"47.609",y:"18.929",width:"18.493",height:"56.518"}),o.a.createElement("rect",{fillRule:"nonzero",x:"71.507",y:"0.38",width:"18.493",height:"75.067"}))},gn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.cell,l=a.slaveOnlineState,i=a.slaveAlState,s=a.motionState,u=a.motionPos,d=n("jog-joint",r);return o.a.createElement("div",{className:"".concat(d)},[0,1,2,3,4,5].map(function(e){return o.a.createElement(De.a,{key:e},o.a.createElement(Le.a,{type:"primary",size:"large",onClick:function(){t.sendCmd("j".concat(e+1," --direction=-1 --vel_percent=").concat(t.props.vel),c.i)},onMouseDown:function(){t.getOnMouseDownFn("j".concat(e+1," --direction=-1 --vel_percent=").concat(t.props.vel),c.i)()},onMouseUp:function(){t.getOnMouseUpFn()()}},"J",e+1,"-"),o.a.createElement("div",{className:"".concat(d,"-status")},o.a.createElement("span",null,u&&(u[e]||0===u[e])?u[e].toFixed(3):"null"),o.a.createElement("div",{className:"".concat(d,"-status-icons")},o.a.createElement(R.a,{component:Cn,className:"".concat(l&&l[e]?"".concat(d,"-slave-online-state ").concat(d,"-slave-online-state-").concat(i&&i[e]):"".concat(d,"-slave-online-state disabled"))}),!(!s||!s[e])&&o.a.createElement(R.a,{type:"check-circle",theme:"filled",className:"success"}),!(s&&s[e])&&o.a.createElement(R.a,{type:"check-circle",theme:"filled",className:"disabled"}))),o.a.createElement(Le.a,{type:"primary",size:"large",onClick:function(){t.sendCmd("j".concat(e+1," --direction=1 --vel_percent=").concat(t.props.vel),c.i)},onMouseDown:function(){t.getOnMouseDownFn("j".concat(e+1," --direction=1 --vel_percent=").concat(t.props.vel),c.i)()},onMouseUp:function(){t.getOnMouseUpFn()()}},"J",e+1,"+"))}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),n}(pn);gn.propTypes={cell:xe.a.object.isRequired,sendCmd:xe.a.func.isRequired,vel:xe.a.number,motionPos:xe.a.array,slaveOnlineState:xe.a.array};var vn=Object(i.b)(function(e){return{vel:ne(e),motionPos:ae(e),motionState:re(e),slaveOnlineState:ie(e),slaveAlState:le(e)}},{sendCmd:rn})(gn),yn=t(488),On=t.n(yn),En=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).getVelOption=function(){var e=t.props.cell;if(e.options){var n=e.options.filter(function(e){return"manualMotionVel"===e.name});if(n.length>0)try{return parseFloat(n[0].value)}catch(a){console.error(a)}}},t.renderManualMotionVel=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,n("manual-motion-vel",r)),l=t.getVelOption();return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(On.a,{tooltipVisible:!0,min:0,max:100,tipFormatter:function(e){return"".concat(e,"%")},value:t.props.vel||l,onChange:function(e){t.props.updateManualMotionVel(e);var n=Object(b.a)({},t.props.cell);if(n.options&&0!==n.options.length){n.options=Object(m.a)(n.options);var a=!1;n.options.forEach(function(t,r){"manualMotionVel"===t.name&&(n.options[r]={name:"manualMotionVel",value:"".concat(e)},a=!0)}),a||n.options.push({name:"manualMotionVel",value:"".concat(e)})}else n.options=[{name:"manualMotionVel",value:"".concat(e)}];console.log(n),t.props.onCellUpdate(n)},getTooltipPopupContainer:function(){return document.getElementById("dashboard")}}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.vel,t=e.updateManualMotionVel,a=this.getVelOption();!a&&0!==a||n||t(a)}},{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderManualMotionVel)}}]),n}(r.Component);var jn=Object(i.b)(function(e){return{vel:e.robot.manualMotionVel}},{updateManualMotionVel:function(e){return Ue("UPDATE_MANUAL_MOTION_VEL",{vel:e})}})(En),wn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,a.websocketConnected),l=a.stateCode;l||(l=100);console.log("robot state code",l);var i={100:"#AAAAAA",200:"#FF851B",300:"#FF4136",400:"#0074D9",500:"#01FF70"}[l],s={100:"\u53bb\u4f7f\u80fd",200:"\u624b\u52a8",300:"\u51c6\u5907\u81ea\u52a8",400:"\u81ea\u52a8",500:"\u9519\u8bef\u505c\u76ee"}[l],u=n("robot-status",r);return o.a.createElement("div",{className:"".concat(u)},o.a.createElement("div",null,!!c&&o.a.createElement(R.a,{type:"wifi",className:"success"}),!!c&&o.a.createElement("span",null,"\u5df2\u8fde\u63a5"),!c&&o.a.createElement(R.a,{type:"wifi",className:"danger"}),!c&&o.a.createElement("span",null,"\u672a\u8fde\u63a5")),o.a.createElement("div",null,o.a.createElement(R.a,{style:{color:i,fill:i},fill:i,type:"check-circle",className:"info",theme:"filled"}),o.a.createElement("span",null,s||"\u65e0\u72b6\u6001")))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),n}(r.Component);var xn=Object(i.b)(function(e){return{stateCode:cn(e),websocketConnected:be(e)}})(wn),kn=t(293),Sn=t.n(kn),Rn=t(489),Dn=t.n(Rn),_n=t(170),Mn=t.n(_n),Tn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={enable:!0},t.onChange=function(e,n){var a=t.props.cell;e?(t.sendCmd("ds",a.i),t.sendCmd("md",a.i),t.sendCmd("rc",a.i),t.sendCmd("en",a.i),t.setState({enable:!0})):(t.sendCmd("ds",a.i),t.setState({enable:!1}))},t.handleReset=function(){t.props.deleteResultByChannel(t.props.cell.i)},t.renderManualSwitch=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,a.stateCode),l=a.result,i=(Math.floor(c),Math.floor(c),n("manual-switch",r)),s=(Object(f.a)(t),t.state.enable);return o.a.createElement("div",{className:"".concat(i)},o.a.createElement("div",null,o.a.createElement(Sn.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:s&&l&&0===l.return_code,onChange:t.onChange,onClick:t.onChange}),o.a.createElement("span",null,100===c?"\u4f7f\u80fd":"1\u672a\u4f7f\u80fd")),o.a.createElement("div",null,o.a.createElement(R.a,{type:"drag"}),o.a.createElement("span",null,"\u6258\u52a8")),o.a.createElement("div",null,o.a.createElement(R.a,{type:"pushpin"}),o.a.createElement("span",null,"\u4fdd\u5b58\u70b9")),o.a.createElement("div",null,o.a.createElement(R.a,{type:"save"}),o.a.createElement("span",null,"\u4fdd\u5b58\u8f68\u8ff9")),o.a.createElement(Dn.a,{visible:l&&0!==l.return_code,title:"\u9519\u8bef",onOk:t.handleReset,onCancel:t.handleReset,centered:!0,footer:[o.a.createElement(Le.a,{key:"close",onClick:t.handleReset},"\u5173\u95ed")]},o.a.createElement("span",{className:"danger"},l&&(l.return_message?"".concat(l.return_message," \u8fd4\u56de\u7801\uff1a").concat(l.return_code," "):"\u8fd4\u56de\u7801\uff1a".concat(l.return_code)))))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderManualSwitch)}}]),n}(pn);Tn.propTypes={cell:xe.a.object.isRequired,stateCode:xe.a.number};var Ln=Object(i.b)(function(e,n){return{result:X(e,n)}},{deleteResultByChannel:function(e){return Ue("DELETE_RESULT_BY_CHANNEL",{channel:e})}})(Tn),Nn=(t(246),t(490)),An=t.n(Nn),In=(t(680),t(682),t(683),function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).onChange=function(e){console.log("change",e)},t.renderJogJoint=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,n("code-editor",r));return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(An.a,{mode:"javascript",theme:"monokai",width:"100%",height:"100%",value:'\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\n    ',onChange:t.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),n}(r.Component));var Un=Object(i.b)(function(e){return{robotStatus:e.robot.robotStatus}})(In),Bn=t(491),Pn=t.n(Bn),Fn=Ae.a.TextArea,Vn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).interval=null,t.timeout=null,t.getSendCmdFn=function(){return function(){var e=t.props,n=e.sendCmd,a=e.cell,r=t.getOptions();r.command&&r.command.split("\n").forEach(function(e){(e=e.trim())&&(n(e,a.i),t.terminal.runCommandOnActive("showCmd "+e))})}.bind(Object(f.a)(t))},t.getOnMouseDownFn=function(){return function(){t.interval&&clearInterval(t.interval);var e=t.getSendCmdFn(),n=Object(f.a)(t),a=t.props,r=a.commandSendInterval,o=a.commandSendDelay;n.timeout=setTimeout(function(){n.interval=setInterval(e,r)},o)}.bind(Object(f.a)(t))},t.getOnMouseUpFn=function(){return function(){t.interval&&clearInterval(t.interval),t.timeout&&clearTimeout(t.timeout)}.bind(Object(f.a)(t))},t.renderContent=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,a.results,t.getOptions()),l=n("debugger",r),i=Object(f.a)(t);return o.a.createElement("div",{className:"".concat(l)},o.a.createElement(De.a,null,o.a.createElement(Fn,{rows:2,value:c.command,onChange:function(e){t.updateOptions({command:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u4e00\u884c\u673a\u5668\u4eba\u6307\u4ee4"}),o.a.createElement(Le.a,{onClick:t.getSendCmdFn(),onMouseDown:t.getOnMouseDownFn(),onMouseUp:t.getOnMouseUpFn(),type:"primary",shape:"round",icon:"play-circle",size:"large"},"Send"),o.a.createElement("div",{className:"".concat(l,"-terminal")},o.a.createElement(Pn.a,{color:"green",backgroundColor:"black",barColor:"black",hideTopBar:!0,allowTabs:!1,commands:{showCmd:function(e,n,t){if(e[1])n(e.slice(1).join(" "));else{var a=i.getOptions();a.command&&n(a.command)}},send:function(e,n,t){i.props.sendCmd(e[1],i.props.cell.i)},showResult:function(e,n,a){n(JSON.stringify(t.result))}},descriptions:{send:'\u53d1\u9001\u6307\u4ee4\u7ed9\u673a\u5668\u4eba, "send [\u673a\u5668\u4eba\u6307\u4ee4]", \u4f8b\u5982 "send get"',showResult:"\u663e\u793a\u6700\u8fd1\u4e00\u6761\u8fd4\u56de\u503c",showCmd:"\u663e\u793a\u5f53\u524d\u6307\u4ee4\u503c"},ref:function(e){return t.terminal=e}}))))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,n,t){return e.result!==this.props.result&&(this.result=e.result,this.terminal.runCommandOnActive("showResult")),e.cell!==this.props.cell||e.result!==this.props.result}}]),n}(pn);Vn.propTypes={results:xe.a.array.isRequired};var Jn=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,n=[];return Object(J.a)(X,function(t){t&&n.push(t);var a=n.length;return a>e&&n.splice(0,a-e),n})}(10);return function(n,t){return{results:e(n,t),result:Z(n,t.cell.i)}}})(Vn),Hn=t(495),Wn=t.n(Hn),qn=(t(353),Me.a.Option,function(e){function n(){return Object(s.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("RealtimeChartChannelAndDataKey componentDidMount")}},{key:"render",value:function(){var e=this.props,n=e.dataKey,t=e.channel,a=e.data,c=(e.options,null);return a&&a.length>0&&(c={title:{text:t+" "+n},xAxis:{splitLine:{show:!1},type:"category",data:a.map(function(e){return e[0]})},yAxis:{splitLine:{show:!1},type:"value"},series:a[0][1].map(function(e,t){return{name:"".concat(n).concat(t),data:a.map(function(e){return e[1][t]}),symbol:"none",type:"line"}})}),console.log(c),o.a.createElement(r.Fragment,null,c&&o.a.createElement(Wn.a,{option:c,notMerge:!0,lazyUpdate:!0}))}}]),n}(r.Component)),zn=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,n=[];return Q(ee,function(t){console.log(t),t&&n.push(t);var a=n.length;return a>e&&n.splice(0,a-e),[].concat(n)})}();return function(n,t){return{data:e(n,t.channel,t.dataKey)}}})(qn),Kn=Me.a.Option,Gn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleSelect=function(e){var n=t.props,a=n.options;(0,n.updateOptions)(Object(b.a)({},a,{dataKey:e}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("RealtimeChartChannel componentDidMount")}},{key:"render",value:function(){console.log("RealtimeChartChannel render");var e=this.props,n=e.dataKeys,t=e.options,a=e.updateOptions,c=e.channel,l=e.prefixCls,i="";return n&&-1!==n.indexOf(t.dataKey)&&(i=t.dataKey),o.a.createElement(r.Fragment,null,!!(n&&n.length>0)&&o.a.createElement(Me.a,{style:{width:"100%"},size:"small",onSelect:this.handleSelect,value:i,placeholder:"\u9009\u62e9DataKey"},n.map(function(e){return o.a.createElement(Kn,{key:e,value:e},e.toUpperCase())})),!!(n&&n.length>0&&i)&&o.a.createElement(zn,{key:(c+i).replace(" ","_"),dataKey:i,channel:c,updateOptions:a,options:t,prefixCls:l}))}}]),n}(r.Component),Qn=Object(i.b)(function(){var e=function(){var e=Object(J.a)(Y,function(e){if(e)return Object.keys(e).filter(function(n){return!!z()(e[n])||!(!G()(e[n])||!z()(e[n][0]))||void 0})});return Q(e,function(e){return e})}();return function(n,t){return{dataKeys:e(n,t.channel)}}})(Gn),Xn=Me.a.Option,Zn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleChange=function(e){var n=t.getOptions();t.updateOptions(Object(b.a)({},n,{channel:e}))},t.renderContent=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=(a.cell,a.channels),l=t.getOptions(),i=n("realtime-chart",r),s=(Object(f.a)(t),"");return c&&-1!==c.indexOf(l.channel)&&(s=l.channel),o.a.createElement("div",{className:"".concat(i," ").concat(!(c&&c.length>0)&&i+"-no-data")},!(c&&c.length>0)&&o.a.createElement("span",null,"\u65e0\u5b9e\u65f6\u6570\u636e"),!!(c&&c.length>0)&&o.a.createElement(Me.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9DataKey",onSelect:t.handleChange,value:s},c.map(function(e){return o.a.createElement(Xn,{key:e,value:e},e.toUpperCase())})),!!(c&&c.length>0&&l.channel)&&o.a.createElement(Qn,{key:l.channel,channel:l.channel,options:l,updateOptions:t.updateOptions,prefixCls:i}))},t}return Object(h.a)(n,e),n}(pn);Zn.propTypes={channels:xe.a.array.isRequired};var Yn={RealtimeChart:Object(i.b)(function(){return function(e,n){return{channels:$(e)}}})(Zn),Debugger:Jn,CodeEditor:Un,CommandButton:A,Logger:I,View3D:je,"3DView":je,JogCoordinate:bn,JogJoint:vn,ManualMotionVel:jn,RobotStatus:xn,ManualSwitch:Ln,Unknown:U},$n=Yn.Unknown,et=function(e){function n(e){var t;Object(s.a)(this,n),(t=Object(d.a)(this,Object(p.a)(n).call(this,e))).toggleVisType=function(){},t.renderLayout=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.isEditable,l=a.cell,i=a.onCloneCell,s=a.onDeleteCell,u=a.sendCmd,d=a.onCellUpdate,p=n("layout",r);return o.a.createElement(N,{cell:l,onCellUpdate:d,onDeleteCell:s,sendCmd:u,onCloneCell:i,toggleVisType:t.toggleVisType.bind(Object(f.a)(t)),isEditable:c},t.renderLayoutBody(p))},t.cellByTypes={};var a=Object(f.a)(t);return Object.keys(Yn).forEach(function(e){a.cellByTypes[e.toLowerCase()]=Yn[e]}),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){console.error("Layout componentDidMount")}},{key:"renderLayoutBody",value:function(e){var n=this.props,t=n.cell,a=n.onCellUpdate,r=n.sendCmd,c=n.commandSendInterval,l=n.commandSendDelay;if(t.type&&this.cellByTypes[t.type.toLowerCase()]){var i=this.cellByTypes[t.type.toLowerCase()];return o.a.createElement(i,{cell:t,onCellUpdate:a,sendCmd:r,commandSendInterval:c,commandSendDelay:l})}return o.a.createElement($n,{cell:t,onCellUpdate:a,sendCmd:r})}},{key:"render",value:function(){return console.log("Layout render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLayout)}}]),n}(r.Component);var nt=Object(i.b)(function(e,n){return{commandSendInterval:ge(e),commandSendDelay:ye(e)}})(et),tt=Object(O.WidthProvider)(E.a),at=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleLayoutChange=function(e){if(t.props.onPositionChange){var n=Object(f.a)(t),a=!1,r=n.props.cells.map(function(n){var t=e.find(function(e){return e.i==n.i});if(t){n.x===t.x&&n.y===t.y&&n.h===t.h&&n.w===t.w||(a=!0);var r={x:t.x,y:t.y,h:t.h,w:t.w};return Object(b.a)({},n,r)}});a&&t.props.onPositionChange(r)}},t.renderLayoutRender=function(e){var n=e.getPrefixCls,a=t.props,r=a.prefixCls,c=a.cells,l=a.onZoom,i=a.isEditable,s=a.onDeleteCell,u=a.onCloneCell,d=a.sendCmd,p=a.onCellUpdate,f=a.layoutCols,h=a.layoutMargin,m=a.layoutContainerPadding,b=a.layoutRowHeight,C=a.windowHeight,g=n("layout-renderer",r),v=".".concat(n("layout-cell",r),"--draggable"),y=Math.floor((C-40)/b);y<=0&&(y=1);var O=Math.floor((C-40)/y);return O<b&&(O=b),o.a.createElement("div",{className:"".concat(g," ").concat(i?"editable":"")},o.a.createElement(tt,{layout:c,cols:f,rowHeight:O,margin:[h,h],containerPadding:[m,m],useCSSTransforms:!1,onLayoutChange:t.handleLayoutChange,draggableHandle:v,isDraggable:!0,isResizable:!0},c.map(function(e){return o.a.createElement("div",{key:e.i,className:i?"editable":""},o.a.createElement(nt,{cell:e,onDeleteCell:s,onCloneCell:u,onCellUpdate:p,onZoom:l,sendCmd:d,isEditable:i}))})))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){console.error("LayoutRenderer componentDidMount")}},{key:"render",value:function(){return console.log("LayoutRenderer render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLayoutRender)}}]),n}(r.Component),rt=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var n=e.getPrefixCls,a=t.props,r=a.dashboard,c=a.prefixCls,l=a.onZoom,i=a.onCloneCell,s=a.onDeleteCell,u=a.onPositionChange,d=a.sendCmd,p=a.onCellUpdate,f=a.layoutCols,h=a.layoutRowHeight,m=a.layoutMargin,b=a.layoutContainerPadding,C=a.size,g=C.width,v=C.height,O=n("dashboard",c);return o.a.createElement("div",{className:"".concat(O),id:"dashboard"},r.cells&&r.cells.length?o.a.createElement(at,{layoutCols:f,layoutRowHeight:h,windowWidth:g,windowHeight:v,layoutMargin:m,layoutContainerPadding:b,cells:r.cells,templates:[],manualRefresh:10,onCellUpdate:p,isEditable:!!r.editable,onZoom:l,sendCmd:d,onCloneCell:i,onDeleteCell:s,onPositionChange:u}):o.a.createElement(y,{dashboard:r,onAddCell:function(){}}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return console.log("Dashboard render()"),o.a.createElement(g.ConfigConsumer,null,this.renderDashboard)}}]),n}(r.Component),ot=Object(C.withSize)({monitorHeight:!0})(rt),ct=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).onPositionChange=function(e){var n=t.props,a=n.dashboard;(0,n.updateDashboard)(a=Object(b.a)({},a,{cells:Object(m.a)(e)}))},t.onCellUpdate=function(e){var n=t.props,a=n.dashboard,r=n.updateDashboard,o=Object(m.a)(a.cells);o.forEach(function(n,t){e.i===n.i&&(o[t]=Object(b.a)({},e))}),r(a=Object(b.a)({},a,{cells:o}))},t.onAddCell=function(e){console.log(e),delete(e=Object(b.a)({},e)).i,t.props.createCell(t.props.dashboard.i,e)},t.onDeleteCell=function(e){t.props.deleteCell(t.props.dashboard.i,e)},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){console.log("DashboardPage render()");var e=this.props,n=e.dashboard,t=(e.cells,e.layoutCols),a=e.layoutRowHeight,r=e.layoutMargin,c=e.layoutContainerPadding,l=e.sendCmd;return o.a.createElement(ot,{dashboard:n,layoutCols:t,layoutRowHeight:a,layoutMargin:r,layoutContainerPadding:c,inPresentationMode:!1,onPositionChange:this.onPositionChange,onCellUpdate:this.onCellUpdate,onDeleteCell:this.onDeleteCell,onCloneCell:this.onAddCell,onAddCell:this.onAddCell,sendCmd:l,onSummonOverlayTechnologies:function(){},manualRefresh:0,timeRange:{},onZoom:function(){},setScrollTop:function(){},inView:function(){}})}}]),n}(r.Component);ot.propTypes={dashboard:xe.a.object.isRequired,layoutCols:xe.a.number.isRequired,layoutRowHeight:xe.a.number.isRequired,layoutMargin:xe.a.number.isRequired,layoutContainerPadding:xe.a.number.isRequired};var lt=Object(i.b)(function(e,n){return n.match.params.id,{dashboard:fe(e),layoutCols:ln(e),layoutRowHeight:sn(e),layoutMargin:un(e),layoutContainerPadding:dn(e)}},{updateDashboard:Je,sendCmd:rn,createCell:qe,deleteCell:function(e,n){return Ue(ze,{dashboardId:e,cellId:n})}})(ct);var it=function(){return o.a.createElement("div",{className:"App"},"Configuration")},st=o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:lt}),o.a.createElement(l.a,{path:"/configuration",component:it}),o.a.createElement(l.a,{path:"/dashboards/:id",component:lt})),ut=w.a.Item,dt=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleClick=function(e){window.location.href=e.key},t.onCreateCell=function(){var e=t.props,n=e.createCell,a=(e.pathname,e.dashboard);a&&n(a.i)},t.toggleLock=function(){var e=t.props,n=e.updateDashboard,a=e.dashboard;a&&n(a=Object(b.a)({},a,{editable:!a.editable}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.className,t=e.pathname,a=e.dashboards,r=(e.prefixCls,e.dashboard);return"/"===t&&a.length>0&&(t="/dashboards/".concat(a[0].i)),o.a.createElement("div",{className:n},o.a.createElement(w.a,{onClick:this.handleClick,selectedKeys:[t],mode:"horizontal"},a.map(function(e){return o.a.createElement(ut,{key:"/dashboards/".concat(e.i)},e.name)})),o.a.createElement("div",{className:"actions",style:{position:"absolute",right:0,top:0,display:"inline-block"}},o.a.createElement(R.a,{className:"".concat(r&&r.editable?"":"disabled"),type:"block",onClick:r&&r.editable?this.onCreateCell:function(){}}),o.a.createElement(R.a,{type:"lock",className:"".concat(r&&r.editable?"":"info"),onClick:this.toggleLock}),o.a.createElement(R.a,{type:"fullscreen"}),o.a.createElement(R.a,{type:"sync"})))}}]),n}(r.Component),pt=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(d.a)(this,Object(p.a)(n).call(this,e))).renderApp=function(e){var n=e.getPrefixCls,a=t.props,r=a.location.pathname,c=a.dashboards,l=a.navigate,i=a.prefixCls,s=a.createCell,u=a.dashboard,d=a.updateDashboard,p=n("app",i);return c?o.a.createElement("div",{className:p},o.a.createElement(dt,{className:"".concat(p,"-header"),pathname:r,dashboard:u,dashboards:c,navigate:l,updateDashboard:d,createCell:s}),o.a.createElement("div",{className:"".concat(p,"-content")},t.renderErrorMessage(),st)):o.a.createElement("div",{className:p},"Loading...")},t.handleChange=t.handleChange.bind(Object(f.a)(t)),t.handleDismissClick=t.handleDismissClick.bind(Object(f.a)(t)),t.getData(),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"getData",value:function(){}},{key:"componentWillMount",value:function(){this.props.loadConfig(),this.props.updateRouterState({pathname:this.props.location.pathname,params:this.props.params}),this.props.ws&&this.props.startWebsocket(this.props.ws)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalTimer),this.props.stopWebsocket()}},{key:"componentWillReceiveProps",value:function(e,n){var t=this;if(this.props.location.pathname!==e.location.pathname&&this.props.updateRouterState({pathname:e.location.pathname,params:e.params}),this.props.ws!==e.ws&&e.ws&&this.props.startWebsocket(e.ws),this.props.getInterval!==e.getInterval&&e.getInterval){this.intervalTimer&&clearInterval(this.intervalTimer);var a=e.sendCmd,r=e.getInterval;console.log("command get interval",r),this.intervalTimer=setInterval(function(){if(t.props.websocketConnected)a("get","get")},r)}}},{key:"handleDismissClick",value:function(e){this.props.resetErrorMessage(),e.preventDefault()}},{key:"handleChange",value:function(e){this.props.navigate("/".concat(e))}},{key:"renderErrorMessage",value:function(){var e=this.props.errorMessage;return e?o.a.createElement("p",{style:{backgroundColor:"#e99",padding:10}},o.a.createElement("b",null,e)," (",o.a.createElement("a",{href:"#",onClick:this.handleDismissClick},"Dismiss"),")"):null}},{key:"render",value:function(){return console.log("App render()"),o.a.createElement(g.ConfigConsumer,null,this.renderApp)}}]),n}(r.Component);var ft=Object(i.b)(function(e){return{dashboards:de(e),dashboard:he(e),errorMessage:e.errorMessage,websocketConnected:e.robot.websocketConnected,getInterval:ve(e),ws:Ce(e)}},{loadConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ue(Be,{requiredFields:e})},navigate:function(e){return Ue(Qe,{pathname:e})},updateRouterState:function(e){return Ue(Ge,{state:e})},resetErrorMessage:function(){return Ue("RESET_ERROR_MESSAGE")},startWebsocket:en,stopWebsocket:function(){return Ue(Ze,{stopped:!0})},createCell:qe,sendCmd:rn,updateDashboard:Je})(pt),ht=t(73),mt=(t(1024),t(173)),bt=(t(1025),t(1029),{resultsByChannel:{},websocketConnected:!1,websocketError:null,channelsById:{},robotStatus:4});function Ct(e,n,t){var a=new DataView(e),r=(a.getInt32(0),a.getInt32(4,!0),a.getFloat64(16,!0));if(n[r])try{var o=function(e){var n,t,a,r,o,c;for(n="",a=e.length,t=0;t<a;)switch((r=e[t++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(r);break;case 12:case 13:o=e[t++],n+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[t++],c=e[t++],n+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&c)<<0)}return n}(new Uint8Array(e,40));return Object(b.a)({},JSON.parse(o),{id:r,cmd_response_time:Date.now()-r})}catch(c){console.error(c)}}var gt=Object(ht.c)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CONFIG_FETCH_REQUEST":case"CONFIG_FETCH_FAILURE":return{};case"CONFIG_FETCH_SUCCESS":return Object(b.a)({},e,n.response);case Fe:var t=n.dashboard,a=Object(b.a)({},e.interfaceRoot);return a.dashboards=Object(m.a)(a.dashboards),a.dashboards.forEach(function(e,n){e.i===t.i&&(a.dashboards[n]=Object(b.a)({},a.dashboards[n],t))}),Object(b.a)({},e,{interfaceRoot:a});case"DASHBOARD_UPDATE_SUCCESS":var r=n.dashboard,o=Object(b.a)({},e.interfaceRoot);return o.dashboards=Object(m.a)(o.dashboards),o.dashboards.forEach(function(e,n){e.i===r.i&&(o.dashboards[n]=Object(b.a)({},o.dashboards[n],r))}),Object(b.a)({},e,{interfaceRoot:o});case"CELL_CREATE_SUCCESS":var c=n.dashboardId,l=n.cell,i=Object(b.a)({},e.interfaceRoot);return i.dashboards=Object(m.a)(i.dashboards),i.dashboards.forEach(function(e,n){e.i===c&&(i.dashboards[n]=Object(b.a)({},i.dashboards[n]),i.dashboards[n].cells=[].concat(Object(m.a)(i.dashboards[n].cells),[l]))}),Object(b.a)({},e,{interfaceRoot:i});case"CELL_DELETE_SUCCESS":var s=n.dashboardId,u=n.cell,d=Object(b.a)({},e.interfaceRoot);return d.dashboards=Object(m.a)(d.dashboards),d.dashboards.forEach(function(e,n){e.i===s&&(d.dashboards[n]=Object(b.a)({},d.dashboards[n]),d.dashboards[n].cells=d.dashboards[n].cells.filter(function(e){return e.i!==u.i}))}),Object(b.a)({},e,{interfaceRoot:d});default:return e}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.error,r=n.errorType;return"RESET_ERROR_MESSAGE"===t?r?e[r]&&delete(e=Object(b.a)({},e))[r]:e={}:a&&((e=Object(b.a)({},e))[t]=a),e},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pathname:"/"},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ge:return n.state;default:return e}},robot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"WEBSOCKET_CONNECTED":return Object(b.a)({},e,{websocketConnected:!0});case"WEBSOCKET_DISCONNECTED":return Object(b.a)({},e,{websocketConnected:!1});case"WEBSOCKET_ERROR":return Object(b.a)({},e,{websocketError:n.payload});case"UPDATE_MANUAL_MOTION_VEL":return console.log(n),Object(b.a)({},e,{manualMotionVel:n.vel});case Ye:var t=n.id,a=n.channel;if(a){var r=Object(b.a)({},e.channelsById);return r[t]=a,Object(b.a)({},e,{channelsById:r})}return e;case $e:var o=n.data,c=Object(b.a)({},e.channelsById),l=Object(b.a)({},e.resultsByChannel),i=Ct(o,e.channelsById,e.model);if(i){var s=c[i.id];return delete c[i.id],s&&(l[s]=i),Object(b.a)({},e,{channelsById:c,resultsByChannel:l})}return e;case"DELETE_RESULT_BY_CHANNEL":var u=n.channel,d=Object(b.a)({},e.resultsByChannel);return delete d[u],Object(b.a)({},e,{resultsByChannel:d});default:return e}return e}}),vt=function(){return function(e){return function(n){if(void 0===performance.mark)return e(n);performance.mark("".concat(n.type,"_start"));var t=e(n);return performance.mark("".concat(n.type,"_end")),performance.measure("".concat(n.type),"".concat(n.type,"_start"),"".concat(n.type,"_end")),t}}},yt="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ht.d;var Ot=t(24),Et=t.n(Ot),jt=t(6);t(1128),t(471),t(1129);var wt=function(){return fetch("/api/config").then(function(e){return e.json().then(function(n){return{json:n,response:e}})}).then(function(e){var n=e.json;return e.response.ok?n:Promise.reject(n)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}})},xt=function(e){return n="/api/dashboards/".concat(e.i),t=e,fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(n){return{json:n,response:e}})}).then(function(e){var n=e.json;return e.response.ok?n:Promise.reject(n)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}});var n,t},kt=function(e,n){return t="/api/dashboards/".concat(e,"/cells"),a=Object(b.a)({},n),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json().then(function(n){return{json:n,response:e}})}).then(function(e){var n=e.json;return e.response.ok?n:Promise.reject(n)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}});var t,a},St=function(e,n){return t="/api/dashboards/".concat(e,"/cells/").concat(n),a={},fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json().then(function(n){return{json:n,response:e}})}).then(function(e){var n=e.json;return e.response.ok?n:Promise.reject(n)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}});var t,a},Rt=[{name:"\u624b\u52a8\u64cd\u4f5c",cells:[{type:"JogCoordinate",name:"\u624b\u52a8\u7b1b\u5361\u5c14\u5750\u6807\u7cfb",x:0,y:0,w:3,h:10},{type:"3DView",name:"\u4e09\u7ef4\u89c6\u56fe",x:3,y:1,w:6,h:8},{type:"JogJoint",name:"\u624b\u52a8\u5173\u8282\u5750\u6807\u7cfb",x:9,y:0,w:3,h:8},{type:"ManualMotionVel",name:"\u901f\u5ea6",x:3,y:0,w:6,h:2},{type:"robotstatus",name:"\u673a\u5668\u4eba\u72b6\u6001",x:9,y:8,w:3,h:2}]},{name:"\u7f16\u7a0b\u63a7\u5236",cells:[{type:"JogCoordinate",name:"\u7f16\u7a0b\u89c6\u56fe",x:0,y:0,w:6,h:10},{type:"3DView",name:"\u8fd0\u884c\u89c6\u56fe",x:6,y:0,w:6,h:10}]},{name:"\u4fe1\u606f\u76d1\u63a7",cells:[{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:3,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:9,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:6,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:3,y:6,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:6,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:9,y:6,w:3,h:4}]},{name:"\u65e5\u5fd7\u56de\u653e",cells:[{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:0,w:6,h:6},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:0,w:6,h:6},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:8,w:6,h:6},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:8,w:6,h:6}]}],Dt=t(75),_t=a,Mt=Object(Dt.a)(),Tt=Et.a.mark(Jt),Lt=Et.a.mark(Ht),Nt=Et.a.mark(Wt),At=Et.a.mark(qt),It=Et.a.mark(zt),Ut=Et.a.mark(Kt),Bt=Et.a.mark(Gt),Pt=Et.a.mark(Qt),Ft=Et.a.mark(Xt),Vt=Pe;function Jt(){var e,n,t;return Et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(jt.f)(Vt.request());case 2:return a.next=4,Object(jt.b)(_t.fetchConfig);case 4:if(e=a.sent,n=e.response,t=e.error,!n){a.next=12;break}return a.next=10,Object(jt.f)(Vt.success(n));case 10:a.next=14;break;case 12:return a.next=14,Object(jt.f)(Vt.failure(t));case 14:case"end":return a.stop()}},Tt)}function Ht(e){var n,t;return Et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.requiredFields,a.next=3,Object(jt.c)(50);case 3:return a.next=5,Object(jt.h)(on);case 5:if(t=a.sent,!Mn()(t)&&!n.some(function(e){return!t.hasOwnProperty(e)})){a.next=9;break}return a.next=9,Object(jt.b)(Jt);case 9:case"end":return a.stop()}},Lt)}function Wt(e){var n,t,a,r;return Et.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.dashboard,o.next=3,Object(jt.c)(500);case 3:return o.next=5,Object(jt.h)(pe,n.i);case 5:if(n=o.sent,console.log("updateDashboard after 200ms",n),Mn()(n)){o.next=22;break}return o.next=10,Object(jt.f)(Ve.request());case 10:return o.next=12,Object(jt.b)(_t.updateDashboard,n);case 12:if(t=o.sent,a=t.response,r=t.error,!a){o.next=20;break}return o.next=18,Object(jt.f)(Ve.success(a));case 18:o.next=22;break;case 20:return o.next=22,Object(jt.f)(Ve.failure(r));case 22:case"end":return o.stop()}},Nt)}function qt(e){var n,t,a,r,o;return Et.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.dashboardId,t=e.cell,c.next=3,Object(jt.c)(50);case 3:return c.next=5,Object(jt.f)(We.request());case 5:return c.next=7,Object(jt.b)(_t.createCell,n,t);case 7:if(a=c.sent,r=a.response,o=a.error,!r){c.next=15;break}return c.next=13,Object(jt.f)(We.success(n,r));case 13:c.next=17;break;case 15:return c.next=17,Object(jt.f)(We.failure(o));case 17:case"end":return c.stop()}},At)}function zt(e){var n,t,a,r,o;return Et.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.dashboardId,t=e.cellId,c.next=3,Object(jt.c)(50);case 3:return c.next=5,Object(jt.f)(Ke.request(n,t));case 5:return c.next=7,Object(jt.b)(_t.deleteCell,n,t);case 7:if(a=c.sent,r=a.response,o=a.error,!r){c.next=15;break}return c.next=13,Object(jt.f)(Ke.success(n,r));case 13:c.next=17;break;case 15:return c.next=17,Object(jt.f)(Ke.failure(o));case 17:case"end":return c.stop()}},It)}function Kt(){return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.j)(Fe,Wt);case 2:case"end":return e.stop()}},Ut)}function Gt(){return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.j)(He,qt);case 2:case"end":return e.stop()}},Bt)}function Qt(){return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.j)(Be,Ht);case 2:case"end":return e.stop()}},Pt)}function Xt(){return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.j)(ze,zt);case 2:case"end":return e.stop()}},Ft)}var Zt=[Object(jt.e)(Qt),Object(jt.e)(Kt),Object(jt.e)(Gt),Object(jt.e)(Xt)],Yt=Et.a.mark(oa),$t=Et.a.mark(ca),ea=Et.a.mark(la),na=Et.a.mark(ia);function ta(e,n){var t=n.split("&");if(t.length>3){var a=parseInt(t[0]),r=parseInt(t[1]),o=parseInt(t[2]),c=parseInt(t[3]),l=parseInt(t[4]),i=t[5].length,s=new ArrayBuffer(40+i),u=new DataView(s);u.setInt32(0,i,!0),u.setInt32(4,a,!0),u.setInt32(8,r,!0),u.setFloat64(16,o,!0),u.setInt32(24,c,!0),u.setInt32(32,l,!0);for(var d=0;d<i;d++)u.setUint8(40+d,t[5].charCodeAt(d));e.send(u.buffer)}}function aa(e){return new Promise(function(n,t){var a=new WebSocket(e||window.location.origin.replace("https","wss").replace("http","ws"));a.onopen=function(){a.binaryType="arraybuffer",n(a)},a.onerror=function(e){t(e)}})}function ra(e){return Object(mt.c)(function(n){e.onmessage=function(e){e.data instanceof ArrayBuffer&&n({data:e.data,type:$e})},e.onclose=function(){n(tn())},e.onerror=function(e){n(an(e.message))};return function(){e.onmessage=null,e.onerror=null}})}function oa(e){var n,t,a;return Et.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(jt.i)(Ye);case 3:n=r.sent,t=n.cmd,a=n.id,r.t0=e.readyState,r.next=r.t0===WebSocket.CONNECTING?9:r.t0===WebSocket.OPEN?10:r.t0===WebSocket.CLOSING?11:r.t0===WebSocket.CLOSED?12:13;break;case 9:return r.abrupt("break",13);case 10:"get"===t?ta(e,"0&1&"+a+"&0&0&"+t):(console.log("sendCmd",t),ta(e,"1&1&"+a+"&0&0&"+t));case 11:case 12:return r.abrupt("break",13);case 13:r.next=0;break;case 15:case"end":return r.stop()}},Yt)}function ca(e){var n;return Et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:return t.next=4,Object(jt.i)(e);case 4:return n=t.sent,t.next=7,Object(jt.f)(n);case 7:t.next=1;break;case 9:return t.prev=9,console.log("message channel closed"),t.finish(9);case 12:case"end":return t.stop()}},$t,null,[[0,,9,12]])}function la(e){return Et.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(jt.c)(5e3);case 2:return n.next=4,Object(jt.f)(en(e));case 4:case"end":return n.stop()}},ea)}function ia(){var e,n,t,a,r,o,c;return Et.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,Object(jt.i)(Xe);case 3:return a=l.sent,r=a.url,l.prev=5,l.next=8,Object(jt.b)(aa,r);case 8:return e=l.sent,l.next=11,Object(jt.b)(ra,e);case 11:return n=l.sent,l.next=14,Object(jt.f)(nn());case 14:return l.next=16,Object(jt.g)({internal:Object(jt.b)(oa,e),external:Object(jt.b)(ca,n),cancel:Object(jt.i)(Ze)});case 16:o=l.sent,c=o.cancel,t=c,l.next=26;break;case 21:return l.prev=21,l.t0=l.catch(5),console.log(l.t0),l.next=26,Object(jt.f)(an(l.t0.message));case 26:return l.prev=26,e&&(e.close(),e=null),l.next=30,Object(jt.f)(tn());case 30:if(n&&(n.close(),n=null),t){l.next=34;break}return l.next=34,Object(jt.e)(la,r);case 34:return l.finish(26);case 35:l.next=0;break;case 37:case"end":return l.stop()}},na,null,[[5,21,26,35]])}var sa=[Object(jt.e)(ia)],ua=Et.a.mark(pa),da=Et.a.mark(fa);function pa(){var e,n;return Et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(jt.i)(Qe);case 3:return e=t.sent,n=e.pathname,t.next=7,Mt.push(n);case 7:t.next=0;break;case 9:case"end":return t.stop()}},ua)}function fa(){return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.a)([].concat(Object(m.a)(Zt),Object(m.a)(sa),[Object(jt.e)(pa)]));case 2:case"end":return e.stop()}},da)}t(1131);var ha=function(e){var n=Object(mt.b)(),t=Object(ht.e)(gt,e,yt(Object(ht.a)(n,vt)));return t.runSaga=n.run,t.close=function(){return t.dispatch(mt.a)},t}();ha.runSaga(fa),Object(c.render)(o.a.createElement(i.a,{store:ha},o.a.createElement(v.a,{prefixCls:"rchmi"},o.a.createElement(l.b,{history:Mt},o.a.createElement(l.a,{path:"/",component:ft})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},496:function(e,n,t){e.exports=t(1132)}},[[496,1,2]]]);
//# sourceMappingURL=main.19f855ea.chunk.js.map