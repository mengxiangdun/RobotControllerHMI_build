(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1124:function(e,t,n){},1125:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchConfig",function(){return On}),n.d(a,"updateDashboard",function(){return En}),n.d(a,"createCell",function(){return jn}),n.d(a,"deleteCell",function(){return wn}),n.d(a,"defaultDashboards",function(){return xn});var r=n(1),o=n.n(r),c=n(17);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(95),i=n(28),s=n(12),u=n(19),d=n(15),p=n(13),f=n(27),h=n(14),m=n(50),b=n(10),C=n(478),g=n(8),v=n.n(g),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var t=e.getPrefixCls,a=n.props,r=(a.dashboard,t("dashboard-empty",a.prefixCls));return o.a.createElement("div",{className:"".concat(r)},"\u5f53\u524d\u9762\u677f\u6ca1\u6709\u4efb\u4f55\u529f\u80fd\u5355\u5143")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderDashboard)}}]),t}(r.Component),O=n(290),E=n.n(O),j=n(137),w=n.n(j),x=n(480),k=n.n(x),S=n(26),R=n.n(S),D=w.a.Item,M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleEditCell=function(){(0,n.props.onEdit)()},n.handleDeleteCell=function(){var e=n.props;(0,e.onDelete)(e.cell.i)},n.handleCloneCell=function(){var e=n.props,t=e.onClone,a=e.cell;(a=Object(b.a)({},a)).y=a.y+1,t(a)},n.editMenu=function(e){var t=Object(f.a)(n),a=o.a.createElement(w.a,{onClick:function(e){switch(e.key){case"configure":t.handleEditCell();break;case"clone":t.handleCloneCell();break;case"delete":t.handleDeleteCell()}}},o.a.createElement(D,{key:"configure"},"Configure"),o.a.createElement(D,{key:"clone"},"Clone"),o.a.createElement(D,{key:"delete"},"Delete"));return o.a.createElement(k.a,{overlay:a,trigger:["click"],placement:"bottomRight",className:"".concat(e,"--button"),overlayClassName:"".concat(e,"--dropdown-menu"),getPopupContainer:t.props.getPopupContainer},o.a.createElement(R.a,{type:"edit"}))},n.renderMenu=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls;if(a.isEditable){var c=t("layout-cell-context",r);return o.a.createElement("div",{className:"".concat(c)},n.editMenu(c))}},n.state={subMenuIsOpen:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderMenu)}}]),t}(r.Component),T=n(11),_=n.n(T),L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).renderLayoutCellHeader=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.isEditable,l=t("layout-cell-header",r),i=t("layout-cell",r),s="".concat(i,"--draggable"),u="".concat(l,"--draggable"),d={};return d[s]=c,d[u]=c,o.a.createElement("div",{className:_()("".concat(l),Object(b.a)({},d))},n.cellName(l),n.headingBar(l))},n.cellName=function(e){var t=n.props.cellName,a={};a["".concat(e,"-name__default")]=!t||""===t.trim();var r=_()("".concat(e,"-name"),Object(b.a)({},a));return o.a.createElement("span",{className:r},t||"\u672a\u547d\u540d")},n.headingBar=function(e){if(n.props.isEditable)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(e,"--header-bar")}),o.a.createElement("div",{className:"".concat(e,"--header-dragger")}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderLayoutCellHeader)}}]),t}(r.Component),A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLayoutCell=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.isEditable,l=a.cell,i=a.onCloneCell,s=a.onCellUpdate,u=a.onDeleteCell,d=a.toggleVisType,p=a.children,h=Object(f.a)(n),m=t("layout-cell",r);return o.a.createElement("div",{className:"".concat(m),ref:function(e){h.container=e}},o.a.createElement(M,{cell:l,isEditable:c,dataExists:!1,onClone:i,onDelete:u,onCellUpdate:s,toggleVisType:d,visType:"",getPopupContainer:function(){return h.container}}),o.a.createElement(L,{cellName:l.name,isEditable:c}),o.a.createElement("div",{className:"".concat(m,"-body")},p))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log("LayoutCell render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLayoutCell)}}]),t}(r.Component),I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderCommandButton=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,t("command-button",r));return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(R.a,{type:"deployment-unit",style:{fontSize:50}}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderCommandButton)}}]),t}(r.Component),N=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,t("logger",r));return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(R.a,{type:"area-chart",style:{fontSize:50}}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component),U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.cell,l=t("unknown-cell-type",r);return o.a.createElement("div",{className:"".concat(l)},o.a.createElement("div",null,"\u4e0d\u652f\u6301\u7684\u7ec4\u4ef6\u7c7b ",c.type))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component),P=n(291),B=n.n(P),F=n(481),J=n.n(F),V=n(43),H=n(208),W=n.n(H),q=n(213),z=n.n(q),K=n(48),G=n.n(K),Q=Object(V.b)(W.a,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e+"-"+JSON.stringify(t)},"")}),Z=function(e,t){return e.robot.resultsByChannel[t.cell.i]},X=function(e,t){return e.robot.resultsByChannel[t]},Y=(Q(Z,function(e){return e}),Q(X,function(e){return e})),$=Q(function(e){return Object.keys(e.robot.resultsByChannel)},function(e){return e}),ee=function(e,t,n){var a=X(e,t);if(a&&a[n])return z()(a[n])?[new Date(a.id),[a[n]]]:[new Date(a.id),a[n]]},te=function(e){return e.robot.manualMotionVel},ne=(Object(V.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.ai},function(e){return e}),Object(V.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.di},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pe},function(e){return e})),ae=(Object(V.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pq},function(e){return e}),Object(V.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_acc},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_pos},function(e){return e})),re=Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_state},function(e){return e}),oe=(Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_toq},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.part_pq},function(e){return e})),ce=Q(oe,function(e){return e&&e.join("&")}),le=Object(V.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_al_state},function(e){return e}),ie=(Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_link_num},function(e){return e}),Q(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_online_state},function(e){return e})),se=function(e){return e.router.pathname},ue=Object(V.a)(function(e){return e.config.interfaceRoot},function(e){return e&&e.dashboards}),de=Object(V.a)(ue,function(e){return e&&e.map(function(e){return{name:e.name,i:e.i,editable:e.editable}})}),pe=function(e,t){var n=ue(e);if(n)return n.filter(function(e){return e.i===t})[0]},fe=Object(V.a)(ue,se,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a}return e&&e[0]}),he=(Object(V.a)(de,se,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a.i}return e&&e[0].i}),Object(V.a)(de,se,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a}return e&&e[0]})),me=function(e){return e.config.xml},be=function(e){return e.robot.websocketConnected},Ce=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.ws&&t.interfaceRoot.ws.url},ge=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.ws&&t.interfaceRoot.ws.commandSendInterval},ve=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.ws&&t.interfaceRoot.ws.getInterval},ye=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.ws&&t.interfaceRoot.ws.commandSendDelay},Oe=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.ws&&t.interfaceRoot.ws.unityUpdateInterval},Ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,t("view3d",r));return o.a.createElement("div",{className:"".concat(c),ref:function(e){return n.container=e}},o.a.createElement(B.a,{unityContent:n.unityContent}))},n.unityContent=new P.UnityContent("/unity/8.json","/unity/UnityLoader.js"),n.state={},n.unityContent.on("progress",function(e){n.setState({progression:e}),1===e&&(n.unityContent.send("empt","GetUrlFromJs",window.location.origin+"/"),n.unityContent.send("empt","GetRobotXmlFromJS",n.props.xml),n.unityContent.send("empt","SetCameraBackGround","0&0&0"),n.unityContent.send("empt","SetFPS","20"))}),console.log("unityUpdateInterval",n.props.unityUpdateInterval),n.throttleSend=J()(n.unityContent.send.bind(n.unityContent),n.props.unityUpdateInterval),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.unityContent.remove("progress")}},{key:"shouldComponentUpdate",value:function(e,t,n){var a=this;return e.xml!==this.props.xml&&1===this.state.progression&&this.unityContent.send("empt","GetRobotXmlFromJS",e.xml),e.partPQ!==this.props.partPQ&&e.partPQ&&1===this.state.progression&&setTimeout(function(){a.throttleSend("empt","ReceiveDataFromJs",e.partPQ)},0),!1}},{key:"unityProgress",value:function(e,t){e.Module&&this.setState({progress:e.progress})}},{key:"componentDidMount",value:function(){console.error("View3D componentDidMount()")}},{key:"render",value:function(){return console.error("View3D render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component);var je=Object(i.b)(function(e){return{xml:me(e),partPQ:ce(e),unityUpdateInterval:Oe(e)}})(Ee),we=n(0),xe=n.n(we),ke=n(214),Se=n.n(ke),Re=n(80),De=n.n(Re),Me=n(62),Te=n.n(Me),_e=n(70),Le=n.n(_e),Ae=n(167),Ie=n.n(Ae),Ne=Date.now();function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(b.a)({type:e},t)}var Pe="LOAD_CONFIG",Be={request:function(){return Ue("CONFIG_FETCH_REQUEST",{})},success:function(e){return Ue("CONFIG_FETCH_SUCCESS",{response:e})},failure:function(e){return Ue("CONFIG_FETCH_FAILURE",{error:e})}},Fe="UPDATE_DASHBOARD",Je={request:function(e){return Ue("DASHBOARD_UPDATE_REQUEST",{dashboard:e})},success:function(e){return Ue("DASHBOARD_UPDATE_SUCCESS",{dashboard:e})},failure:function(e){return Ue("DASHBOARD_UPDATE_FAILURE",{error:e})}},Ve=function(e){return Ue(Fe,{dashboard:e})},He="CREATE_CELL",We={request:function(e){return Ue("CELL_CREATE_REQUEST",{dashboardId:e})},success:function(e,t){return Ue("CELL_CREATE_SUCCESS",{dashboardId:e,cell:t})},failure:function(e){return Ue("CELL_CREATE_FAILURE",{error:e})}},qe=function(e,t){return Ue(He,{dashboardId:e,cell:t})},ze="DELETE_CELL",Ke={request:function(e,t){return Ue("CELL_DELETE_REQUEST",{dashboardId:e,cellId:t})},success:function(e,t){return Ue("CELL_DELETE_SUCCESS",{dashboardId:e,cell:t})},failure:function(e){return Ue("CELL_DELETE_FAILURE",{error:e})}},Ge="UPDATE_ROUTER_STATE",Qe="NAVIGATE",Ze="START_WEBSOCKET",Xe="STOP_WEBSOCKET",Ye="SEND_CMD",$e="CMD_RESPONSE",et=function(e){return Ue(Ze,{url:e})},tt=function(){return Ue("WEBSOCKET_CONNECTED")},nt=function(){return Ue("WEBSOCKET_DISCONNECTED")},at=function(e){return Ue("WEBSOCKET_ERROR",{error:e})},rt=function(e,t){var n=Date.now();return n<=Ne?Ne+=1:Ne=n,Ue(Ye,{cmd:e,id:Ne,channel:t})},ot=function(e){return e.config},ct=function(e){var t=e.robot;return t.resultsByChannel&&t.resultsByChannel.get&&t.resultsByChannel.get.state_code},lt=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.layoutConfig&&t.interfaceRoot.layoutConfig.cols},it=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.layoutConfig&&t.interfaceRoot.layoutConfig.rowHeight},st=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.layoutConfig&&t.interfaceRoot.layoutConfig.margin},ut=function(e){var t=e.config;return t.interfaceRoot&&t.interfaceRoot.layoutConfig&&t.interfaceRoot.layoutConfig.containerPadding},dt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).interval=null,n.timeout=null,n.sendCmd=function(e,t){var a=n.props,r=a.sendCmd,o=a.cell;r(e,t||o.i)},n.getSendCmdFn=function(e,t){return function(){n.sendCmd(e,t)}.bind(Object(f.a)(n))},n.getOnMouseDownFn=function(e,t){return function(){n.interval&&clearInterval(n.interval);var a=n.props,r=a.commandSendInterval,o=a.commandSendDelay,c=n.sendCmd.bind(Object(f.a)(n),e,t),l=Object(f.a)(n);l.timeout=setTimeout(function(){l.interval=setInterval(c,r)},o)}.bind(Object(f.a)(n))},n.getOnMouseUpFn=function(){return function(){n.timeout&&clearTimeout(n.timeout),n.interval&&clearInterval(n.interval)}.bind(Object(f.a)(n))},n.getOptions=function(){var e=n.props.cell;return e.options&&0!==e.options.length?e.options.reduce(function(e,t){return e[t.name]=t.value,e},{}):{}},n.updateOptions=function(e){var t=Object(b.a)({},n.props.cell);t.options=Object.keys(e).map(function(t){return{name:t,value:e[t].toString()}}),n.props.onCellUpdate(t)},n.renderContent=function(){throw new Error("renderComponent not implemented")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("CellBase Mount()")}},{key:"render",value:function(){return console.log("CellBase render()"),o.a.createElement(g.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),pt=Te.a.Option,ft=Se.a.Group,ht=(Ie.a.Group,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={mCoordinateRadio:0,mCoordinate:0},n.renderJogCoordinate=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.endPE,l=a.cell,i=t("jog-coordinate",r),s={display:"block",height:"30px",lineHeight:"30px"},u=["x","y","z","rx","ry","rz"];return o.a.createElement("div",{className:"".concat(i)},o.a.createElement(De.a,null,o.a.createElement(ft,{onChange:n.onMCoordinateChange.bind(Object(f.a)(n)),value:n.state.mCoordinateRadio},o.a.createElement(Se.a,{style:s,value:0},"\u4e16\u754c\u5750\u6807\u7cfb"),o.a.createElement(Se.a,{style:s,value:1},o.a.createElement(Te.a,{onChange:n.handleSelectChange.bind(Object(f.a)(n)),value:n.state.mCoordinate?n.state.mCoordinate:1,disabled:!n.state.mCoordinate},o.a.createElement(pt,{value:1},"\u672b\u7aef\u5750\u6807\u7cfb 1"),o.a.createElement(pt,{value:2},"\u672b\u7aef\u5750\u6807\u7cfb 2"))))),["X","Y","Z","RX","RY","RZ"].map(function(e,t){return o.a.createElement(De.a,{key:e},o.a.createElement(Le.a,{type:"primary",size:"large",onClick:function(){n.getSendCmdFn("j".concat(u[t]," --vel_percent=").concat(n.props.vel," --direction=-1 --cor=").concat(n.state.mCoordinate," "),l.i)()},onMouseDown:function(){n.getOnMouseDownFn("j".concat(u[t]," --vel_percent=").concat(n.props.vel," --direction=-1 --cor=").concat(n.state.mCoordinate," "),l.i)()},onMouseUp:function(){n.getOnMouseUpFn()()}},e,"-"),o.a.createElement(Le.a,{type:"primary",size:"large",onMouseDown:function(){n.getOnMouseDownFn("j".concat(u[t]," --vel_percent=").concat(n.props.vel," --direction=1 --cor=").concat(n.state.mCoordinate," "),l.i)()},onMouseUp:function(){n.getOnMouseUpFn()()}},e,"+"))}),o.a.createElement(De.a,{className:"".concat(i,"-end_pe")},o.a.createElement("div",null,o.a.createElement("span",null,"X"),o.a.createElement("span",null,c&&(c[0]||0===c[0])?c[0].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"Y"),o.a.createElement("span",null,c&&(c[1]||0===c[1])?c[1].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"Z"),o.a.createElement("span",null,c&&(c[2]||0===c[2])?c[2].toFixed(3):"null"))),o.a.createElement(De.a,{className:"".concat(i,"-end_pe")},o.a.createElement("div",null,o.a.createElement("span",null,"RX"),o.a.createElement("span",null,c&&(c[3]||0===c[3])?c[3].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"RY"),o.a.createElement("span",null,c&&(c[4]||0===c[4])?c[4].toFixed(3):"null")),o.a.createElement("div",null,o.a.createElement("span",null,"RZ"),o.a.createElement("span",null,c&&(c[5]||0===c[5])?c[5].toFixed(3):"null"))))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onMCoordinateChange",value:function(e){var t=this.state.mCoordinate;0===e.target.value?t=0:0===t&&(t=e.target.value),this.setState({mCoordinateRadio:e.target.value,mCoordinate:t})}},{key:"handleSelectChange",value:function(e){this.setState({mCoordinate:e})}},{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogCoordinate)}}]),t}(dt));ht.propTypes={cell:xe.a.object.isRequired,sendCmd:xe.a.func.isRequired,vel:xe.a.number,endPE:xe.a.array};var mt=Object(i.b)(function(e){return{vel:te(e),endPE:ne(e)}},{sendCmd:rt})(ht),bt=function(e){return o.a.createElement("svg",Object.assign({width:"90px",height:"76px",viewBox:"0 0 90 76",version:"1.1"},e),o.a.createElement("rect",{fillRule:"nonzero",x:"0",y:"55.243",width:"18.306",height:"20.204"}),o.a.createElement("rect",{fillRule:"nonzero",x:"23.711",y:"37.304",width:"18.493",height:"38.143"}),o.a.createElement("rect",{fillRule:"nonzero",x:"47.609",y:"18.929",width:"18.493",height:"56.518"}),o.a.createElement("rect",{fillRule:"nonzero",x:"71.507",y:"0.38",width:"18.493",height:"75.067"}))},Ct=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.cell,l=a.slaveOnlineState,i=a.slaveAlState,s=a.motionState,u=a.motionPos,d=t("jog-joint",r);return o.a.createElement("div",{className:"".concat(d)},[0,1,2,3,4,5].map(function(e){return o.a.createElement(De.a,{key:e},o.a.createElement(Le.a,{type:"primary",size:"large",onMouseDown:function(){n.getOnMouseDownFn("j".concat(e+1," --direction=-1 --vel_percent=").concat(n.props.vel),c.i)()},onMouseUp:function(){n.getOnMouseUpFn()()}},"J",e+1,"-"),o.a.createElement("div",{className:"".concat(d,"-status")},o.a.createElement("span",null,u&&(u[e]||0===u[e])?u[e].toFixed(3):"null"),o.a.createElement("div",{className:"".concat(d,"-status-icons")},o.a.createElement(R.a,{component:bt,className:"".concat(l&&l[e]?"".concat(d,"-slave-online-state ").concat(d,"-slave-online-state-").concat(i&&i[e]):"".concat(d,"-slave-online-state disabled"))}),!(!s||!s[e])&&o.a.createElement(R.a,{type:"check-circle",theme:"filled",className:"success"}),!(s&&s[e])&&o.a.createElement(R.a,{type:"check-circle",theme:"filled",className:"disabled"}))),o.a.createElement(Le.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("j".concat(e+1," --direction=1 --vel_percent=").concat(n.props.vel),c.i)},onMouseDown:function(){n.getOnMouseDownFn("j".concat(e+1," --direction=1 --vel_percent=").concat(n.props.vel),c.i)()},onMouseUp:function(){n.getOnMouseUpFn()()}},"J",e+1,"+"))}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),t}(dt);Ct.propTypes={cell:xe.a.object.isRequired,sendCmd:xe.a.func.isRequired,vel:xe.a.number,motionPos:xe.a.array,slaveOnlineState:xe.a.array};var gt=Object(i.b)(function(e){return{vel:te(e),motionPos:ae(e),motionState:re(e),slaveOnlineState:ie(e),slaveAlState:le(e)}},{sendCmd:rt})(Ct),vt=n(482),yt=n.n(vt),Ot=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getVelOption=function(){var e=n.props.cell;if(e.options){var t=e.options.filter(function(e){return"manualMotionVel"===e.name});if(t.length>0)try{return parseFloat(t[0].value)}catch(a){console.error(a)}}},n.renderManualMotionVel=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,t("manual-motion-vel",r)),l=n.getVelOption();return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(yt.a,{tooltipVisible:!0,min:0,max:100,tipFormatter:function(e){return"".concat(e,"%")},value:n.props.vel||l,onChange:function(e){n.props.updateManualMotionVel(e);var t=Object(b.a)({},n.props.cell);if(t.options&&0!==t.options.length){t.options=Object(m.a)(t.options);var a=!1;t.options.forEach(function(n,r){"manualMotionVel"===n.name&&(t.options[r]={name:"manualMotionVel",value:"".concat(e)},a=!0)}),a||t.options.push({name:"manualMotionVel",value:"".concat(e)})}else t.options=[{name:"manualMotionVel",value:"".concat(e)}];console.log(t),n.props.onCellUpdate(t)},getTooltipPopupContainer:function(){return document.getElementById("dashboard")}}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.vel,n=e.updateManualMotionVel,a=this.getVelOption();!a&&0!==a||t||n(a)}},{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderManualMotionVel)}}]),t}(r.Component);var Et=Object(i.b)(function(e){return{vel:e.robot.manualMotionVel}},{updateManualMotionVel:function(e){return Ue("UPDATE_MANUAL_MOTION_VEL",{vel:e})}})(Ot),jt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,a.websocketConnected),l=a.stateCode;l||(l=100);console.log("robot state code",l);var i={100:"#AAAAAA",200:"#FF851B",300:"#FF4136",400:"#0074D9",500:"#01FF70"}[l],s={100:"\u53bb\u4f7f\u80fd",200:"\u624b\u52a8",300:"\u51c6\u5907\u81ea\u52a8",400:"\u81ea\u52a8",500:"\u9519\u8bef\u505c\u76ee"}[l],u=t("robot-status",r);return o.a.createElement("div",{className:"".concat(u)},o.a.createElement("div",null,!!c&&o.a.createElement(R.a,{type:"wifi",className:"success"}),!!c&&o.a.createElement("span",null,"\u5df2\u8fde\u63a5"),!c&&o.a.createElement(R.a,{type:"wifi",className:"danger"}),!c&&o.a.createElement("span",null,"\u672a\u8fde\u63a5")),o.a.createElement("div",null,o.a.createElement(R.a,{style:{color:i,fill:i},fill:i,type:"check-circle",className:"info",theme:"filled"}),o.a.createElement("span",null,s||"\u65e0\u72b6\u6001")))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component);var wt=Object(i.b)(function(e){return{stateCode:ct(e),websocketConnected:be(e)}})(jt),xt=n(288),kt=n.n(xt),St=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,a.robotStatus);console.log("robot status",c);Math.floor(c),Math.floor(c);var l=t("manual-switch",r);return o.a.createElement("div",{className:"".concat(l)},o.a.createElement("div",null,o.a.createElement(kt.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0}),o.a.createElement("span",null,"\u4f7f\u80fd")),o.a.createElement("div",null,o.a.createElement(R.a,{type:"drag"}),o.a.createElement("span",null,"\u6258\u52a8")),o.a.createElement("div",null,o.a.createElement(R.a,{type:"pushpin"}),o.a.createElement("span",null,"\u4fdd\u5b58\u70b9")),o.a.createElement("div",null,o.a.createElement(R.a,{type:"save"}),o.a.createElement("span",null,"\u4fdd\u5b58\u8f68\u8ff9")))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component);var Rt=Object(i.b)(function(e){return{robotStatus:e.robot.robotStatus}})(St),Dt=(n(238),n(483)),Mt=n.n(Dt),Tt=(n(665),n(667),n(668),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){console.log("change",e)},n.renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,t("code-editor",r));return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(Mt.a,{mode:"javascript",theme:"monokai",width:"100%",height:"100%",value:'\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\n    ',onChange:n.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(g.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component));var _t=Object(i.b)(function(e){return{robotStatus:e.robot.robotStatus}})(Tt),Lt=n(484),At=n.n(Lt),It=Ie.a.TextArea,Nt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).interval=null,n.timeout=null,n.getSendCmdFn=function(){return function(){var e=n.props,t=e.sendCmd,a=e.cell,r=n.getOptions();r.command&&r.command.split("\n").forEach(function(e){(e=e.trim())&&(t(e,a.i),n.terminal.runCommandOnActive("showCmd "+e))})}.bind(Object(f.a)(n))},n.getOnMouseDownFn=function(){return function(){n.interval&&clearInterval(n.interval);var e=n.getSendCmdFn(),t=Object(f.a)(n),a=n.props,r=a.commandSendInterval,o=a.commandSendDelay;t.timeout=setTimeout(function(){t.interval=setInterval(e,r)},o)}.bind(Object(f.a)(n))},n.getOnMouseUpFn=function(){return function(){n.interval&&clearInterval(n.interval),n.timeout&&clearTimeout(n.timeout)}.bind(Object(f.a)(n))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,a.results,n.getOptions()),l=t("debugger",r),i=Object(f.a)(n);return o.a.createElement("div",{className:"".concat(l)},o.a.createElement(De.a,null,o.a.createElement(It,{rows:2,value:c.command,onChange:function(e){n.updateOptions({command:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u4e00\u884c\u673a\u5668\u4eba\u6307\u4ee4"}),o.a.createElement(Le.a,{onClick:n.getSendCmdFn(),onMouseDown:n.getOnMouseDownFn(),onMouseUp:n.getOnMouseUpFn(),type:"primary",shape:"round",icon:"play-circle",size:"large"},"Send"),o.a.createElement("div",{className:"".concat(l,"-terminal")},o.a.createElement(At.a,{color:"green",backgroundColor:"black",barColor:"black",hideTopBar:!0,allowTabs:!1,commands:{showCmd:function(e,t,n){if(e[1])t(e.slice(1).join(" "));else{var a=i.getOptions();a.command&&t(a.command)}},send:function(e,t,n){i.props.sendCmd(e[1],i.props.cell.i)},showResult:function(e,t,a){t(JSON.stringify(n.result))}},descriptions:{send:'\u53d1\u9001\u6307\u4ee4\u7ed9\u673a\u5668\u4eba, "send [\u673a\u5668\u4eba\u6307\u4ee4]", \u4f8b\u5982 "send get"',showResult:"\u663e\u793a\u6700\u8fd1\u4e00\u6761\u8fd4\u56de\u503c",showCmd:"\u663e\u793a\u5f53\u524d\u6307\u4ee4\u503c"},ref:function(e){return n.terminal=e}}))))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return e.result!==this.props.result&&(this.result=e.result,this.terminal.runCommandOnActive("showResult")),e.cell!==this.props.cell||e.result!==this.props.result}}]),t}(dt);Nt.propTypes={results:xe.a.array.isRequired};var Ut=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=[];return Object(V.a)(Z,function(n){n&&t.push(n);var a=t.length;return a>e&&t.splice(0,a-e),t})}(10);return function(t,n){return{results:e(t,n),result:X(t,n.cell.i)}}})(Nt),Pt=n(488),Bt=n.n(Pt),Ft=(n(345),Te.a.Option,function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("RealtimeChartChannelAndDataKey componentDidMount")}},{key:"render",value:function(){var e=this.props,t=e.dataKey,n=e.channel,a=e.data,c=(e.options,null);return a&&a.length>0&&(c={title:{text:n+" "+t},xAxis:{splitLine:{show:!1},type:"category",data:a.map(function(e){return e[0]})},yAxis:{splitLine:{show:!1},type:"value"},series:a[0][1].map(function(e,n){return{name:"".concat(t).concat(n),data:a.map(function(e){return e[1][n]}),symbol:"none",type:"line"}})}),console.log(c),o.a.createElement(r.Fragment,null,c&&o.a.createElement(Bt.a,{option:c,notMerge:!0,lazyUpdate:!0}))}}]),t}(r.Component)),Jt=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=[];return Q(ee,function(n){console.log(n),n&&t.push(n);var a=t.length;return a>e&&t.splice(0,a-e),[].concat(t)})}();return function(t,n){return{data:e(t,n.channel,n.dataKey)}}})(Ft),Vt=Te.a.Option,Ht=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSelect=function(e){var t=n.props,a=t.options;(0,t.updateOptions)(Object(b.a)({},a,{dataKey:e}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("RealtimeChartChannel componentDidMount")}},{key:"render",value:function(){console.log("RealtimeChartChannel render");var e=this.props,t=e.dataKeys,n=e.options,a=e.updateOptions,c=e.channel,l=e.prefixCls,i="";return t&&-1!==t.indexOf(n.dataKey)&&(i=n.dataKey),o.a.createElement(r.Fragment,null,!!(t&&t.length>0)&&o.a.createElement(Te.a,{style:{width:"100%"},size:"small",onSelect:this.handleSelect,value:i,placeholder:"\u9009\u62e9DataKey"},t.map(function(e){return o.a.createElement(Vt,{key:e,value:e},e.toUpperCase())})),!!(t&&t.length>0&&i)&&o.a.createElement(Jt,{key:(c+i).replace(" ","_"),dataKey:i,channel:c,updateOptions:a,options:n,prefixCls:l}))}}]),t}(r.Component),Wt=Object(i.b)(function(){var e=function(){var e=Object(V.a)(Y,function(e){if(e)return Object.keys(e).filter(function(t){return!!z()(e[t])||!(!G()(e[t])||!z()(e[t][0]))||void 0})});return Q(e,function(e){return e})}();return function(t,n){return{dataKeys:e(t,n.channel)}}})(Ht),qt=Te.a.Option,zt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=n.getOptions();n.updateOptions(Object(b.a)({},t,{channel:e}))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=(a.cell,a.channels),l=n.getOptions(),i=t("realtime-chart",r),s=(Object(f.a)(n),"");return c&&-1!==c.indexOf(l.channel)&&(s=l.channel),o.a.createElement("div",{className:"".concat(i," ").concat(!(c&&c.length>0)&&i+"-no-data")},!(c&&c.length>0)&&o.a.createElement("span",null,"\u65e0\u5b9e\u65f6\u6570\u636e"),!!(c&&c.length>0)&&o.a.createElement(Te.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9DataKey",onSelect:n.handleChange,value:s},c.map(function(e){return o.a.createElement(qt,{key:e,value:e},e.toUpperCase())})),!!(c&&c.length>0&&l.channel)&&o.a.createElement(Wt,{key:l.channel,channel:l.channel,options:l,updateOptions:n.updateOptions,prefixCls:i}))},n}return Object(h.a)(t,e),t}(dt);zt.propTypes={channels:xe.a.array.isRequired};var Kt={RealtimeChart:Object(i.b)(function(){return function(e,t){return{channels:$(e)}}})(zt),Debugger:Ut,CodeEditor:_t,CommandButton:I,Logger:N,View3D:je,"3DView":je,JogCoordinate:mt,JogJoint:gt,ManualMotionVel:Et,RobotStatus:wt,ManualSwitch:Rt,Unknown:U},Gt=Kt.Unknown,Qt=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleVisType=function(){},n.renderLayout=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.isEditable,l=a.cell,i=a.onCloneCell,s=a.onDeleteCell,u=a.sendCmd,d=a.onCellUpdate,p=t("layout",r);return o.a.createElement(A,{cell:l,onCellUpdate:d,onDeleteCell:s,sendCmd:u,onCloneCell:i,toggleVisType:n.toggleVisType.bind(Object(f.a)(n)),isEditable:c},n.renderLayoutBody(p))},n.cellByTypes={};var a=Object(f.a)(n);return Object.keys(Kt).forEach(function(e){a.cellByTypes[e.toLowerCase()]=Kt[e]}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.error("Layout componentDidMount")}},{key:"renderLayoutBody",value:function(e){var t=this.props,n=t.cell,a=t.onCellUpdate,r=t.sendCmd,c=t.commandSendInterval,l=t.commandSendDelay;if(n.type&&this.cellByTypes[n.type.toLowerCase()]){var i=this.cellByTypes[n.type.toLowerCase()];return o.a.createElement(i,{cell:n,onCellUpdate:a,sendCmd:r,commandSendInterval:c,commandSendDelay:l})}return o.a.createElement(Gt,{cell:n,onCellUpdate:a,sendCmd:r})}},{key:"render",value:function(){return console.log("Layout render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLayout)}}]),t}(r.Component);var Zt=Object(i.b)(function(e,t){return{commandSendInterval:ge(e),commandSendDelay:ye(e)}})(Qt),Xt=Object(O.WidthProvider)(E.a),Yt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLayoutChange=function(e){if(n.props.onPositionChange){var t=Object(f.a)(n),a=!1,r=t.props.cells.map(function(t){var n=e.find(function(e){return e.i==t.i});if(n){t.x===n.x&&t.y===n.y&&t.h===n.h&&t.w===n.w||(a=!0);var r={x:n.x,y:n.y,h:n.h,w:n.w};return Object(b.a)({},t,r)}});a&&n.props.onPositionChange(r)}},n.renderLayoutRender=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,c=a.cells,l=a.onZoom,i=a.isEditable,s=a.onDeleteCell,u=a.onCloneCell,d=a.sendCmd,p=a.onCellUpdate,f=a.layoutCols,h=a.layoutMargin,m=a.layoutContainerPadding,b=a.layoutRowHeight,C=a.windowHeight,g=t("layout-renderer",r),v=".".concat(t("layout-cell",r),"--draggable"),y=Math.floor((C-40)/b);y<=0&&(y=1);var O=Math.floor((C-40)/y);return O<b&&(O=b),o.a.createElement("div",{className:"".concat(g," ").concat(i?"editable":"")},o.a.createElement(Xt,{layout:c,cols:f,rowHeight:O,margin:[h,h],containerPadding:[m,m],useCSSTransforms:!1,onLayoutChange:n.handleLayoutChange,draggableHandle:v,isDraggable:!0,isResizable:!0},c.map(function(e){return o.a.createElement("div",{key:e.i,className:i?"editable":""},o.a.createElement(Zt,{cell:e,onDeleteCell:s,onCloneCell:u,onCellUpdate:p,onZoom:l,sendCmd:d,isEditable:i}))})))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.error("LayoutRenderer componentDidMount")}},{key:"render",value:function(){return console.log("LayoutRenderer render()"),o.a.createElement(g.ConfigConsumer,null,this.renderLayoutRender)}}]),t}(r.Component),$t=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var t=e.getPrefixCls,a=n.props,r=a.dashboard,c=a.prefixCls,l=a.onZoom,i=a.onCloneCell,s=a.onDeleteCell,u=a.onPositionChange,d=a.sendCmd,p=a.onCellUpdate,f=a.layoutCols,h=a.layoutRowHeight,m=a.layoutMargin,b=a.layoutContainerPadding,C=a.size,g=C.width,v=C.height,O=t("dashboard",c);return o.a.createElement("div",{className:"".concat(O),id:"dashboard"},r.cells&&r.cells.length?o.a.createElement(Yt,{layoutCols:f,layoutRowHeight:h,windowWidth:g,windowHeight:v,layoutMargin:m,layoutContainerPadding:b,cells:r.cells,templates:[],manualRefresh:10,onCellUpdate:p,isEditable:!!r.editable,onZoom:l,sendCmd:d,onCloneCell:i,onDeleteCell:s,onPositionChange:u}):o.a.createElement(y,{dashboard:r,onAddCell:function(){}}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log("Dashboard render()"),o.a.createElement(g.ConfigConsumer,null,this.renderDashboard)}}]),t}(r.Component),en=Object(C.withSize)({monitorHeight:!0})($t),tn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onPositionChange=function(e){var t=n.props,a=t.dashboard;(0,t.updateDashboard)(a=Object(b.a)({},a,{cells:Object(m.a)(e)}))},n.onCellUpdate=function(e){var t=n.props,a=t.dashboard,r=t.updateDashboard,o=Object(m.a)(a.cells);o.forEach(function(t,n){e.i===t.i&&(o[n]=Object(b.a)({},e))}),r(a=Object(b.a)({},a,{cells:o}))},n.onAddCell=function(e){console.log(e),delete(e=Object(b.a)({},e)).i,n.props.createCell(n.props.dashboard.i,e)},n.onDeleteCell=function(e){n.props.deleteCell(n.props.dashboard.i,e)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){console.log("DashboardPage render()");var e=this.props,t=e.dashboard,n=(e.cells,e.layoutCols),a=e.layoutRowHeight,r=e.layoutMargin,c=e.layoutContainerPadding,l=e.sendCmd;return o.a.createElement(en,{dashboard:t,layoutCols:n,layoutRowHeight:a,layoutMargin:r,layoutContainerPadding:c,inPresentationMode:!1,onPositionChange:this.onPositionChange,onCellUpdate:this.onCellUpdate,onDeleteCell:this.onDeleteCell,onCloneCell:this.onAddCell,onAddCell:this.onAddCell,sendCmd:l,onSummonOverlayTechnologies:function(){},manualRefresh:0,timeRange:{},onZoom:function(){},setScrollTop:function(){},inView:function(){}})}}]),t}(r.Component);en.propTypes={dashboard:xe.a.object.isRequired,layoutCols:xe.a.number.isRequired,layoutRowHeight:xe.a.number.isRequired,layoutMargin:xe.a.number.isRequired,layoutContainerPadding:xe.a.number.isRequired};var nn=Object(i.b)(function(e,t){return t.match.params.id,{dashboard:fe(e),layoutCols:lt(e),layoutRowHeight:it(e),layoutMargin:st(e),layoutContainerPadding:ut(e)}},{updateDashboard:Ve,sendCmd:rt,createCell:qe,deleteCell:function(e,t){return Ue(ze,{dashboardId:e,cellId:t})}})(tn);var an=function(){return o.a.createElement("div",{className:"App"},"Configuration")},rn=o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:nn}),o.a.createElement(l.a,{path:"/configuration",component:an}),o.a.createElement(l.a,{path:"/dashboards/:id",component:nn})),on=w.a.Item,cn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){n.props.navigate(e.key)},n.onCreateCell=function(){var e=n.props,t=e.createCell,a=(e.pathname,e.dashboard);a&&t(a.i)},n.toggleLock=function(){var e=n.props,t=e.updateDashboard,a=e.dashboard;a&&t(a=Object(b.a)({},a,{editable:!a.editable}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.pathname,a=e.dashboards,r=(e.prefixCls,e.dashboard);return"/"===n&&a.length>0&&(n="/dashboards/".concat(a[0].i)),o.a.createElement("div",{className:t},o.a.createElement(w.a,{onClick:this.handleClick,selectedKeys:[n],mode:"horizontal"},a.map(function(e){return o.a.createElement(on,{key:"/dashboards/".concat(e.i)},e.name)})),o.a.createElement("div",{className:"actions",style:{position:"absolute",right:0,top:0,display:"inline-block"}},o.a.createElement(R.a,{className:"".concat(r&&r.editable?"":"disabled"),type:"block",onClick:r&&r.editable?this.onCreateCell:function(){}}),o.a.createElement(R.a,{type:"lock",className:"".concat(r&&r.editable?"":"info"),onClick:this.toggleLock}),o.a.createElement(R.a,{type:"fullscreen"}),o.a.createElement(R.a,{type:"sync"})))}}]),t}(r.Component),ln=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderApp=function(e){var t=e.getPrefixCls,a=n.props,r=a.location.pathname,c=a.dashboards,l=a.navigate,i=a.prefixCls,s=a.createCell,u=a.dashboard,d=a.updateDashboard,p=t("app",i);return c?o.a.createElement("div",{className:p},o.a.createElement(cn,{className:"".concat(p,"-header"),pathname:r,dashboard:u,dashboards:c,navigate:l,updateDashboard:d,createCell:s}),o.a.createElement("div",{className:"".concat(p,"-content")},n.renderErrorMessage(),rn)):o.a.createElement("div",{className:p},"Loading...")},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleDismissClick=n.handleDismissClick.bind(Object(f.a)(n)),n.getData(),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){}},{key:"componentWillMount",value:function(){this.props.loadConfig(),this.props.updateRouterState({pathname:this.props.location.pathname,params:this.props.params}),this.props.ws&&this.props.startWebsocket(this.props.ws)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalTimer),this.props.stopWebsocket()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this;if(this.props.location.pathname!==e.location.pathname&&this.props.updateRouterState({pathname:e.location.pathname,params:e.params}),this.props.ws!==e.ws&&e.ws&&this.props.startWebsocket(e.ws),this.props.getInterval!==e.getInterval&&e.getInterval){this.intervalTimer&&clearInterval(this.intervalTimer);var a=e.sendCmd,r=e.getInterval;console.log("command get interval",r),this.intervalTimer=setInterval(function(){if(n.props.websocketConnected)a("get","get")},r)}}},{key:"handleDismissClick",value:function(e){this.props.resetErrorMessage(),e.preventDefault()}},{key:"handleChange",value:function(e){this.props.navigate("/".concat(e))}},{key:"renderErrorMessage",value:function(){var e=this.props.errorMessage;return e?o.a.createElement("p",{style:{backgroundColor:"#e99",padding:10}},o.a.createElement("b",null,e)," (",o.a.createElement("a",{href:"#",onClick:this.handleDismissClick},"Dismiss"),")"):null}},{key:"render",value:function(){return console.log("App render()"),o.a.createElement(g.ConfigConsumer,null,this.renderApp)}}]),t}(r.Component);var sn=Object(i.b)(function(e){return{dashboards:de(e),dashboard:he(e),errorMessage:e.errorMessage,websocketConnected:e.robot.websocketConnected,getInterval:ve(e),ws:Ce(e)}},{loadConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ue(Pe,{requiredFields:e})},navigate:function(e){return Ue(Qe,{pathname:e})},updateRouterState:function(e){return Ue(Ge,{state:e})},resetErrorMessage:function(){return Ue("RESET_ERROR_MESSAGE")},startWebsocket:et,stopWebsocket:function(){return Ue(Xe,{stopped:!0})},createCell:qe,sendCmd:rt,updateDashboard:Ve})(ln),un=n(72),dn=(n(1009),n(170)),pn=(n(1010),n(1014),{resultsByChannel:{},websocketConnected:!1,websocketError:null,channelsById:{},robotStatus:4});function fn(e,t,n){var a=new DataView(e),r=(a.getInt32(0),a.getInt32(4,!0),a.getFloat64(16,!0));if(t[r])try{var o=function(e){var t,n,a,r,o,c;for(t="",a=e.length,n=0;n<a;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],c=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&c)<<0)}return t}(new Uint8Array(e,40));return Object(b.a)({},JSON.parse(o),{id:r,cmd_response_time:Date.now()-r})}catch(c){console.error(c)}}var hn=Object(un.c)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONFIG_FETCH_REQUEST":case"CONFIG_FETCH_FAILURE":return{};case"CONFIG_FETCH_SUCCESS":return Object(b.a)({},e,t.response);case Fe:var n=t.dashboard,a=Object(b.a)({},e.interfaceRoot);return a.dashboards=Object(m.a)(a.dashboards),a.dashboards.forEach(function(e,t){e.i===n.i&&(a.dashboards[t]=Object(b.a)({},a.dashboards[t],n))}),Object(b.a)({},e,{interfaceRoot:a});case"DASHBOARD_UPDATE_SUCCESS":var r=t.dashboard,o=Object(b.a)({},e.interfaceRoot);return o.dashboards=Object(m.a)(o.dashboards),o.dashboards.forEach(function(e,t){e.i===r.i&&(o.dashboards[t]=Object(b.a)({},o.dashboards[t],r))}),Object(b.a)({},e,{interfaceRoot:o});case"CELL_CREATE_SUCCESS":var c=t.dashboardId,l=t.cell,i=Object(b.a)({},e.interfaceRoot);return i.dashboards=Object(m.a)(i.dashboards),i.dashboards.forEach(function(e,t){e.i===c&&(i.dashboards[t]=Object(b.a)({},i.dashboards[t]),i.dashboards[t].cells=[].concat(Object(m.a)(i.dashboards[t].cells),[l]))}),Object(b.a)({},e,{interfaceRoot:i});case"CELL_DELETE_SUCCESS":var s=t.dashboardId,u=t.cell,d=Object(b.a)({},e.interfaceRoot);return d.dashboards=Object(m.a)(d.dashboards),d.dashboards.forEach(function(e,t){e.i===s&&(d.dashboards[t]=Object(b.a)({},d.dashboards[t]),d.dashboards[t].cells=d.dashboards[t].cells.filter(function(e){return e.i!==u.i}))}),Object(b.a)({},e,{interfaceRoot:d});default:return e}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.error,r=t.errorType;return"RESET_ERROR_MESSAGE"===n?r?e[r]&&delete(e=Object(b.a)({},e))[r]:e={}:a&&((e=Object(b.a)({},e))[n]=a),e},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pathname:"/"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return t.state;default:return e}},robot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEBSOCKET_CONNECTED":return Object(b.a)({},e,{websocketConnected:!0});case"WEBSOCKET_DISCONNECTED":return Object(b.a)({},e,{websocketConnected:!1});case"WEBSOCKET_ERROR":return Object(b.a)({},e,{websocketError:t.payload});case"UPDATE_MANUAL_MOTION_VEL":return console.log(t),Object(b.a)({},e,{manualMotionVel:t.vel});case Ye:var n=t.id,a=t.channel;if(a){var r=Object(b.a)({},e.channelsById);return r[n]=a,Object(b.a)({},e,{channelsById:r})}return e;case $e:var o=t.data,c=Object(b.a)({},e.channelsById),l=Object(b.a)({},e.resultsByChannel),i=fn(o,e.channelsById,e.model);if(i){var s=c[i.id];return delete c[i.id],s&&(l[s]=i),Object(b.a)({},e,{channelsById:c,resultsByChannel:l})}return e;default:return e}return e}}),mn=un.d;var bn=n(23),Cn=n.n(bn),gn=n(5),vn=(n(1121),n(465),n(211)),yn=n.n(vn);n(1122);var On=function(){return fetch("/api/config").then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}})},En=function(e){return t="/api/dashboards/".concat(e.i),n=e,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}});var t,n},jn=function(e,t){return n="/api/dashboards/".concat(e,"/cells"),a=Object(b.a)({},t),fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}});var n,a},wn=function(e,t){return n="/api/dashboards/".concat(e,"/cells/").concat(t),a={},fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||"Something bad happened"}});var n,a},xn=[{name:"\u624b\u52a8\u64cd\u4f5c",cells:[{type:"JogCoordinate",name:"\u624b\u52a8\u7b1b\u5361\u5c14\u5750\u6807\u7cfb",x:0,y:0,w:3,h:10},{type:"3DView",name:"\u4e09\u7ef4\u89c6\u56fe",x:3,y:1,w:6,h:8},{type:"JogJoint",name:"\u624b\u52a8\u5173\u8282\u5750\u6807\u7cfb",x:9,y:0,w:3,h:8},{type:"ManualMotionVel",name:"\u901f\u5ea6",x:3,y:0,w:6,h:2},{type:"robotstatus",name:"\u673a\u5668\u4eba\u72b6\u6001",x:9,y:8,w:3,h:2}]},{name:"\u7f16\u7a0b\u63a7\u5236",cells:[{type:"JogCoordinate",name:"\u7f16\u7a0b\u89c6\u56fe",x:0,y:0,w:6,h:10},{type:"3DView",name:"\u8fd0\u884c\u89c6\u56fe",x:6,y:0,w:6,h:10}]},{name:"\u4fe1\u606f\u76d1\u63a7",cells:[{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:3,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:9,y:0,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:6,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:3,y:6,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:6,w:3,h:4},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:9,y:6,w:3,h:4}]},{name:"\u65e5\u5fd7\u56de\u653e",cells:[{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:0,w:6,h:6},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:0,w:6,h:6},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:0,y:8,w:6,h:6},{type:"Logger",name:"\u76d1\u63a7\u56fe\u8868",x:6,y:8,w:6,h:6}]}],kn=n(74),Sn=a,Rn=Object(kn.a)(),Dn=Cn.a.mark(Bn),Mn=Cn.a.mark(Fn),Tn=Cn.a.mark(Jn),_n=Cn.a.mark(Vn),Ln=Cn.a.mark(Hn),An=Cn.a.mark(Wn),In=Cn.a.mark(qn),Nn=Cn.a.mark(zn),Un=Cn.a.mark(Kn),Pn=Be;function Bn(){var e,t,n;return Cn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(gn.f)(Pn.request());case 2:return a.next=4,Object(gn.b)(Sn.fetchConfig);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(gn.f)(Pn.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(gn.f)(Pn.failure(n));case 14:case"end":return a.stop()}},Dn)}function Fn(e){var t,n;return Cn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.requiredFields,a.next=3,Object(gn.c)(50);case 3:return a.next=5,Object(gn.h)(ot);case 5:if(n=a.sent,!yn()(n)&&!t.some(function(e){return!n.hasOwnProperty(e)})){a.next=9;break}return a.next=9,Object(gn.b)(Bn);case 9:case"end":return a.stop()}},Mn)}function Jn(e){var t,n,a,r;return Cn.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.dashboard,o.next=3,Object(gn.c)(500);case 3:return o.next=5,Object(gn.h)(pe,t.i);case 5:if(t=o.sent,console.log("updateDashboard after 200ms",t),yn()(t)){o.next=22;break}return o.next=10,Object(gn.f)(Je.request());case 10:return o.next=12,Object(gn.b)(Sn.updateDashboard,t);case 12:if(n=o.sent,a=n.response,r=n.error,!a){o.next=20;break}return o.next=18,Object(gn.f)(Je.success(a));case 18:o.next=22;break;case 20:return o.next=22,Object(gn.f)(Je.failure(r));case 22:case"end":return o.stop()}},Tn)}function Vn(e){var t,n,a,r,o;return Cn.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.dashboardId,n=e.cell,c.next=3,Object(gn.c)(50);case 3:return c.next=5,Object(gn.f)(We.request());case 5:return c.next=7,Object(gn.b)(Sn.createCell,t,n);case 7:if(a=c.sent,r=a.response,o=a.error,!r){c.next=15;break}return c.next=13,Object(gn.f)(We.success(t,r));case 13:c.next=17;break;case 15:return c.next=17,Object(gn.f)(We.failure(o));case 17:case"end":return c.stop()}},_n)}function Hn(e){var t,n,a,r,o;return Cn.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.dashboardId,n=e.cellId,c.next=3,Object(gn.c)(50);case 3:return c.next=5,Object(gn.f)(Ke.request(t,n));case 5:return c.next=7,Object(gn.b)(Sn.deleteCell,t,n);case 7:if(a=c.sent,r=a.response,o=a.error,!r){c.next=15;break}return c.next=13,Object(gn.f)(Ke.success(t,r));case 13:c.next=17;break;case 15:return c.next=17,Object(gn.f)(Ke.failure(o));case 17:case"end":return c.stop()}},Ln)}function Wn(){return Cn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gn.j)(Fe,Jn);case 2:case"end":return e.stop()}},An)}function qn(){return Cn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gn.j)(He,Vn);case 2:case"end":return e.stop()}},In)}function zn(){return Cn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gn.j)(Pe,Fn);case 2:case"end":return e.stop()}},Nn)}function Kn(){return Cn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gn.j)(ze,Hn);case 2:case"end":return e.stop()}},Un)}var Gn=[Object(gn.e)(zn),Object(gn.e)(Wn),Object(gn.e)(qn),Object(gn.e)(Kn)],Qn=Cn.a.mark(na),Zn=Cn.a.mark(aa),Xn=Cn.a.mark(ra),Yn=Cn.a.mark(oa);function $n(e,t){var n=t.split("&");if(n.length>3){var a=parseInt(n[0]),r=parseInt(n[1]),o=parseInt(n[2]),c=parseInt(n[3]),l=parseInt(n[4]),i=n[5].length,s=new ArrayBuffer(40+i),u=new DataView(s);u.setInt32(0,i,!0),u.setInt32(4,a,!0),u.setInt32(8,r,!0),u.setFloat64(16,o,!0),u.setInt32(24,c,!0),u.setInt32(32,l,!0);for(var d=0;d<i;d++)u.setUint8(40+d,n[5].charCodeAt(d));e.send(u.buffer)}}function ea(e){return new Promise(function(t,n){var a=new WebSocket(e||window.location.origin.replace("https","wss").replace("http","ws"));a.onopen=function(){a.binaryType="arraybuffer",t(a)},a.onerror=function(e){n(e)}})}function ta(e){return Object(dn.c)(function(t){e.onmessage=function(e){e.data instanceof ArrayBuffer&&t({data:e.data,type:$e})},e.onclose=function(){t(nt())},e.onerror=function(e){t(at(e.message))};return function(){e.onmessage=null,e.onerror=null}})}function na(e){var t,n,a;return Cn.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(gn.i)(Ye);case 3:t=r.sent,n=t.cmd,a=t.id,r.t0=e.readyState,r.next=r.t0===WebSocket.CONNECTING?9:r.t0===WebSocket.OPEN?10:r.t0===WebSocket.CLOSING?11:r.t0===WebSocket.CLOSED?12:13;break;case 9:return r.abrupt("break",13);case 10:"get"===n?$n(e,"0&1&"+a+"&0&0&"+n):(console.log("sendCmd",n),$n(e,"1&1&"+a+"&0&0&"+n));case 11:case 12:return r.abrupt("break",13);case 13:r.next=0;break;case 15:case"end":return r.stop()}},Qn)}function aa(e){var t;return Cn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,Object(gn.i)(e);case 4:return t=n.sent,n.next=7,Object(gn.f)(t);case 7:n.next=1;break;case 9:return n.prev=9,console.log("message channel closed"),n.finish(9);case 12:case"end":return n.stop()}},Zn,null,[[0,,9,12]])}function ra(e){return Cn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(gn.c)(5e3);case 2:return t.next=4,Object(gn.f)(et(e));case 4:case"end":return t.stop()}},Xn)}function oa(){var e,t,n,a,r,o,c;return Cn.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,Object(gn.i)(Ze);case 3:return a=l.sent,r=a.url,l.prev=5,l.next=8,Object(gn.b)(ea,r);case 8:return e=l.sent,l.next=11,Object(gn.b)(ta,e);case 11:return t=l.sent,l.next=14,Object(gn.f)(tt());case 14:return l.next=16,Object(gn.g)({internal:Object(gn.b)(na,e),external:Object(gn.b)(aa,t),cancel:Object(gn.i)(Xe)});case 16:o=l.sent,c=o.cancel,n=c,l.next=26;break;case 21:return l.prev=21,l.t0=l.catch(5),console.log(l.t0),l.next=26,Object(gn.f)(at(l.t0.message));case 26:return l.prev=26,e&&(e.close(),e=null),l.next=30,Object(gn.f)(nt());case 30:if(t&&(t.close(),t=null),n){l.next=34;break}return l.next=34,Object(gn.e)(ra,r);case 34:return l.finish(26);case 35:l.next=0;break;case 37:case"end":return l.stop()}},Yn,null,[[5,21,26,35]])}var ca=[Object(gn.e)(oa)],la=Cn.a.mark(sa),ia=Cn.a.mark(ua);function sa(){var e,t;return Cn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(gn.i)(Qe);case 3:return e=n.sent,t=e.pathname,n.next=7,Rn.push(t);case 7:n.next=0;break;case 9:case"end":return n.stop()}},la)}function ua(){return Cn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gn.a)([].concat(Object(m.a)(Gn),Object(m.a)(ca),[Object(gn.e)(sa)]));case 2:case"end":return e.stop()}},ia)}n(1124);var da=function(e){var t=Object(dn.b)(),n=Object(un.e)(hn,e,mn(Object(un.a)(t)));return n.runSaga=t.run,n.close=function(){return n.dispatch(dn.a)},n}();da.runSaga(ua),Object(c.render)(o.a.createElement(i.a,{store:da},o.a.createElement(v.a,{prefixCls:"rchmi"},o.a.createElement(l.b,{history:Rn},o.a.createElement(l.a,{path:"/",component:sn})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},490:function(e,t,n){e.exports=n(1125)}},[[490,1,2]]]);
//# sourceMappingURL=main.0e32793f.chunk.js.map