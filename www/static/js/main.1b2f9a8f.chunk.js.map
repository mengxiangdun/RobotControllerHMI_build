{"version":3,"sources":["serviceWorker.js","components/DashboardEmpty.js","shared/cells/Logger.js","shared/cells/Unknown.js","actions/index.js","selectors/robot.js","selectors/router.js","selectors/config.js","selectors/websocket.js","shared/cells/View3D.js","shared/cells/CellBase.js","shared/cells/JogCoordinate/JogCoordinate.js","shared/icons/Wifi.js","shared/cells/JogJoint/JogJoint.js","reducers/selectors.js","shared/cells/RobotStatus.js","shared/cells/ManualSwitch.js","shared/cells/CodeEditor.js","shared/cells/Debugger.js","shared/cells/ConfigBase.js","shared/cells/RealtimeChart/Config.js","shared/cells/RealtimeChart/Chart.js","shared/cells/RealtimeChart/RealtimeChart.js","shared/cells/ToolCalib.js","shared/cells/ZeroCalib.js","shared/cells/MotionCalib.js","shared/cells/LoadCalib.js","shared/cells/SetDH.js","shared/cells/ModelConfigeration.js","components/ResultError.js","ethercat/XMLJSONBase.js","ethercat/PdoEntry.js","ethercat/Pdo.js","ethercat/SyncManager.js","ethercat/SyncManagerPoolObject.js","ethercat/EthercatSlave.js","ethercat/EthercatMotion.js","ethercat/SlavePoolObject.js","ethercat/EthercatController.js","ethercat/Device.js","ethercat/Vendor.js","ethercat/EthercatMaster.js","shared/cells/EthercatConfiguration/selectors.js","shared/cells/EthercatConfiguration/SideBar.js","shared/cells/EthercatConfiguration/HeaderBar.js","shared/cells/EthercatConfiguration/EthercatConfiguration.js","shared/cells/EthercatConfiguration/index.js","shared/cells/BlocklyEditor/blocks/io.js","shared/cells/BlocklyEditor/blocks/motion.js","shared/cells/BlocklyEditor/generators/robot.js","shared/cells/BlocklyEditor/generators/robot/motion.js","shared/cells/BlocklyEditor/generators/robot/io.js","shared/cells/BlocklyEditor/initContent.js","shared/cells/BlocklyEditor/Editors.js","shared/cells/BlocklyEditor/CreateProgramModal.js","shared/cells/BlocklyEditor/DeleteProgramModal.js","shared/cells/BlocklyEditor/Blockly.js","shared/cells/ExampleCell.js","shared/cells/ShowGetContent.js","shared/cells/RealTimeData/Config.js","shared/cells/RealTimeData/RealTimeData.js","shared/cells/index.js","shared/components/LayoutCellMenu.js","shared/components/LayoutCellHeader.js","shared/components/LayoutCell.js","shared/components/Layout.js","shared/containers/LayoutRenderer.js","components/Dashboard.js","containers/DashboardPage.js","containers/ConfigurationPage.js","routes.js","components/CreateCellModal.js","containers/Header.js","containers/Footer.js","containers/App.js","reducers/config.js","reducers/robot.js","reducers/index.js","reducers/errors.js","store.js","services/api.js","services/index.js","sagas/config.js","sagas/websocket.js","sagas/robots.js","sagas/index.js","index.js","images/six_axes.png","images/seven_axes.png"],"names":["Boolean","window","location","hostname","match","DashboardEmpty","renderDashboard","_ref","getPrefixCls","_this$props","_this","props","prefixCls","dashboard","react_default","a","createElement","className","concat","config_provider","this","Component","Logger","renderLogger","customizePrefixCls","cell","icon_default","type","style","fontSize","NAME","Unknown","cmdTimestamp","Date","now","action","_objectSpread","arguments","length","undefined","LOAD_INTERFACE_CONFIG","interfaceConfig","request","success","response","dashboards","map","d","cells","c","console","log","options","JSON","parse","e","failure","error","UPDATE_DASHBOARD","dashboardUpdate","updateDashboard","CREATE_CELL","cellCreate","dashboardId","createCell","DELETE_CELL","cellDelete","cellId","UPDATE_ROUTER_STATE","NAVIGATE","navigate","pathname","START_WEBSOCKET","STOP_WEBSOCKET","SEND_CMD","CMD_RESPONSE","startWebsocket","url","wsConnected","wsDisconnected","wsError","sendCmd","cmd","channel","callback","id","deleteResultByChannel","LOAD_ROBOT_MODELS","robotModels","DELETE_ROBOT_MODEL_PART","robotModelPartDelete","model","DELETE_ROBOT_MODEL","robotModelDelete","CREATE_ROBOT_MODEL","robotModelCreate","esiFileUpload","path","LOAD_ESI_PATH","esiPath","LOAD_CONFIG_XML","configXml","xml","LOAD_PROGRAMS","programsLoad","programs","loadPrograms","LOAD_PROGRAM","programLoad","program","loadProgram","name","CREATE_PROGRAM","programCreate","createProgram","UPDATE_PROGRAM","programUpdate","DELETE_PROGRAM","programDelete","deleteProgram","RENAME_PROGRAM","programRename","newName","copy","renameProgram","hashEqualSelectorCreator","createSelectorCreator","memoize","_len","args","Array","_key","reduce","acc","val","stringify","getResultByCell","state","robot","resultsByChannel","i","getResultByChannel","getDataSources","result","robot_objectSpread","Object","keys","filter","key","isNumber","isArray","getMemoizeDataSources","getMemoizeDataIndexesBySource","_ref2","indexes","forEach","source","getResultByCellChannel","_ref3","makeGetResultsByCellChannel","cacheSize","cachedResults","cachedSources","createSelector","_ref4","paused","isEqual","sources","toConsumableArray","hr","getHours","min","getMinutes","sec","getSeconds","toString","time","index","value","splice","getMemoizeEndPE","get","ai","di","end_pe","getEndPQ","end_pq","getMemoizeMotionPos","motion_acc","motion_pos","getMemoizeMotionState","motion_state","getMemoizePartPQ","motion_toq","part_pq","getMemoizeUnityPartPQString","join","getMemoizeSlaveAlState","slave_al_state","getMemoizeSlaveOnlineState","slave_link_num","slave_online_state","getCurrentPlan","current_plan","getToolIds","toolIds","getCurrentToolId","currentToolId","getCurrentWorkObjectId","currentWorkObjectId","getCurrentCoordinateId","currentCoordinateId","getCurrentMotionVelPercent","currentMotionVelPercent","getXml","getPathname","router","getFullDashboards","config","getDashboards","editable","getDashboardAndCells","getCurrentDashboardAndCells","indexOf","replace","getCurrentDashboard","getWebsocketConnected","websocketConnected","getWsUrl","ws","getCommandSendInterval","commandSendInterval","getGetInterval","getInterval","getCommandSendDelay","commandSendDelay","getUnityUpdateInterval","_ref5","unityUpdateInterval","View3D","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","ref","container","Exports_default","unityContent","UnityContent","on","progression","setState","send","origin","partPQ","throttleSend","throttle","bind","loadConfigXml","remove","nextProps","nextState","nextContext","_this2","setTimeout","gameInstance","progress","Module","ConnectedView3D","connect","CellBase","interval","timeout","getSendCmdFn","assertThisInitialized","getOnMouseDownFn","clearInterval","_this$props2","fn","self","setInterval","getOnMouseUpFn","clearTimeout","getOptions","updateOptions","CellBase_objectSpread","onCellUpdate","renderContent","Error","JogCoordinate","renderJogCoordinate","endPE","motionVelPercent","coordinateId","toolId","workObjectId","types","row_default","button_default","size","onClick","onMouseDown","onMouseUp","onMouseOut","toFixed","propTypes","PropTypes","object","isRequired","func","number","array","getJogCoordinateState","ConnectedJogCoordinate","Wifi","assign","width","height","viewBox","version","fillRule","x","y","JogJoint","renderJogJoint","slaveOnlineState","slaveAlState","motionState","motionPos","jogList","list","push","Math","PI","component","theme","shape","addButtonFunc","JogJoint_objectSpread","deleteButtonFunc","vel","getJogJointState","ConnectedJogJoint","getStateCode","_ref7","state_code","getLayoutCols","_ref9","layoutConfig","cols","getLayoutRowHeight","_ref10","rowHeight","getLayoutMargin","_ref11","margin","getLayoutContainerPadding","_ref12","containerPadding","RobotStatus","stateCode","color","100","200","300","400","500","fill","ConnectedRobotStatus","ManualSwitch","enable","onChange","checked","resetEnable","resetDisable","renderManualSwitch","resultMD","resultRC","resultEN","resultDS","floor","showEnableModel","return_code","showDisableModel","switch_default","checkedChildren","unCheckedChildren","modal_default","visible","title","onOk","onCancel","centered","footer","return_message","ConnectedManualSwitch","getMemoizeResult","CodeEditor","newValue","lib_default","mode","editorProps","$blockScrolling","ConnectedCodeEditor","robotStatus","TextArea","Input","Debugger","command","split","trim","terminal","runCommandOnActive","_this$props3","results","rows","target","placeholder","icon","js_default","backgroundColor","barColor","hideTopBar","allowTabs","commands","showCmd","print","runCommand","slice","showResult","descriptions","ConnectedDebugger","getResultsByCell","makeGetResultsByCell","ConfigBase","ConfigBase_objectSpread","showConfig","hideConfig","Search","RadioGroup","Radio","Group","FormItem","Form","Item","Option","Select","Config","handleSubmit","preventDefault","form","validateFields","err","fieldsValue","Config_objectSpread","k","s","add","getFieldDecorator","maskClosable","okText","cancelText","wrapClassName","form_default","layout","label","initialValue","rules","required","message","radio_default","col_default","span","labelCol","wrapperCol","onSearch","enterButton","input_number_default","step","formatter","parser","renderDataSources","prevProps","prevState","snapshot","oldCell","oldDataSources","dataSources","newCell","_this$props$form","getFieldsValue","getFieldValue","dataIndexes","textAlign","formSources","sourceItems","select_default","paddingLeft","react","getState","create","mapPropsToFields","transform","obj","cv","defineProperty","createFormField","item","onValuesChange","_","values","colorPalette","tooltip","axisPointer","lineStyle","crossStyle","legend","textStyle","toolbox","iconStyle","normal","borderColor","dataZoom","visualMap","timeline","itemStyle","controlStyle","timeAxis","axisLine","axisTick","axisLabel","splitLine","splitArea","areaStyle","logAxis","valueAxis","categoryAxis","line","symbol","graph","gauge","candlestick","color0","borderColor0","show","echarts","registerTheme","Chart","dataChannel","text","data","xAxis","boundaryGap","max","yAxis","series","echarts_for_react_lib_default","option","notMerge","lazyUpdate","RealtimeChart","playing","resetInterval","handleChange","RealtimeChart_objectSpread","hasDataSources","marginTop","RealtimeChart_Chart","start","ConnectedRealtimeChart","getResultsByCellChannel","CONFIG","HINTS","UserInput","CalibT4P","CalibT5P","CalibT6P","DETAIL_HINTS","maxWidth","CALIB_METHODS","POINTS_COUNT","ToolCalib","calibMethod","toolName","pes","showCalibResult","showSaveResult","userInput","z","b","handleNameChange","handleSelectToolId","handleSelectCalibMethod","renderTable","render","record","last","columns","dataIndex","align","pe","rowName","rowKey","xi","yi","zi","bi","ci","Footer","_self$state","_self$props","table_default","dataSource","locale","emptyText","bordered","pagination","getUserInputUpdateFn","ToolCalib_objectSpread","getCellRenderer","renderUserInput","_self$state2","_self$props2","toolPe","renderResult","tool_pe","_self$state3","p","_self$props3","CalibrationInfo","renderSaveResult","_this$props4","lg","ToolCalib_Option","popover_default","placement","content","trigger","input_default","marginLeft","_self$state4","getToolCalibState","ConnectedToolCalib","ZeroCalib","calibMethods","CalibZF","CalibZO","CalibZL","event","ZeroCalib_RadioGroup","method","ZeroCalib_Option","getZeroCalibState","ConnectedZeroCalib","MotionCalib","handleInsert","currentMotionPos","link_param","getMotionCalibState","ConnectedMotionCalib","LoadCalib","input","showLoadedCalibResult","showLoadedSaveResult","showUnloadedCalibResult","showUnloadedSaveResult","showInputSaveResult","inputLabels","updateInput","updateMotionPos","handleSelectInputMethod","renderInput","_this$state","LoadCalib_RadioGroup","saveCmd","saveState","getLoadCalibState","ConnectedLoadCalib","SetDH","inputs","handleSelectType","SetDH_objectSpread","renderSixAxesInput","disabled","renderSevenAxesInput","_this$state2","_this$state3","SetDH_Option","backgroundImage","SixAxes","SevenAxes","getSetDHState","ConnectedSetDH","formItemLayout","CreateRobotForm","createRobotModel","creatingRobotModel","creatingRobotModelError","hideCreateRobotModelModal","onSubmit","ModelConfigeration_FormItem","CreateRobotModel","ModelConfiguration","brand","showCreateModal","robotModelPartUploadSuccess","deleteRobotModelPart","deleteRobotModel","showCreateRobotModelModal","creatingRobotModelResult","modalVisible","selectCurrentRobotBrand","selectCurrentRobotModel","missingParts","parts","marginBottom","saving","ModelConfigeration_Option","uid","status","upload_default","multiple","showUploadList","file","fileList","loadRobotModels","getModelConfigerationState","createRobotModelModalVisible","currentRobotBrand","currentRobotModel","ConnectedModelConfiguration","requiredFields","part","ResultError","XMLJSONBase","toXML","toJSON","FromXML","node","FromJSON","GetNumber","n","GetDegreeNumber","ToRadian","ToXMLAttrString","attr","PdoEntry","_XMLJSONBase","subIndex","inherits","getAttribute","Pdo","entries","getElementsByTagName","nodeType","SyncManager","isTx","pdoes","SyncManagerPoolObject","syncManagers","sm","EthercatSlave","uuid","phyId","vendorId","productCode","revisionNum","dcAssignActivate","syncManagerPoolObjects","smpo","isMotion","random","EthercatMotion","maxPos","minPos","maxVel","minVel","maxAcc","minAcc","maxPosFollowingError","maxVelFollowingError","posFactor","posOffset","homePos","SlavePoolObject","slaves","motions","m","EthercatController","slavePoolObjects","spo","Device","revisionNo","Vendor","devices","EthercatMaster","vendors","v","getSetEsiPathResult","getScanSlaveResult","getScanSlaveJsonResult","controller_xml","masterNode","DOMParser","parseFromString","getSetEsiPathJSONResult","device_list_xml","getPdoListForDeviceJSONResult","pdo_list_xml","getPdoListForSlaveJSONResult","SideBar","esiFileUploadRequest","esiFileUploadFailure","esiFileUploadSuccess","esiFileUploadingRequest","esiFileUploadingSuccess","esiFileUploadingFailure","setEsiPathResult","scanSlaveResult","addSlave","removeSlave","selectSlave","selectedSlave","accept","components_ResultError","stopPropagation","scanSlaveJsonResult","setEsiPathJSONResult","HeaderBar","selectedVendor","selectedDevice","selectDevice","selectVendor","vendorSelectProps","deviceSelectProps","vendor","HeaderBar_Option","device","save","slaveFormItemLayout","hexValidator","rule","EthercatConfiguration","EthercatConfiguration_objectSpread","isEmpty","newPhyId","apply","newSlave","saveError","_slaves$uuid","getEsiPdoListForDevice","deviceName","addPdo","syncManagerIndex","selectedSave","slave","rnd","removePdo","pdoIndex","addPdoEntry","removePdoEntry","pdoEntryIndex","renderSlaveInputs","validator","renderFormItemInput","renderMotionInputs","Number","MAX_VALUE","_this3","renderFormItemNumberInput","renderPdoEntry","pdoEntry","syncMangerIndex","EthercatConfiguration_FormItem","hasFeedback","renderPdo","pdo","offset","renderSyncManager","syncManager","checkbox_default","renderForm","slavePoolObject","ethercatController","ec","saveResult","EthercatConfiguration_SideBar","getEsiPdoList","getEsiPdoListForSlave","EthercatConfiguration_HeaderBar","ethercatMaster","_this$state4","pdoListForDevice","loadEsiPath","pull","postfix","getModelConfigurationState","pdoListForSlave","test","list1","Blockly","Blocks","init","field","FieldDropdown","validate","appendDummyInput","appendField","FieldLabelSerializable","setPreviousStatement","setNextStatement","setColour","setTooltip","setHelpUrl","getSourceBlock","updateConnections","removeInput","field2","FieldTextInput","updateEndPQ","endPQ","setFieldValue","workspace","isEndPQEmpty","Infinity","appendValueInput","setCheck","FieldNumber","_this4","setInputsInline","setOutput","appendStatementInput","Robot","Generator","addReservedWords","ORDER_ATOMIC","ORDER_NEW","ORDER_MEMBER","ORDER_FUNCTION_CALL","ORDER_INCREMENT","ORDER_DECREMENT","ORDER_BITWISE_NOT","ORDER_UNARY_PLUS","ORDER_UNARY_NEGATION","ORDER_LOGICAL_NOT","ORDER_TYPEOF","ORDER_VOID","ORDER_DELETE","ORDER_AWAIT","ORDER_EXPONENTIATION","ORDER_MULTIPLICATION","ORDER_DIVISION","ORDER_MODULUS","ORDER_SUBTRACTION","ORDER_ADDITION","ORDER_BITWISE_SHIFT","ORDER_RELATIONAL","ORDER_IN","ORDER_INSTANCEOF","ORDER_EQUALITY","ORDER_BITWISE_AND","ORDER_BITWISE_XOR","ORDER_BITWISE_OR","ORDER_LOGICAL_AND","ORDER_LOGICAL_OR","ORDER_CONDITIONAL","ORDER_ASSIGNMENT","ORDER_YIELD","ORDER_COMMA","ORDER_NONE","ORDER_OVERRIDES","definitions_","functionNames_","letiableDB_","reset","Names","RESERVED_WORDS_","setVariableMap","getVariableMap","deflets","devVarList","Variables","allDeveloperVariables","getName","DEVELOPER_VARIABLE_TYPE","letiables","allUsedVarModels","getId","NAME_TYPE","finish","code","definitions","scrubNakedValue","quote_","string","scrub_","block","opt_thisOnly","commentCode","outputConnection","targetConnection","comment","getCommentText","utils","wrap","COMMENT_WRAP","getProcedureDef","prefixLines","inputList","INPUT_VALUE","childBlock","connection","targetBlock","allNestedComments","nextBlock","nextConnection","nextCode","blockToCode","getAdjusted","atId","opt_delta","opt_negate","opt_order","delta","order","oneBasedIndex","defaultAtIndex","at","valueToCode","parseFloat","innerOrder","cmd_str","JavaScript","dropdown_dropdown1","VARIABLES_TOOLBOX_CATEGORIES","blocks","fields","DROPDOWN1","INPUT1","RESULT","VARIABLE","MASS","COGX","COGY","COGZ","Q1","Q2","Q3","Q4","IX","IY","IZ","pose1","X","Y","Z","HOME","J1","J2","J3","J4","J5","J6","EJ","V1","TER","TCP","ORI","EXJ_R","EXJ_L","DIS","PER","CHOOSE","A1","A2","A3","A4","VALUE","DROPDOWN2","NAME_STRING","ID","PROGRAM_TOOLBOX_CATEGORIES","FROPDOWN1","VALUE1","VALUE2","NUM","DROPDOWN3","DROPDOWN4","DROPDOWN5","DROPDOWN6","P1","P2","P3","P4","P5","FCPressL","FCPressS","Editors","variablesToolboxCategories","programToolboxCategories","looping","rowIdMap","debug","currentPlanId","isRunning","debugging","running","cmds","variablesWorkspace","workspaceToCode","l","programWorkspace","tryStart","tryStop","loop","run","variablesWorkspaceDidChange","newXml","Xml","domToText","workspaceToDom","newProgram","Editors_objectSpread","files","f","updateProgram","programWorkspaceDidChange","timer","svgResize","highlightBlock","getAllBlocks","_self$props$size","proXml","datXml","variablesHeight","programHeight","hideVariablesWorkspace","react_resizable","minConstraints","maxConstraints","axis","handle","onResize","_ref$size","dist_modules","BlocklyEditor","toolboxCategories","initialXml","workspaceConfiguration","grid","spacing","colour","snap","wrapperDivClassName","workspaceDidChange","tooltip_default","hideSidebar","current_plan_id","currentPlan","withSize","monitorHeight","refreshRate","CreateProgramModal","Button","toggleCreateProgramModal","creatingProgramStatus","showCreateProgramModal","CreateProgramModal_FormItem","creatingProgram","creatingProgramFailure","creatingProgramSuccess","deletingProgramStatus","showDeleteProgramModal","toggleDeleteProgramModal","deletingProgram","deletingProgramFailure","deletingProgramSuccess","Panel","Collapse","selectedProgram","editors","sidebarWidth","selectedProgramName","_ref2$size","Blockly_objectSpread","renderPrograms","BlocklyEditor_Editors","editingProgramNameStatus","renamingProgramSuccess","toggleEditProgramName","resetRenameProgramStatus","_this$props$editingPr","renamingProgramFailure","editingProgramName","BlocklyEditor_CreateProgramModal","opacity","collapse_default","accordion","activeKey","sort","header","onDoubleClick","onKeyUp","keyCode","defaultValue","onPressEnter","getCopyName","DeleteProgramModal","cancelButtonProps","display","getBlocklyState","renamingProgram","ConnectedBlockly","WIDTH","HEIGHT","ICON","ExampleCell","ConnectedExampleCell","ShowGetContentCell","ConnectedShowGetContentCell","RealTimeData_Config_objectSpread","Config_FormItem","Config_RadioGroup","Config_Search","Config_Option","RealtimeData","RealTimeData_objectSpread","ConnectedRealtimeData","shared_cells","3DView","RealTimeData","MenuItem","Menu","LayoutCellMenu","LayoutCellMenu_objectSpread","handleConfigCell","handleDeleteCell","onDelete","handleCloneCell","onClone","editMenu","cellByTypes","toLowerCase","menu","menu_default","dropdown_default","overlay","overlayClassName","getPopupContainer","renderMenu","isEditable","subMenuIsOpen","CellByTypes","LayoutCellHeader","renderLayoutCellHeader","cellPrefixCls","draggable","headerDraggable","extraClassname","classnames","LayoutCellHeader_objectSpread","cellName","headingBar","LayoutCell","renderLayoutCell","onCloneCell","onDeleteCell","children","components_LayoutCellMenu","dataExists","components_LayoutCellHeader","Layout","renderLayout","components_LayoutCell","renderLayoutBody","CellComponent","Layout_Unknown","GridLayout","WidthProvider","ReactGridLayout","LayoutRenderer","handleLayoutChange","onPositionChange","changed","newCells","find","ly","h","w","newLayout","LayoutRenderer_objectSpread","renderLayoutRender","onZoom","layoutCols","layoutMargin","layoutContainerPadding","windowWidth","layoutRowHeight","windowHeight","draggableCls","useCSSTransforms","onLayoutChange","draggableHandle","isDraggable","isResizable","components_Layout","windowSize","Dashboard","containers_LayoutRenderer","templates","manualRefresh","components_DashboardEmpty","onAddCell","DashboardPage","DashboardPage_objectSpread","deleteCell","components_Dashboard","inPresentationMode","onSummonOverlayTechnologies","timeRange","setScrollTop","inView","params","ConfigurationPage","routes","react_router","exact","RadioButton","CreateCellModal","toggleCreateCellModal","creatingCellStatus","selectType","CreateCellModal_FormItem","CreateCellModal_RadioGroup","creatingCell","Cells","CreateCellModal_RadioButton","creatingCellFailure","creatingCellSuccess","OptGroup","Header","fullscreen","escFunction","document","fullscreenElement","exitFullscreen","onFullscreenChange","handleClick","toggleLock","Header_objectSpread","workObjectIds","updateMotionVelPercent","updateToolId","updateCoordinateId","updateWorkObjectId","selectedKeys","Header_MenuItem","position","right","top","slider_default","tooltipVisible","tipFormatter","throttleSendCmd","Header_Option","getElementById","requestFullscreen","reload","components_CreateCellModal","showCreateCellModal","addEventListener","removeEventListener","getHeaderState","currentCommand","commandClass","cmd_response_time","spin","getFooterState","App","renderApp","containers_Header","renderErrorMessage","containers_Footer","handleDismissClick","getData","loadInterfaceConfig","updateRouterState","intervalTimer","stopWebsocket","_this2$props","resetErrorMessage","nextValue","errorMessage","padding","href","stopped","initialState","localStorage","getItem","websocketError","channelsById","commandsById","firstGet","esiPathFetchingSuccess","esiPathFetchingRequest","esiPathFetchingFailure","showCreatingProgramModal","showDeletingProgramModal","callbacksById","analyzeBotData","buffer","channelsByID","anyRobot","dataView","DataView","cmdCode","getInt32","getFloat64","str","out","len","char2","char3","String","fromCharCode","utf8ArrayToStr","Uint8Array","reducers_robot_objectSpread","rootReducer","combineReducers","config_objectSpread","ActionTypes","errors","errorType","errors_objectSpread","payload","actions","vel_percent","setItem","loadingProgram","loadingProgramError","updatingProgram","updatingProgramError","composeEnhancers","compose","callGetApi","endpoint","fetch","then","json","ok","Promise","reject","callPutApi","headers","Content-Type","body","callPostApi","callDeleteApi","_ref6","fetchInterfaceConfig","api_objectSpread","fetchRobotModels","fetchESIPath","fetchConfigXml","fetchPrograms","fetchProgram","encodeURIComponent","api","_api","history","createBrowserHistory","fetchConfig","loadConfig","watchUpdateDashboard","watchCreateCell","watchLoadConfig","watchDeleteCell","watchLoadConfigXml","regenerator_default","_context","prev","next","put","sent","stop","_marked","_context2","delay","_marked2","_context3","_marked3","_context4","select","_marked4","_context5","_marked5","_ref8","_context6","_marked6","_context7","takeLatest","_marked7","_context8","_marked8","_context9","_marked9","_context10","_marked10","_context11","_marked11","sagas_config","fork","internalListener","externalListener","reconnect","websocketSaga","strArray","cmd_id","parseInt","cmd_option","cmd_code","res_2","res_3","mes_length","ArrayBuffer","headView","setInt32","setFloat64","setUint8","charCodeAt","createWebSocketConnection","resolve","socket","WebSocket","onopen","binaryType","onerror","evt","createSocketChannel","eventChannel","emit","onmessage","onclose","take","t0","readyState","CONNECTING","OPEN","CLOSING","CLOSED","abrupt","websocket_marked","websocket_marked2","websocket_marked3","socketChannel","cancel","_cancel","race","internal","external","close","websocket_marked4","websocket","watchLoadRobotModels","watchDeleteRobotModelPart","watchDeleteRobotModel","watchCreateRobotModel","watchLoadESIPath","watchLoadPrograms","watchLoadProgram","watchCreateProgram","watchUpdateProgram","watchDeleteProgram","watchRenameProgram","robots_marked","robots_marked2","robots_marked3","robots_marked4","robots_marked5","robots_marked6","robots_marked7","_ref13","robots_marked8","_ref14","_ref15","robots_marked9","_ref16","_ref17","robots_marked10","_ref18","_ref19","robots_marked11","_context12","_marked12","_context13","_marked13","_context14","_marked14","_context15","_marked15","_context16","_marked16","_context17","_marked17","_context18","_marked18","_context19","_marked19","_context20","_marked20","_context21","_marked21","_context22","_marked22","robots","watchNavigate","root","sagas_marked3","all","configSaga","sagas_marked4","store","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","runSaga","dispatch","END","configureStore","rootSaga","es","config_provider_default","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.1b2f9a8f.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. ConfigurationPage is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\n\r\nclass DashboardEmpty extends Component {\r\n  renderDashboard = ({getPrefixCls}) => {\r\n    let {dashboard,  prefixCls: customizePrefixCls } = this.props\r\n    const prefixCls = getPrefixCls('dashboard-empty', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      当前面板没有任何功能单元\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderDashboard}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nDashboardEmpty.propTypes = {\r\n  dashboard: PropTypes.object.isRequired,\r\n  onAddCell: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default DashboardEmpty\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\n\r\nclass Logger extends Component {\r\n\r\n  renderLogger = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('logger', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <Icon type=\"area-chart\" style={{fontSize:50}}/>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderLogger}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLogger.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n}\r\n\r\nLogger.NAME = '日志回放'\r\n\r\nexport default Logger","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Unknown extends Component {\r\n\r\n  renderLogger = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('unknown-cell-type', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <div>不支持的组件类 {cell.type}</div>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderLogger}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nUnknown.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Unknown","let cmdTimestamp = Date.now()\r\n\r\nfunction action(type, payload = {}) {\r\n  return {type, ...payload}\r\n}\r\n\r\nexport const LOAD_INTERFACE_CONFIG = 'LOAD_INTERFACE_CONFIG'\r\nexport const INTERFACE_CONFIG_FETCH_REQUEST = 'INTERFACE_CONFIG_FETCH_REQUEST'\r\nexport const INTERFACE_CONFIG_FETCH_FAILURE = 'INTERFACE_CONFIG_FETCH_FAILURE'\r\nexport const INTERFACE_CONFIG_FETCH_SUCCESS = 'INTERFACE_CONFIG_FETCH_SUCCESS'\r\nexport const interfaceConfig = {\r\n  request: () => action(INTERFACE_CONFIG_FETCH_REQUEST, {}),\r\n  success: (response) => {\r\n    response = {...response}\r\n    if(response.dashboards){\r\n      response.dashboards = response.dashboards.map(d=>{\r\n        d = {...d}\r\n        d.cells = d.cells.map(c=>{\r\n          c = {...c}\r\n          console.log(c.type, \"before\", c.options)\r\n          try{\r\n            c.options = JSON.parse(c.options)\r\n          }catch(e){\r\n            c.options = {}\r\n          }\r\n          console.log(c.options)\r\n          return c\r\n        })\r\n        return d\r\n      })\r\n    }\r\n    return action(INTERFACE_CONFIG_FETCH_SUCCESS, {response})\r\n  },\r\n  failure: (error) => action(INTERFACE_CONFIG_FETCH_FAILURE, {error}),\r\n}\r\nexport const loadInterfaceConfig = (requiredFields = []) => action(LOAD_INTERFACE_CONFIG, {requiredFields})\r\n\r\n\r\nexport const UPDATE_DASHBOARD = 'UPDATE_DASHBOARD'\r\nexport const DASHBOARD_UPDATE_REQUEST = 'DASHBOARD_UPDATE_REQUEST'\r\nexport const DASHBOARD_UPDATE_FAILURE = 'DASHBOARD_UPDATE_FAILURE'\r\nexport const DASHBOARD_UPDATE_SUCCESS = 'DASHBOARD_UPDATE_SUCCESS'\r\nexport const dashboardUpdate = {\r\n  request: (dashboard) => action(DASHBOARD_UPDATE_REQUEST, {dashboard}),\r\n  success: (dashboard) => {\r\n    if(dashboard.cells){\r\n      dashboard = {...dashboard}\r\n      dashboard.cells = dashboard.cells.map(c=>{\r\n        c = {...c}\r\n        if(c.options){\r\n          console.log(c.type, \"before\", c.options)\r\n          try{\r\n            c.options = JSON.parse(c.options)\r\n          }catch (e) {\r\n            c.options = {}\r\n          }\r\n          console.log(c.type, c.options)\r\n        }\r\n        return c\r\n      })\r\n    }\r\n    return action(DASHBOARD_UPDATE_SUCCESS, {dashboard})\r\n  },\r\n  failure: (error) => action(DASHBOARD_UPDATE_FAILURE, {error}),\r\n}\r\nexport const updateDashboard = (dashboard) => {\r\n  return action(UPDATE_DASHBOARD, {dashboard})\r\n}\r\n\r\n\r\nexport const CREATE_CELL = 'CREATE_CELL'\r\nexport const CELL_CREATE_REQUEST = 'CELL_CREATE_REQUEST'\r\nexport const CELL_CREATE_FAILURE = 'CELL_CREATE_FAILURE'\r\nexport const CELL_CREATE_SUCCESS = 'CELL_CREATE_SUCCESS'\r\nexport const TOGGLE_CREATE_CELL_MODAL = 'TOGGLE_CREATE_CELL_MODAL'\r\nexport const cellCreate = {\r\n  request: (dashboardId) => action(CELL_CREATE_REQUEST, {dashboardId}),\r\n  success: (dashboardId, cell) => {\r\n    cell = {...cell}\r\n    if(cell.options){\r\n      try{\r\n        cell.options = JSON.parse(cell.options)\r\n      }catch (e) {\r\n        cell.options = {}\r\n      }\r\n    }\r\n    return action(CELL_CREATE_SUCCESS, {dashboardId, cell})\r\n  },\r\n  failure: (error) => action(CELL_CREATE_FAILURE, {error}),\r\n}\r\nexport const createCell = (dashboardId, cell) => action(CREATE_CELL, {dashboardId, cell})\r\nexport const toggleCreateCellModal = () => action(TOGGLE_CREATE_CELL_MODAL)\r\n\r\nexport const DELETE_CELL = 'DELETE_CELL'\r\nexport const CELL_DELETE_REQUEST = 'CELL_DELETE_REQUEST'\r\nexport const CELL_DELETE_FAILURE = 'CELL_DELETE_FAILURE'\r\nexport const CELL_DELETE_SUCCESS = 'CELL_DELETE_SUCCESS'\r\nexport const cellDelete = {\r\n  request: (dashboardId, cellId) => action(CELL_DELETE_REQUEST, {dashboardId, cellId}),\r\n  success: (dashboardId, cell) => action(CELL_DELETE_SUCCESS, {dashboardId, cell}),\r\n  failure: (error) => action(CELL_DELETE_FAILURE, {error}),\r\n}\r\nexport const deleteCell = (dashboardId, cellId) => action(DELETE_CELL, {dashboardId, cellId})\r\n\r\n\r\nexport const UPDATE_ROUTER_STATE = 'UPDATE_ROUTER_STATE'\r\nexport const NAVIGATE =  'NAVIGATE'\r\nexport const RESET_ERROR_MESSAGE = 'RESET_ERROR_MESSAGE'\r\nexport const RESET_LOADING_MESSAGE = 'RESET_LOADING_MESSAGE'\r\n\r\nexport const navigate = pathname => action(NAVIGATE, {pathname})\r\nexport const resetErrorMessage = () => action(RESET_ERROR_MESSAGE)\r\nexport const updateRouterState = state => action(UPDATE_ROUTER_STATE, {state})\r\n\r\nexport const START_WEBSOCKET = 'START_WEBSOCKET'\r\nexport const STOP_WEBSOCKET = 'STOP_WEBSOCKET'\r\nexport const SEND_CMD = 'SEND_CMD'\r\nexport const CMD_RESPONSE = 'CMD_RESPONSE'\r\nexport const WEBSOCKET_CONNECTED = 'WEBSOCKET_CONNECTED'\r\nexport const WEBSOCKET_DISCONNECTED = 'WEBSOCKET_DISCONNECTED'\r\nexport const WEBSOCKET_ERROR = 'WEBSOCKET_ERROR'\r\nexport const startWebsocket = (url) => action(START_WEBSOCKET,{url})\r\nexport const stopWebsocket = () => action(STOP_WEBSOCKET, {stopped:true})\r\nexport const wsConnected = () => action(WEBSOCKET_CONNECTED)\r\nexport const wsDisconnected = () => action(WEBSOCKET_DISCONNECTED)\r\nexport const wsError = (error) => action(WEBSOCKET_ERROR, {error})\r\nexport const sendCmd = (cmd, channel, callback) => {\r\n  let now = Date.now()\r\n  if(now <= cmdTimestamp){\r\n    cmdTimestamp = cmdTimestamp + 1\r\n  }else{\r\n    cmdTimestamp = now\r\n  }\r\n  return action(SEND_CMD, {cmd, id:cmdTimestamp, channel, callback})\r\n}\r\n\r\nexport const UPDATE_MOTION_VEL_PERCENT = \"UPDATE_MOTION_VEL_PERCENT\"\r\nexport const updateMotionVelPercent = (motionVelPercent) => action(UPDATE_MOTION_VEL_PERCENT, {motionVelPercent})\r\nexport const UPDATE_TOOL_ID = \"UPDATE_TOOL_ID\"\r\nexport const updateToolId = (toolId) => action(UPDATE_TOOL_ID, {toolId})\r\nexport const UPDATE_WORK_OBJECT_ID = \"UPDATE_WORK_OBJECT_ID\"\r\nexport const updateWorkObjectId = (workObjectId) => action(UPDATE_WORK_OBJECT_ID, {workObjectId})\r\nexport const UPDATE_COORDINATE_ID = \"UPDATE_COORDINATE_ID\"\r\nexport const updateCoordinateId = (coordinateId) => action(UPDATE_COORDINATE_ID, {coordinateId})\r\n\r\n\r\n\r\nexport const DELETE_RESULT_BY_CHANNEL = \"DELETE_RESULT_BY_CHANNEL\"\r\nexport const deleteResultByChannel = (channel) => action(DELETE_RESULT_BY_CHANNEL, {channel})\r\n\r\nexport const LOAD_ROBOT_MODELS = 'LOAD_ROBOT_MODELS'\r\nexport const ROBOT_MODELS_FETCH_REQUEST = 'ROBOT_MODELS_FETCH_REQUEST'\r\nexport const ROBOT_MODELS_FETCH_FAILURE = 'ROBOT_MODELS_FETCH_FAILURE'\r\nexport const ROBOT_MODELS_FETCH_SUCCESS = 'ROBOT_MODELS_FETCH_SUCCESS'\r\nexport const robotModels = {\r\n  request: () => action(ROBOT_MODELS_FETCH_REQUEST, {}),\r\n  success: (robotModels) => action(ROBOT_MODELS_FETCH_SUCCESS, {robotModels}),\r\n  failure: (error) => action(ROBOT_MODELS_FETCH_FAILURE, {error}),\r\n}\r\nexport const loadRobotModels = (requiredFields = []) => action(LOAD_ROBOT_MODELS, {requiredFields})\r\nexport const ROBOT_MODEL_PART_UPLOAD_SUCCESS = 'ROBOT_MODEL_PART_UPLOAD_SUCCESS'\r\nexport const robotModelPartUploadSuccess = (model) => action(ROBOT_MODEL_PART_UPLOAD_SUCCESS,{model})\r\n\r\nexport const ROBOT_MODEL_PART_DELETE_REQUEST = 'ROBOT_MODEL_PART_DELETE_REQUEST'\r\nexport const ROBOT_MODEL_PART_DELETE_FAILURE = 'ROBOT_MODEL_PART_DELETE_FAILURE'\r\nexport const ROBOT_MODEL_PART_DELETE_SUCCESS = 'ROBOT_MODEL_PART_DELETE_SUCCESS'\r\nexport const DELETE_ROBOT_MODEL_PART = 'DELETE_ROBOT_MODEL_PART'\r\nexport const  robotModelPartDelete = {\r\n  request: () => action(ROBOT_MODEL_PART_DELETE_REQUEST, {}),\r\n  success: (model) => action(ROBOT_MODEL_PART_DELETE_SUCCESS, {model}),\r\n  failure: (error) => action(ROBOT_MODEL_PART_DELETE_FAILURE, {error}),\r\n}\r\nexport const deleteRobotModelPart = (brand, model, part) => action(DELETE_ROBOT_MODEL_PART, {brand, model, part})\r\n\r\n\r\nexport const ROBOT_MODEL_DELETE_REQUEST = 'ROBOT_MODEL_DELETE_REQUEST'\r\nexport const ROBOT_MODEL_DELETE_FAILURE = 'ROBOT_MODEL_DELETE_FAILURE'\r\nexport const ROBOT_MODEL_DELETE_SUCCESS = 'ROBOT_MODEL_DELETE_SUCCESS'\r\nexport const DELETE_ROBOT_MODEL = 'DELETE_ROBOT_MODEL'\r\nexport const  robotModelDelete = {\r\n  request: () => action(ROBOT_MODEL_DELETE_REQUEST, {}),\r\n  success: (model) => action(ROBOT_MODEL_DELETE_SUCCESS, {model}),\r\n  failure: (error) => action(ROBOT_MODEL_DELETE_FAILURE, {error}),\r\n}\r\nexport const deleteRobotModel = (brand, model) => action(DELETE_ROBOT_MODEL, {brand, model})\r\n\r\n\r\nexport const CREATE_ROBOT_MODEL = 'CREATE_ROBOT_MODEL'\r\nexport const ROBOT_MODEL_CREATE_REQUEST = 'ROBOT_MODEL_CREATE_REQUEST'\r\nexport const ROBOT_MODEL_CREATE_FAILURE = 'ROBOT_MODEL_CREATE_FAILURE'\r\nexport const ROBOT_MODEL_CREATE_SUCCESS = 'ROBOT_MODEL_CREATE_SUCCESS'\r\nexport const robotModelCreate = {\r\n  request: (model) => action(ROBOT_MODEL_CREATE_REQUEST, {model}),\r\n  success: (model) => action(ROBOT_MODEL_CREATE_SUCCESS, {model}),\r\n  failure: (error) => action(ROBOT_MODEL_CREATE_FAILURE, {error}),\r\n}\r\nexport const createRobotModel = (model) => action(CREATE_ROBOT_MODEL, {model})\r\n\r\nexport const SHOW_CREATE_ROBOT_MODEL_MODAL = 'SHOW_CREATE_ROBOT_MODEL_MODAL'\r\nexport const showCreateRobotModelModal = () => action(SHOW_CREATE_ROBOT_MODEL_MODAL)\r\nexport const HIDE_CREATE_ROBOT_MODEL_MODAL = 'HIDE_CREATE_ROBOT_MODEL_MODAL'\r\nexport const hideCreateRobotModelModal = () => action(HIDE_CREATE_ROBOT_MODEL_MODAL)\r\n\r\nexport const SELECT_CURRENT_ROBOT_BRAND = 'SELECT_CURRENT_ROBOT_BRAND'\r\nexport const selectCurrentRobotBrand = (brand) => action(SELECT_CURRENT_ROBOT_BRAND, {brand})\r\nexport const SELECT_CURRENT_ROBOT_MODEL = 'SELECT_CURRENT_ROBOT_MODEL'\r\nexport const selectCurrentRobotModel = (model) => action(SELECT_CURRENT_ROBOT_MODEL, {model})\r\n\r\n\r\nexport const UPLOAD_ESI_FILE_REQUEST = 'UPLOAD_ESI_FILE_REQUEST'\r\nexport const UPLOAD_ESI_FILE_FAILURE = 'UPLOAD_ESI_FILE_FAILURE'\r\nexport const UPLOAD_ESI_FILE_SUCCESS = 'UPLOAD_ESI_FILE_SUCCESS'\r\nexport const esiFileUpload = {\r\n  request: () => action(UPLOAD_ESI_FILE_REQUEST, ),\r\n  success: (path) => action(UPLOAD_ESI_FILE_SUCCESS, {path}),\r\n  failure: (error) => action(UPLOAD_ESI_FILE_FAILURE, {error}),\r\n}\r\n\r\nexport const ESI_PATH_FETCH_REQUEST = 'ESI_PATH_FETCH_REQUEST'\r\nexport const ESI_PATH_FETCH_FAILURE = 'ESI_PATH_FETCH_FAILURE'\r\nexport const ESI_PATH_FETCH_SUCCESS = 'ESI_PATH_FETCH_SUCCESS'\r\nexport const LOAD_ESI_PATH = 'LOAD_ESI_PATH'\r\nexport const esiPath = {\r\n  request: () => action(ESI_PATH_FETCH_REQUEST, ),\r\n  success: (path) => action(ESI_PATH_FETCH_SUCCESS, {path}),\r\n  failure: (error) => action(ESI_PATH_FETCH_FAILURE, {error}),\r\n}\r\nexport const loadEsiPath = () => action(LOAD_ESI_PATH)\r\n\r\nexport const CONFIG_XML_FETCH_REQUEST = 'CONFIG_XML_FETCH_REQUEST'\r\nexport const CONFIG_XML_FETCH_FAILURE = 'CONFIG_XML_FETCH_FAILURE'\r\nexport const CONFIG_XML_FETCH_SUCCESS = 'CONFIG_XML_FETCH_SUCCESS'\r\nexport const LOAD_CONFIG_XML = 'LOAD_CONFIG_XML'\r\nexport const configXml = {\r\n  request: () => action(CONFIG_XML_FETCH_REQUEST, ),\r\n  success: (xml) => action(CONFIG_XML_FETCH_SUCCESS, {xml}),\r\n  failure: (error) => action(CONFIG_XML_FETCH_FAILURE, {error}),\r\n}\r\nexport const loadConfigXml = () => action(LOAD_CONFIG_XML)\r\n\r\nexport const PROGRAMS_FETCH_REQUEST = 'PROGRAMS_FETCH_REQUEST'\r\nexport const PROGRAMS_FETCH_FAILURE = 'PROGRAMS_FETCH_FAILURE'\r\nexport const PROGRAMS_FETCH_SUCCESS = 'PROGRAMS_FETCH_SUCCESS'\r\nexport const LOAD_PROGRAMS = 'LOAD_PROGRAMS'\r\nexport const programsLoad = {\r\n  request: () => action(PROGRAMS_FETCH_REQUEST, ),\r\n  success: (programs) => action(PROGRAMS_FETCH_SUCCESS, {programs}),\r\n  failure: (error) => action(PROGRAMS_FETCH_FAILURE, {error}),\r\n}\r\nexport const loadPrograms = () => action(LOAD_PROGRAMS)\r\n\r\nexport const PROGRAM_FETCH_REQUEST = 'PROGRAM_FETCH_REQUEST'\r\nexport const PROGRAM_FETCH_FAILURE = 'PROGRAM_FETCH_FAILURE'\r\nexport const PROGRAM_FETCH_SUCCESS = 'PROGRAM_FETCH_SUCCESS'\r\nexport const LOAD_PROGRAM = 'LOAD_PROGRAM'\r\nexport const programLoad = {\r\n  request: () => action(PROGRAM_FETCH_REQUEST, ),\r\n  success: (program) => action(PROGRAM_FETCH_SUCCESS, {program}),\r\n  failure: (error) => action(PROGRAM_FETCH_FAILURE, {error}),\r\n}\r\nexport const loadProgram = (name) => action(LOAD_PROGRAM, {name})\r\n\r\nexport const PROGRAM_CREATE_REQUEST = 'PROGRAM_CREATE_REQUEST'\r\nexport const PROGRAM_CREATE_FAILURE = 'PROGRAM_CREATE_FAILURE'\r\nexport const PROGRAM_CREATE_SUCCESS = 'PROGRAM_CREATE_SUCCESS'\r\nexport const TOGGLE_CREATE_PROGRAM_MODAL = 'TOGGLE_CREATE_PROGRAM_MODAL'\r\nexport const CREATE_PROGRAM = 'CREATE_PROGRAM'\r\nexport const programCreate = {\r\n  request: () => action(PROGRAM_CREATE_REQUEST, ),\r\n  success: (program) => action(PROGRAM_CREATE_SUCCESS, {program}),\r\n  failure: (error) => action(PROGRAM_CREATE_FAILURE, {error}),\r\n}\r\nexport const createProgram = ({name}) => action(CREATE_PROGRAM, {name})\r\nexport const toggleCreateProgramModal = () => action(TOGGLE_CREATE_PROGRAM_MODAL)\r\n\r\n\r\nexport const PROGRAM_UPDATE_REQUEST = 'PROGRAM_UPDATE_REQUEST'\r\nexport const PROGRAM_UPDATE_FAILURE = 'PROGRAM_UPDATE_FAILURE'\r\nexport const PROGRAM_UPDATE_SUCCESS = 'PROGRAM_UPDATE_SUCCESS'\r\nexport const UPDATE_PROGRAM = 'UPDATE_PROGRAM'\r\nexport const programUpdate = {\r\n  request: (name, program) => action(PROGRAM_UPDATE_REQUEST, {name, program}),\r\n  success: (program) => action(PROGRAM_UPDATE_SUCCESS, {program}),\r\n  failure: (error) => action(PROGRAM_UPDATE_FAILURE, {error}),\r\n}\r\nexport const updateProgram = (name, program) => action(UPDATE_PROGRAM, {name, program})\r\n\r\nexport const PROGRAM_DELETE_REQUEST = 'PROGRAM_DELETE_REQUEST'\r\nexport const PROGRAM_DELETE_FAILURE = 'PROGRAM_DELETE_FAILURE'\r\nexport const PROGRAM_DELETE_SUCCESS = 'PROGRAM_DELETE_SUCCESS'\r\nexport const DELETE_PROGRAM = 'DELETE_PROGRAM'\r\nexport const TOGGLE_DELETE_PROGRAM_MODAL = 'TOGGLE_DELETE_PROGRAM_MODAL'\r\nexport const programDelete = {\r\n  request: (program) => action(PROGRAM_DELETE_REQUEST, {program}),\r\n  success: (program) => action(PROGRAM_DELETE_SUCCESS, {program}),\r\n  failure: (error) => action(PROGRAM_DELETE_FAILURE, {error}),\r\n}\r\nexport const deleteProgram = (name) => action(DELETE_PROGRAM, {name})\r\nexport const toggleDeleteProgramModal = (name) => action(TOGGLE_DELETE_PROGRAM_MODAL, {name})\r\n\r\n\r\nexport const PROGRAM_RENAME_REQUEST = 'PROGRAM_RENAME_REQUEST'\r\nexport const PROGRAM_RENAME_FAILURE = 'PROGRAM_RENAME_FAILURE'\r\nexport const PROGRAM_RENAME_SUCCESS = 'PROGRAM_RENAME_SUCCESS'\r\nexport const RENAME_PROGRAM = 'RENAME_PROGRAM'\r\nexport const TOGGLE_EDIT_PROGRAM_NAME = 'TOGGLE_EDITING_PROGRAM_NAME'\r\nexport const programRename = {\r\n  request: (name, newName, copy) => action(PROGRAM_RENAME_REQUEST, {name, newName, copy}),\r\n  success: (name, program, copy) => action(PROGRAM_RENAME_SUCCESS, {name, program, copy}),\r\n  failure: (error) => action(PROGRAM_RENAME_FAILURE, {error}),\r\n}\r\nexport const renameProgram = (name, newName, copy) => action(RENAME_PROGRAM, {name, newName, copy})\r\nexport const toggleEditProgramName = (name) => action(TOGGLE_EDIT_PROGRAM_NAME, {name})\r\nexport const RESET_RENAME_PROGRAM_STATUS = 'RESET_RENAME_PROGRAM_STATUS'\r\nexport const resetRenameProgramStatus = () => action(RESET_RENAME_PROGRAM_STATUS)\r\n","import { createSelector, createSelectorCreator } from 'reselect'\r\nimport memoize from 'lodash/memoize'\r\nimport isNumber from 'lodash/isNumber'\r\nimport isArray from 'lodash/isArray'\r\nimport isEqual from 'lodash/isEqual'\r\n\r\nconst hashFn = (...args) => {\r\n  return args.reduce(\r\n    (acc, val) => acc + '-' + JSON.stringify(val),\r\n    ''\r\n  )\r\n}\r\nexport const hashEqualSelectorCreator = createSelectorCreator(memoize, hashFn)\r\n\r\nexport const getResultByCell = (state, props) => state.robot.resultsByChannel[props.cell.i]\r\nexport const getResultByChannel = (state, channel) => state.robot.resultsByChannel[channel]\r\n\r\nexport const getMemoizeResultByCell = hashEqualSelectorCreator(\r\n  getResultByCell,\r\n  (result)=>result\r\n)\r\n\r\nexport const getMemoizeResultByChannel = hashEqualSelectorCreator(\r\n  getResultByChannel,\r\n  (result)=>result\r\n)\r\n\r\n\r\nexport const getDataSources = (state, {cell}) => {\r\n  const options = {...cell.options}\r\n  const channel = options.channel === 'command'?cell.i:'get'\r\n  const result = state.robot.resultsByChannel[channel]\r\n  if(result){\r\n    return Object.keys(result).filter(key=>{\r\n      if(isNumber(result[key])){\r\n        return true\r\n      }\r\n      if(isArray(result[key]) && isNumber(result[key][0])){\r\n        return true\r\n      }\r\n      return false\r\n    })\r\n  }else{\r\n    return []\r\n  }\r\n}\r\n\r\nexport const getMemoizeDataSources = hashEqualSelectorCreator(\r\n  getDataSources,\r\n  (result)=>result\r\n)\r\n\r\nexport const getDataIndexesBySource = (state, {cell}) => {\r\n  const options = {...cell.options}\r\n  const channel = options.channel === 'command'?cell.i:'get'\r\n  const result = state.robot.resultsByChannel[channel]\r\n  const indexes = {}\r\n  if(result){\r\n    const sources = getDataSources(state, {cell})\r\n    sources.forEach(source=>{\r\n      if(isArray(result[source]) && isNumber(result[source][0])){\r\n        indexes[source] = result[source].map((d,i)=>i)\r\n      }\r\n    })\r\n  }\r\n  return indexes\r\n}\r\n\r\nexport const getMemoizeDataIndexesBySource = hashEqualSelectorCreator(\r\n  getDataIndexesBySource,\r\n  (result)=>result\r\n)\r\n\r\nexport const getResultByCellChannel = (state, {cell}) => {\r\n  if(cell.options.channel === 'command'){\r\n    return {cell, result: getResultByChannel(state, cell.i)}\r\n  } else{\r\n    return {cell, result: getResultByChannel(state, \"get\")}\r\n  }\r\n}\r\n\r\nexport const makeGetResultsByCellChannel = (cacheSize=10000) => {\r\n  let cachedResults = {}\r\n  let cachedSources = null\r\n  return createSelector(\r\n    getResultByCellChannel,\r\n    ({result, cell})=>{\r\n      if(cell.options.paused){\r\n        return cachedResults\r\n      }\r\n      if(!isEqual(cell.options.sources, cachedSources)){\r\n        if(cell.options.sources){\r\n          cachedSources = [...cell.options.sources]\r\n        }else{\r\n          cachedSources = []\r\n        }\r\n        cachedResults = {}\r\n      }\r\n      cachedResults = {...cachedResults}\r\n      if(result){\r\n        let d = new Date();\r\n        let hr = d.getHours();\r\n        let min = d.getMinutes();\r\n        if (min < 10) {\r\n          min = \"0\" + min;\r\n        }\r\n        let sec = d.getSeconds()\r\n        if (sec<10){\r\n          sec =\"0\"+sec\r\n        }\r\n        let name = d.toString()\r\n        let time = `${hr}:${min}:${sec}`\r\n        cachedSources.map(source=>{\r\n          let key = source.source\r\n          if(!!source.index || source.index === 0){\r\n            key = `${key}_${source.index}`\r\n          }\r\n          if(!cachedResults[key]){\r\n            cachedResults[key]=[]\r\n          }\r\n          if(isArray(result[source.source]) && isNumber(result[source.source][source.index])){\r\n            cachedResults[key] = [...cachedResults[key], {\r\n              name,\r\n              value: [time, result[source.source][source.index]]\r\n            }]\r\n          }else if(isNumber(result[source.source])){\r\n            cachedResults[key] = [...cachedResults[key], {\r\n              name,\r\n              value:[time, result[source.source]]\r\n            }]\r\n          }else{\r\n            cachedResults[key] = [...cachedResults[key], {\r\n              name,\r\n              value:[time, 0]\r\n            }]\r\n          }\r\n          let length = cachedResults[key].length;\r\n          if(length > cacheSize){\r\n            cachedResults[key].splice( 0, length - cacheSize);\r\n          }\r\n        })\r\n      }\r\n      return cachedResults\r\n    }\r\n  )\r\n}\r\n\r\nexport const makeGetResultsByCell = (cacheSize=10000) => {\r\n  let cachedResults = []\r\n  return createSelector(\r\n    getResultByCell,\r\n    (result, cell)=>{\r\n      console.log(cell)\r\n      if(result){\r\n        cachedResults.push(result)\r\n      }\r\n      let length = cachedResults.length;\r\n      if(length > cacheSize){\r\n        cachedResults.splice( 0, length - cacheSize);\r\n      }\r\n      return cachedResults\r\n    }\r\n  )\r\n}\r\n\r\nexport const getManualMotionVel = state => state.robot.manualMotionVel\r\n\r\nexport const makeGetResultsByChannel = (cacheSize=10000) => {\r\n  let cachedResults = []\r\n  return createSelector(\r\n    getResultByCell,\r\n    (result)=>{\r\n      if(result){\r\n        cachedResults.push(result)\r\n      }\r\n      let length = cachedResults.length;\r\n      if(length > cacheSize){\r\n        cachedResults.splice( 0, length - cacheSize);\r\n      }\r\n      return cachedResults\r\n    }\r\n  )\r\n}\r\n\r\nexport const getGetChannel = state => state.robot.resultsByChannel.get\r\n\r\n\r\nconst getAI = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.ai\r\nexport const getMemoizeAI = createSelector(\r\n  getAI,\r\n  (ai)=>ai\r\n)\r\n\r\nconst getDI = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.di\r\nexport const getMemoizeDI = createSelector(\r\n  getDI,\r\n  (di)=>di\r\n)\r\n\r\nconst getEndPE = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.end_pe\r\nexport const getMemoizeEndPE = hashEqualSelectorCreator(\r\n  getEndPE,\r\n  (end_pe)=>end_pe\r\n)\r\n\r\nexport const getEndPQ = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.end_pq\r\nexport const getMemoizeEndPQ = createSelector(\r\n  getEndPQ,\r\n  (end_pq)=>end_pq\r\n)\r\n\r\nconst getMotionAcc = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.motion_acc\r\nexport const getMemoizeMotionAcc = createSelector(\r\n  getMotionAcc,\r\n  (motion_acc)=>motion_acc\r\n)\r\n\r\nconst getMotionPos = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.motion_pos\r\nexport const getMemoizeMotionPos = hashEqualSelectorCreator(\r\n  getMotionPos,\r\n  (motion_pos)=>motion_pos\r\n)\r\n\r\nconst getMoitionState = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.motion_state\r\nexport const getMemoizeMotionState = hashEqualSelectorCreator(\r\n  getMoitionState,\r\n  (motion_state)=>motion_state\r\n)\r\n\r\nexport const getPartToq= state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.motion_toq\r\nexport const getMemoizeMotionToq = hashEqualSelectorCreator(\r\n  getPartToq,\r\n  (motion_toq)=>motion_toq\r\n)\r\n\r\nexport const getMotionVel = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.motion_vel\r\n\r\n\r\nexport const getPartPQ = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.part_pq\r\nexport const getMemoizePartPQ = hashEqualSelectorCreator(\r\n  getPartPQ,\r\n  (part_pq)=>part_pq\r\n)\r\nexport const getMemoizeUnityPartPQString = hashEqualSelectorCreator(\r\n  getMemoizePartPQ,\r\n  (part_pq)=>part_pq && part_pq.join('&')\r\n)\r\n\r\nexport const getReturnCode = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.return_code\r\n\r\nexport const getSlaveAlState = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.slave_al_state\r\n\r\nexport const getMemoizeSlaveAlState = createSelector(\r\n  getSlaveAlState,\r\n  (slave_al_state)=>slave_al_state\r\n)\r\n\r\nexport const getSlaveLinkNum = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.slave_link_num\r\n\r\nexport const getMemoizeSlaveLinkNum = hashEqualSelectorCreator(\r\n  getSlaveLinkNum,\r\n  (slave_link_num)=>slave_link_num\r\n)\r\n\r\nexport const getSlaveOnlineState = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.slave_online_state\r\n\r\nexport const getMemoizeSlaveOnlineState = hashEqualSelectorCreator(\r\n  getSlaveOnlineState,\r\n  (slave_online_state)=>slave_online_state\r\n)\r\n\r\nexport const getStateCode = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.state_code\r\nexport const getCurrentPlan = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.current_plan\r\nexport const getCurrentPlanId = state => state.robot.resultsByChannel.get && state.robot.resultsByChannel.get.current_plan_id\r\n\r\nexport const getToolIds = state => state.robot.toolIds\r\nexport const getWorkObjectIds = state => state.robot.workObjectIds\r\nexport const getCoordinateIds = state => state.robot.coordinateIds\r\n\r\nexport const getCurrentToolId = state => state.robot.currentToolId\r\nexport const getCurrentWorkObjectId = state => state.robot.currentWorkObjectId\r\nexport const getCurrentCoordinateId = state => state.robot.currentCoordinateId\r\nexport const getCurrentMotionVelPercent = state => state.robot.currentMotionVelPercent || 0\r\n\r\nexport const getCurrentCommand = state => state.robot.currentCommand\r\n\r\nexport const getRobotModels = state => state.robot.robotModels\r\n\r\nexport const getCreatingRobotModel = state => state.robot.creatingRobotModel\r\nexport const getCreatingRobotModelError = state => state.robot.creatingRobotModelError\r\nexport const getCreatingRobotModelResult = state => state.robot.creatingRobotModelResult\r\nexport const getCreateRobotModelModalVisible = state => state.robot.createRobotModelModalVisible\r\nexport const getCurrentRobotBrand = state => state.robot.currentRobotBrand\r\nexport const getCurrentRobotModel = state => state.robot.currentRobotModel\r\n\r\nexport const getEsiPath = state => state.robot.esiPath\r\n\r\nexport const getXml = state => state.robot.xml\r\n\r\nexport const getPrograms = state => state.robot.programs\r\n\r\nexport const getCreatingProgramStatus = state => ({\r\n  showCreateProgramModal: state.robot.showCreateProgramModal,\r\n  creatingProgram: state.robot.creatingProgram,\r\n  creatingProgramFailure: state.robot.creatingProgramFailure,\r\n  creatingProgramSuccess: state.robot.creatingProgramSuccess,\r\n})\r\n\r\nexport const getDeletingProgramStatus = state => ({\r\n  showDeleteProgramModal: state.robot.showDeleteProgramModal,\r\n  deletingProgram: state.robot.deletingProgram,\r\n  deletingProgramFailure: state.robot.deletingProgramFailure,\r\n  deletingProgramSuccess: state.robot.deletingProgramSuccess,\r\n})\r\n\r\nexport const getEditingProgramNameStatus = state => ({\r\n  editingProgramName: state.robot.editingProgramName,\r\n  renamingProgram: state.robot.renamingProgram,\r\n  renamingProgramFailure: state.robot.renamingProgramFailure,\r\n  renamingProgramSuccess: state.robot.renamingProgramSuccess,\r\n})\r\n","export const getPathname = state => state.router.pathname","import { createSelector } from 'reselect'\r\nimport { getPathname } from \"./router\";\r\n\r\n\r\n\r\nconst getFullDashboards = (state) => state.config.dashboards\r\n\r\nexport const getDashboards = createSelector(\r\n  getFullDashboards,\r\n  dashboards=> dashboards && dashboards.map(d=>({\r\n    name: d.name,\r\n    i: d.i,\r\n    editable: d.editable\r\n  }))\r\n)\r\n\r\nexport const getDashboardAndCells = (state, id) => {\r\n  const dashboards = getFullDashboards(state)\r\n  if (dashboards) {\r\n    return dashboards.filter(d=>d.i === id)[0]\r\n  }\r\n}\r\n\r\nexport const makeGetDashboard = (id) =>{\r\n  return createSelector(\r\n    getDashboards,\r\n    dashboards=>dashboards && dashboards.filter(d=>d.i === id)[0]\r\n  )\r\n}\r\n\r\nexport const getCurrentDashboardAndCells = createSelector(\r\n  getFullDashboards,\r\n  getPathname,\r\n  (dashboards, pathname) => {\r\n    if(pathname !== '/' && pathname.indexOf('/dashboards/') !== -1){\r\n      const id = pathname.replace(\"/dashboards/\", \"\")\r\n      const dashboard = dashboards && dashboards.filter(d=>d.i === id)[0]\r\n      if(dashboard) {\r\n        return dashboard\r\n      }\r\n    }\r\n    return dashboards && dashboards[0]\r\n  }\r\n)\r\n\r\nexport const getCurrentDashboardId = createSelector(\r\n  getDashboards,\r\n  getPathname,\r\n  (dashboards, pathname) => {\r\n    if(pathname !== '/' && pathname.indexOf('/dashboards/') !== -1){\r\n      const id = pathname.replace(\"/dashboards/\", \"\")\r\n      const dashboard = dashboards && dashboards.filter(d=>d.i === id)[0]\r\n      if(dashboard) {\r\n        return dashboard.i\r\n      }\r\n    }\r\n    return dashboards && dashboards[0].i\r\n  }\r\n)\r\n\r\nexport const getCurrentDashboard = createSelector(\r\n  getDashboards,\r\n  getPathname,\r\n  (dashboards, pathname) => {\r\n    if(pathname !== '/' && pathname.indexOf('/dashboards/') !== -1){\r\n      const id = pathname.replace(\"/dashboards/\", \"\")\r\n      const dashboard = dashboards && dashboards.filter(d=>d.i === id)[0]\r\n      if(dashboard) {\r\n        return dashboard\r\n      }\r\n    }\r\n    return dashboards && dashboards[0]\r\n  }\r\n)\r\n\r\nexport const getCreatingCellStatus = state => ({\r\n  showCreateCellModal: state.config.showCreateCellModal,\r\n  creatingCell: state.config.creatingCell,\r\n  creatingCellFailure: state.config.creatingCellFailure,\r\n  creatingCellSuccess: state.config.creatingCellSuccess,\r\n})\r\n","import { createSelector, createSelectorCreator } from 'reselect'\r\nimport memoize from 'lodash/memoize'\r\n\r\nexport const getWebsocketConnected = state=>state.robot.websocketConnected\r\n\r\nexport const getWsUrl = ({config}) => config.ws && config.ws.url\r\nexport const getCommandSendInterval = ({config}) => config.ws && config.ws.commandSendInterval\r\nexport const getGetInterval = ({config}) => config.ws && config.ws.getInterval\r\nexport const getCommandSendDelay = ({config}) => config.ws && config.ws.commandSendDelay\r\nexport const getUnityUpdateInterval = ({config}) => config.ws && config.ws.unityUpdateInterval\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from 'react-redux'\r\nimport Unity, { UnityContent } from \"react-unity-webgl\";\r\nimport throttle from 'lodash/throttle'\r\nimport {loadConfigXml, deleteResultByChannel} from \"../../actions\"\r\n\r\nimport {getMemoizeUnityPartPQString, getUnityUpdateInterval, getXml} from \"../../selectors\";\r\n\r\nclass View3D extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.unityContent = new UnityContent(\r\n      \"/unity/8.json\",\r\n      \"/unity/UnityLoader.js\"\r\n    );\r\n    this.state = {}\r\n    this.unityContent.on(\"progress\", progression => {\r\n      this.setState({\r\n        progression: progression\r\n      });\r\n      if(progression === 1){\r\n        this.unityContent.send(\"empt\", \"GetUrlFromJs\", window.location.origin)\r\n        if(this.props.xml){\r\n          this.unityContent.send(\"empt\", \"GetRobotXmlFromJS\", this.props.xml)\r\n        }\r\n        if(this.props.partPQ){\r\n          this.unityContent.send(\"empt\", \"ReceiveDataFromJs\", this.props.partPQ)\r\n        }\r\n        this.unityContent.send(\"empt\", \"SetCameraBackGround\", \"0&0&0\")\r\n        this.unityContent.send(\"empt\", \"SetFPS\", \"20\");\r\n      }\r\n    });\r\n    this.throttleSend = throttle(this.unityContent.send.bind(this.unityContent), this.props.unityUpdateInterval)\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.deleteResultByChannel('xml')\r\n    this.props.loadConfigXml()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unityContent.remove(\"progress\")\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    if(nextProps.xml !== this.props.xml && nextProps.xml){\r\n      if(this.state.progression === 1){\r\n        this.unityContent.send(\"empt\", \"GetRobotXmlFromJS\", nextProps.xml)\r\n      }\r\n    }\r\n    if(nextProps.partPQ !== this.props.partPQ && nextProps.partPQ){\r\n      if(this.state.progression === 1){\r\n        setTimeout(()=>{\r\n          this.throttleSend(\"empt\", \"ReceiveDataFromJs\", nextProps.partPQ)\r\n        },0)\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  unityProgress(gameInstance, progress) {\r\n    if (!gameInstance.Module) {\r\n      return;\r\n    }\r\n    this.setState({progress: gameInstance.progress})\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.error('View3D componentDidMount()')\r\n  }\r\n\r\n  renderLogger = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('view3d', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n      ref={ref=>this.container=ref}\r\n    >\r\n      <Unity unityContent={this.unityContent} />\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderLogger}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nView3D.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  xml: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    xml: getXml(state),\r\n    partPQ: getMemoizeUnityPartPQString(state),\r\n    unityUpdateInterval: getUnityUpdateInterval(state)\r\n  }\r\n}\r\n\r\nconst ConnectedView3D =  connect(\r\n  mapStateToProps,\r\n  {\r\n    loadConfigXml,\r\n    deleteResultByChannel,\r\n  }\r\n)(View3D)\r\n\r\nConnectedView3D.NAME = '三维视图'\r\nexport default ConnectedView3D\r\n\r\n","import React, {Component} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\n// 基类cell\r\nclass CellBase extends Component {\r\n  interval = null\r\n  timeout = null\r\n  // 组件加载完之后执行\r\n  componentDidMount() {\r\n    // console.log(\"CellBase Mount()\")\r\n  }\r\n  // 发送cmd命令 channel是代表是get还是post\r\n  sendCmd = (cmd, channel) => {\r\n    let {sendCmd, cell} = this.props\r\n    sendCmd(cmd, channel || cell.i)\r\n  }\r\n   \r\n  getSendCmdFn = (cmd, channel) => {\r\n    return (()=>{\r\n      this.sendCmd(cmd, channel)\r\n    }).bind(this)\r\n  }\r\n  // 鼠标点下的时候触发\r\n  getOnMouseDownFn = (cmd, channel) => {\r\n    return (()=>{\r\n      if(this.interval){\r\n        clearInterval(this.interval)\r\n      }\r\n      const {commandSendInterval, commandSendDelay} = this.props\r\n      // let start = new Date()\r\n      let fn = ()=>{\r\n        // let now = new Date()\r\n        // console.info(`${commandSendInterval}ms sendCmd ${channel} ${cmd} ${now - start}ms`)\r\n        // start = now\r\n        this.sendCmd(cmd, channel)\r\n      }\r\n      let self = this\r\n      self.timeout = setTimeout(()=>{\r\n        self.interval = setInterval(fn, commandSendInterval)\r\n      }, commandSendDelay)  // 设置一个时间间隔来循环执行这个函数\r\n    }).bind(this)\r\n  }\r\n  getOnMouseUpFn = (cmd, channel) => {\r\n    return (()=>{\r\n      if(this.timeout){\r\n        clearTimeout(this.timeout)\r\n      }\r\n      if(this.interval){\r\n        clearInterval(this.interval)\r\n      }\r\n      if(this.timeout && this.interval && cmd && channel){\r\n        setTimeout(()=>{\r\n          this.sendCmd(cmd, channel)\r\n        }, 10)\r\n        this.timeout = null\r\n        this.interval = null\r\n      }\r\n    }).bind(this)\r\n  }\r\n  // 存数据\r\n  getOptions = () => {\r\n    let {cell} = this.props\r\n    if(!cell.options){\r\n      return {}\r\n    }else{\r\n      return cell.options\r\n    }\r\n  }\r\n  // 更新数据 可以将数据存到go后端的xml中，便于保存状态\r\n  updateOptions = options => {\r\n    let cell = {...this.props.cell}\r\n    cell.options = {...cell.options, ...options}\r\n    this.props.onCellUpdate(cell)\r\n  }\r\n\r\n  renderContent = ({prefixCls}) => {\r\n    throw new Error(\"renderComponent not implemented\")\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nCellBase.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n  commandSendInterval: PropTypes.number.isRequired,\r\n  commandSendDelay: PropTypes.number.isRequired\r\n}\r\n\r\nexport default CellBase\r\n\r\n","import React from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Row from \"antd/lib/row\"\r\nimport Button from \"antd/lib/button\"\r\nimport { createSelector } from 'reselect'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  sendCmd\r\n} from '../../../actions'\r\nimport CellBase from \"../CellBase\";\r\nimport {\r\n  getMemoizeEndPE,\r\n  getCurrentMotionVelPercent,\r\n  getCurrentCoordinateId, getCurrentToolId, getCurrentWorkObjectId\r\n} from \"../../../selectors\";\r\n\r\n\r\nclass JogCoordinate extends CellBase {\r\n  renderJogCoordinate = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      endPE,\r\n      motionVelPercent,\r\n      coordinateId,\r\n      toolId,\r\n      workObjectId,\r\n      cell,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('jog-coordinate', customizePrefixCls);\r\n    const radioStyle = {\r\n      display: 'block',\r\n      height: '30px',\r\n      lineHeight: '30px',\r\n    };\r\n    const names = ['X', 'Y', 'Z', 'RX', 'RY', 'RZ']\r\n    const types = ['x', 'y', 'z', 'rx', 'ry', 'rz']\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      {\r\n        names.map((name, index)=>(<Row key={name}>\r\n          <Button\r\n            type=\"primary\"\r\n            size={\"large\"}\r\n            onClick={()=>{\r\n              this.getSendCmdFn(\r\n                `j${types[index]} --vel_percent=${motionVelPercent} --direction=-1 --cor=${coordinateId} --tool=tool${toolId} --wobj=wobj${workObjectId}`,\r\n                cell.i\r\n              )()\r\n            }}\r\n            onMouseDown={()=>{\r\n              this.getOnMouseDownFn(\r\n                `j${types[index]} --vel_percent=${motionVelPercent} --direction=-1 --cor=${coordinateId} --tool=tool${toolId} --wobj=wobj${workObjectId}`,\r\n                cell.i\r\n              )()\r\n            }}\r\n            onMouseUp={()=>{\r\n              this.getOnMouseUpFn(`j${types[index]} --stop`, cell.i)()\r\n            }}\r\n            onMouseOut={()=>{\r\n              this.getOnMouseUpFn(`j${types[index]} --stop`, cell.i)()\r\n            }}\r\n          >{name}-</Button>\r\n          <Row className={`${prefixCls}-end_pe`}>\r\n          <div>\r\n          {/* <span>{name}</span> */}\r\n          {/* {console.log(index)} */}\r\n          {!!(name == 'X'||'Y'||'Z')?<span>{!!endPE && (!!endPE[index] || endPE[index]===0)?(endPE[index]*1000).toFixed(3):'null'}</span>:<span>{!!endPE && (!!endPE[index] || endPE[index]===0)?(endPE[index]/Math.PI*180).toFixed(3):'null'}</span>}\r\n        </div>\r\n        </Row>\r\n            <Button\r\n              type=\"primary\"\r\n              size={\"large\"}\r\n              onClick={()=>{\r\n                this.getSendCmdFn(\r\n                  `j${types[index]} --vel_percent=${motionVelPercent} --direction=1 --cor=${coordinateId} --tool=tool${toolId} --wobj=wobj${workObjectId}`,\r\n                  cell.i\r\n                )()\r\n              }}\r\n              onMouseDown={()=>{\r\n                this.getOnMouseDownFn(\r\n                  `j${types[index]} --vel_percent=${motionVelPercent} --direction=1 --cor=${coordinateId} --tool=tool${toolId} --wobj=wobj${workObjectId}`,\r\n                  cell.i\r\n                )()\r\n              }}\r\n              onMouseUp={()=>{\r\n                this.getOnMouseUpFn(`j${types[index]} --stop`, cell.i)()\r\n              }}\r\n              onMouseOut={()=>{\r\n                this.getOnMouseUpFn(`j${types[index]} --stop`, cell.i)()\r\n              }}\r\n            >{name}+</Button>\r\n          </Row>)\r\n        )\r\n      }\r\n      {/* <Row className={`${prefixCls}-end_pe`}>\r\n        <div>\r\n          <span>X</span>\r\n          <span>{!!endPE && (!!endPE[0] || endPE[0]===0)?(endPE[0]*1000).toFixed(3):'null'}</span>\r\n        </div>\r\n        <div>\r\n          <span>Y</span>\r\n          <span>{!!endPE && (!!endPE[1] || endPE[1]===0)?(endPE[1]*1000).toFixed(3):'null'}</span>\r\n        </div>\r\n        <div>\r\n          <span>Z</span>\r\n          <span>{!!endPE && (!!endPE[2] || endPE[2]===0)?(endPE[2]*1000).toFixed(3):'null'}</span>\r\n        </div>\r\n      </Row>\r\n      <Row className={`${prefixCls}-end_pe`}>\r\n        <div>\r\n          <span>RX</span>\r\n          <span>{!!endPE && (!!endPE[3] || endPE[3]===0)?(endPE[3]/Math.PI*180).toFixed(3):'null'}</span>\r\n        </div>\r\n        <div>\r\n          <span>RY</span>\r\n          <span>{!!endPE && (!!endPE[4] || endPE[4]===0)?(endPE[4]/Math.PI*180).toFixed(3):'null'}</span>\r\n        </div>\r\n        <div>\r\n          <span>RZ</span>\r\n          <span>{!!endPE && (!!endPE[5] || endPE[5]===0)?(endPE[5]/Math.PI*180).toFixed(3):'null'}</span>\r\n        </div>\r\n      </Row> */}\r\n      \r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderJogCoordinate}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nJogCoordinate.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  motionVelPercent: PropTypes.number,\r\n  coordinateId: PropTypes.number.isRequired,\r\n  toolId: PropTypes.number.isRequired,\r\n  workObjectId: PropTypes.number.isRequired,\r\n  endPE: PropTypes.array,\r\n}\r\n\r\n\r\nexport const getJogCoordinateState = createSelector(\r\n  getCurrentMotionVelPercent,\r\n  getCurrentCoordinateId,\r\n  getCurrentToolId,\r\n  getCurrentWorkObjectId,\r\n  getMemoizeEndPE,\r\n  (motionVelPercent, coordinateId, toolId, workObjectId, endPE) => {\r\n    return {\r\n      coordinateId,\r\n      motionVelPercent,\r\n      toolId,\r\n      workObjectId,\r\n      endPE\r\n    }\r\n  }\r\n)\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return getJogCoordinateState(state)\r\n}\r\n\r\nconst ConnectedJogCoordinate = connect(\r\n  mapStateToProps,\r\n  {\r\n    sendCmd,\r\n  },\r\n)(JogCoordinate)\r\n\r\nConnectedJogCoordinate.NAME = '手动笛卡尔坐标系Jog组件'\r\n\r\n\r\nexport default  ConnectedJogCoordinate\r\n","import React from 'react'\r\n\r\nexport default (props) => (<svg width=\"90px\" height=\"76px\" viewBox=\"0 0 90 76\" version=\"1.1\" {...props}>\r\n  <rect fillRule=\"nonzero\" x=\"0\" y=\"55.243\" width=\"18.306\" height=\"20.204\"></rect>\r\n  <rect fillRule=\"nonzero\" x=\"23.711\" y=\"37.304\" width=\"18.493\" height=\"38.143\"></rect>\r\n  <rect fillRule=\"nonzero\" x=\"47.609\" y=\"18.929\" width=\"18.493\" height=\"56.518\"></rect>\r\n  <rect fillRule=\"nonzero\" x=\"71.507\" y=\"0.38\" width=\"18.493\" height=\"75.067\"></rect>\r\n</svg>)\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport Row from \"antd/lib/row\"\r\nimport Button from \"antd/lib/button\"\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport {\r\n  sendCmd\r\n} from '../../../actions'\r\nimport Wifi from \"../../icons/Wifi\"\r\nimport CellBase from \"../CellBase\";\r\nimport {\r\n  getMemoizeMotionPos,\r\n  getMemoizeMotionState,\r\n  getMemoizeSlaveAlState,\r\n  getMemoizeSlaveOnlineState,\r\n  getCurrentMotionVelPercent\r\n} from \"../../../selectors\";\r\n\r\n\r\nclass JogJoint extends CellBase {\r\n  \r\n  renderJogJoint = ({getPrefixCls}) => {\r\n    \r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      slaveOnlineState,\r\n      slaveAlState,\r\n      motionState,\r\n      motionPos,\r\n      motionVelPercent,\r\n    } = this.props\r\n\r\n    \r\n    let options = this.getOptions()\r\n    const jogList = options.jogList || 6\r\n    const updataJogList = () =>{\r\n      this.updateOptions({\r\n        ...options,\r\n        jogList: jogList + 1\r\n      })\r\n    }\r\n    const deleteJogList = () =>{\r\n      this.updateOptions({\r\n        ...options,\r\n        jogList: jogList - 1\r\n      })\r\n    }\r\n    const prefixCls = getPrefixCls('jog-joint', customizePrefixCls);\r\n    let list = []\r\n    for(var i = 0;i<jogList;i++){\r\n      list.push(i)\r\n    }\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >  \r\n    \r\n      {  \r\n\r\n      list.map((i) => <Row key={i}>\r\n          <Button\r\n            type=\"primary\"\r\n            size={\"large\"}\r\n            onClick={()=> {\r\n              this.sendCmd(`j${i+1} --direction=-1 --vel_percent=${motionVelPercent}`, cell.i)\r\n            }}\r\n            onMouseDown={()=>{\r\n              this.getOnMouseDownFn(\r\n                `j${i+1} --direction=-1 --vel_percent=${motionVelPercent}`,\r\n                cell.i\r\n              )()\r\n            }}\r\n            onMouseUp={()=>{\r\n              this.getOnMouseUpFn(`j${i+1} --stop`, cell.i)()\r\n            }}\r\n            onMouseOut={()=>{\r\n              this.getOnMouseUpFn(`j${i+1} --stop`, cell.i)()\r\n            }}\r\n          >J{i+1}-</Button>\r\n          <div className={`${prefixCls}-status`}>\r\n            <span>\r\n              {(motionPos && (motionPos[i] || motionPos[i] === 0))?(motionPos[i]/Math.PI*180).toFixed(3):'null'}\r\n            </span>\r\n            <div className={`${prefixCls}-status-icons`}>\r\n              <Icon component={Wifi} className={`${\r\n                (!slaveOnlineState || !slaveOnlineState[i])?`${prefixCls}-slave-online-state disabled`:`${prefixCls}-slave-online-state ${prefixCls}-slave-online-state-${slaveAlState && slaveAlState[i]}`\r\n              }`}/>\r\n              {\r\n                !!(motionState && motionState[i]) && <Icon type=\"check-circle\" theme={\"filled\"} className={\"success\"} />\r\n              }\r\n             \r\n              {\r\n                 !!(!motionState || !motionState[i]) && <Icon type=\"check-circle\" theme={\"filled\"} className={\"disabled\"}/>\r\n              }\r\n            </div>\r\n          </div>\r\n          <Button\r\n            type=\"primary\"\r\n            size={\"large\"}\r\n            onClick={()=> {\r\n            this.sendCmd(`j${i+1} --direction=1 --vel_percent=${motionVelPercent}`, cell.i)\r\n          }}\r\n            onMouseDown={()=>{\r\n              this.getOnMouseDownFn(\r\n                `j${i+1} --direction=1 --vel_percent=${motionVelPercent}`,\r\n                cell.i\r\n              )()\r\n            }}\r\n            onMouseUp={()=>{\r\n              this.getOnMouseUpFn(`j${i+1} --stop`, cell.i)()\r\n            }}\r\n            onMouseOut={()=>{\r\n              this.getOnMouseUpFn(`j${i+1} --stop`, cell.i)()\r\n            }}\r\n          >J{i+1}+</Button>\r\n        </Row>)\r\n      }\r\n      <Button className={`${prefixCls}-addJogJoint`} size={\"small\"} shape={\"round\"} onClick={this.addButtonFunc = ()=>{\r\n        updataJogList()\r\n      }}>添加</Button>\r\n      <Button className={`${prefixCls}-deleteJogJoint`} size={\"small\"} shape={\"round\"} onClick={this.deleteButtonFunc = ()=>{\r\n        deleteJogList()\r\n      }}>删除</Button>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderJogJoint}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nJogJoint.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  vel: PropTypes.number,\r\n  motionPos: PropTypes.array,\r\n  slaveOnlineState: PropTypes.array,\r\n}\r\n\r\nconst getJogJointState = createSelector(\r\n  getCurrentMotionVelPercent,\r\n  getMemoizeMotionPos,\r\n  getMemoizeMotionState,\r\n  getMemoizeSlaveOnlineState,\r\n  getMemoizeSlaveAlState,\r\n  (motionVelPercent, motionPos, motionState, slaveOnlineState, slaveAlState) => {\r\n    return {\r\n      motionVelPercent,\r\n      motionPos,\r\n      motionState,\r\n      slaveOnlineState,\r\n      slaveAlState\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state) {\r\n  return getJogJointState(state)\r\n}\r\n\r\nconst ConnectedJogJoint = connect(\r\n  mapStateToProps,\r\n  {\r\n    sendCmd,\r\n  },\r\n)(JogJoint)\r\n\r\nConnectedJogJoint.NAME = '手动关节坐标系Jog组件'\r\n// ConnectedJogJoint.CONFIG = Config\r\n\r\nexport default ConnectedJogJoint\r\n\r\n","export const getConfig = ({config}) => config\r\n\r\nexport const getDashboards = ({config}) => config && config.dashboards\r\n\r\nexport const getDashboard  = ({config, router:{pathname}}) => {\r\n  if(config && config.dashboards){\r\n    if(pathname === '/' || pathname.indexOf('/dashboards/') === -1){\r\n      return config.dashboards[0]\r\n    }else{\r\n      let id = pathname.replace(\"/dashboards/\", \"\")\r\n      let fds = config.dashboards.filter(d=>d.i === id)\r\n      if(fds.length>0){\r\n        return fds[0]\r\n      }else{\r\n        return config.dashboards[0]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const getDashboardCells = (state, id) => {\r\n  let dashboard = getDashboard(state, id)\r\n  if(!dashboard){\r\n    return []\r\n  }else{\r\n    return dashboard.cells || []\r\n  }\r\n}\r\n\r\nexport const getPartPQ = ({robot}) => robot.resultsByChannel && robot.resultsByChannel.get && robot.resultsByChannel.get.part_pq\r\nexport const getPartPE = ({robot}) => robot.resultsByChannel && robot.resultsByChannel.get && robot.resultsByChannel.get.part_pe\r\nexport const getMotionPos = ({robot}) => robot.resultsByChannel && robot.resultsByChannel.get && robot.resultsByChannel.get.motion_pos\r\n\r\nexport const getStateCode = ({robot}) => robot.resultsByChannel && robot.resultsByChannel.get && robot.resultsByChannel.get.state_code\r\n\r\nexport const getModel = ({config:{model}}) => model\r\n\r\nexport const getLayoutCols = ({config})=>config && config.layoutConfig && config.layoutConfig.cols\r\nexport const getLayoutRowHeight = ({config})=>config && config.layoutConfig && config.layoutConfig.rowHeight\r\nexport const getLayoutMargin = ({config})=>config && config.layoutConfig && config.layoutConfig.margin\r\nexport const getLayoutContainerPadding = ({config})=>config && config.layoutConfig && config.layoutConfig.containerPadding\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport { connect } from 'react-redux'\r\nimport {getStateCode} from \"../../reducers/selectors\";\r\nimport {getWebsocketConnected} from \"../../selectors/websocket\";\r\n\r\nclass RobotStatus extends Component {\r\n  renderJogJoint = ({getPrefixCls}) => {\r\n    let {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      websocketConnected,\r\n      stateCode,\r\n    } = this.props\r\n    if(!stateCode) {\r\n      stateCode = 100\r\n    }\r\n    const colors = {\r\n      100:\"#AAAAAA\",\r\n      200:\"#FF851B\",\r\n      300:\"#FF4136\",\r\n      400:\"#0074D9\",\r\n      500:\"#01FF70\"\r\n    }\r\n    const names = {\r\n      100:\"去使能\",\r\n      200:\"手动\",\r\n      300:\"准备自动\",\r\n      400:\"自动\",\r\n      500:\"错误停目\"\r\n    }\r\n    console.log(\"robot state code\", stateCode)\r\n    const color = colors[stateCode]\r\n    const name = names[stateCode]\r\n    const prefixCls = getPrefixCls('robot-status', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <div>\r\n        {!!websocketConnected && <Icon type=\"wifi\" className={\"success\"}>\r\n        </Icon> }\r\n        {!!websocketConnected &&\r\n        <span>已连接</span>\r\n        }\r\n        {!websocketConnected && <Icon type=\"wifi\" className={\"danger\"}>\r\n        </Icon> }\r\n        {!websocketConnected &&\r\n        <span>未连接</span>\r\n        }\r\n      </div>\r\n      <div>\r\n        <Icon\r\n          style={{\r\n            color: color,\r\n            fill: color\r\n          }}\r\n          fill={color}\r\n          type=\"check-circle\" className=\"info\" theme=\"filled\"\r\n        >\r\n        </Icon>\r\n        <span>{name || \"无状态\"}</span>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderJogJoint}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nRobotStatus.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  stateCode: PropTypes.number,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stateCode: getStateCode(state),\r\n    websocketConnected: getWebsocketConnected(state)\r\n  }\r\n}\r\n\r\nconst ConnectedRobotStatus = connect(\r\n  mapStateToProps,\r\n)(RobotStatus)\r\n\r\nConnectedRobotStatus.NAME = '机器人状态'\r\nexport default ConnectedRobotStatus\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport { connect } from 'react-redux'\r\nimport Switch from \"antd/lib/switch\"\r\nimport Modal from \"antd/lib/modal\"\r\nimport Button from \"antd/lib/button\"\r\nimport CellBase from \"./CellBase\";\r\nimport isEqual from \"lodash/isEmpty\"\r\nimport {getMemoizeResultByChannel, getResultByCell, getStateCode, makeGetDataKeysByChannel} from \"../../selectors\";\r\nimport {deleteResultByChannel} from \"../../actions\";\r\nimport {hashEqualSelectorCreator} from \"../../selectors\";\r\n\r\nclass ManualSwitch extends CellBase {\r\n  state = {\r\n    enable: true\r\n  }\r\n  onChange = (checked)=>{\r\n    let {cell} = this.props\r\n    if(checked){\r\n      this.sendCmd(\"md\", `${cell.i}-md`)\r\n      this.sendCmd(\"rc\", `${cell.i}-rc`)\r\n      this.sendCmd(\"en\", `${cell.i}-en`)\r\n      this.setState({enable: true})\r\n    }else{\r\n      this.sendCmd(\"ds\", `${cell.i}-ds`)\r\n      this.setState({enable: false})\r\n    }\r\n  }\r\n\r\n  resetEnable = () => {\r\n    const {cell} = this.props\r\n    this.props.deleteResultByChannel(`${cell.i}-md`)\r\n    this.props.deleteResultByChannel(`${cell.i}-rc`)\r\n    this.props.deleteResultByChannel(`${cell.i}-en`)\r\n    this.setState({enable: false})\r\n  }\r\n\r\n  resetDisable = () => {\r\n    const {cell} = this.props\r\n    this.props.deleteResultByChannel(`${cell.i}-ds`)\r\n    this.setState({enable: true})\r\n  }\r\n\r\n  renderManualSwitch = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      stateCode,\r\n      resultMD,\r\n      resultRC,\r\n      resultEN,\r\n      resultDS,\r\n    } = this.props\r\n    const colors = ['#AAAAAA', '#FF851B','#FF4136','#0074D9', '#01FF70']\r\n    const names = [\"自动\",\"手动\", \"急停\", \"使能\", \"去使能\"]\r\n    const color = colors[Math.floor(stateCode)%5]\r\n    const name = names[Math.floor(stateCode)%5]\r\n    const prefixCls = getPrefixCls('manual-switch', customizePrefixCls);\r\n    const self = this\r\n    const {enable} = this.state\r\n    const showEnableModel = enable && (resultMD && resultRC && resultEN ) && (resultMD.return_code !== 0 || resultRC.return_code !== 0 || resultEN.return_code !== 0)\r\n    const showDisableModel = !enable && resultDS && resultDS.return_code !== 0\r\n\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <div>\r\n        <Switch\r\n          checkedChildren=\"开\"\r\n          unCheckedChildren=\"关\"\r\n          checked={\r\n            enable && resultMD && resultRC && resultEN && resultMD.return_code === 0 && resultRC.return_code === 0 && resultEN.return_code === 0\r\n          }\r\n          onChange={this.onChange}\r\n        />\r\n        <span>{stateCode===100?'使能':'未使能'}</span>\r\n      </div>\r\n      <div>\r\n        <Icon type=\"drag\"\r\n              onClick={()=>{\r\n                this.sendCmd(\"mvJoint\", cell.i)\r\n              }}\r\n        />\r\n        <span>拖动</span>\r\n      </div>\r\n      <div>\r\n        <Icon type=\"pause-circle\"\r\n              onClick={()=>{\r\n                this.sendCmd(\"FCStop\", cell.i)\r\n              }}\r\n        />\r\n        <span>停止力控</span>\r\n      </div>\r\n      <div>\r\n        <Icon type=\"swap\" onClick={()=>{\r\n          this.sendCmd(\"mvf\", cell.i)\r\n        }}/>\r\n        <span>轨迹复现</span>\r\n      </div>\r\n      <div>\r\n        <Icon type=\"rollback\" onClick={()=>{\r\n          this.sendCmd(\"rs --pos={0.5,0.39252,0.7899,0.5,0.5,0.5} --vel=0.02\", cell.i)\r\n        }}/>\r\n        <span>回零点</span>\r\n      </div>\r\n      <Modal\r\n        visible={showEnableModel}\r\n        title=\"使能错误\"\r\n        onOk={this.resetEnable}\r\n        onCancel={this.resetEnable}\r\n        centered={true}\r\n        footer={[\r\n          <Button key=\"close\" onClick={this.resetEnable}>\r\n            关闭\r\n          </Button>,\r\n        ]}\r\n      >\r\n        {\r\n          !!(resultMD && resultMD.return_code !== 0) && <p className={\"danger\"}>\r\n          MD {resultMD && (resultMD.return_message ? `返回码：${resultMD.return_code} 返回消息：${resultMD.return_message} ` : `返回码：${resultMD.return_code}`)}\r\n        </p>\r\n        }\r\n        {\r\n          !!(resultRC && resultRC.return_code !== 0) && <p className={\"danger\"}>\r\n          RC {resultRC && (resultRC.return_message ? `返回码：${resultRC.return_code} 返回消息：${resultRC.return_message} ` : `返回码：${resultRC.return_code}`)}\r\n        </p>\r\n        }\r\n        {\r\n          !!(resultEN && resultEN.return_code !== 0) && <p className={\"danger\"}>\r\n          EN {resultEN && (resultEN.return_message ? `返回码：${resultEN.return_code} 返回消息：${resultEN.return_message} ` : `返回码：${resultEN.return_code}`)}\r\n        </p>\r\n        }\r\n      </Modal>\r\n      <Modal\r\n        visible={showDisableModel}\r\n        title=\"去使能错误\"\r\n        onOk={this.resetDisable}\r\n        onCancel={this.resetDisable}\r\n        centered={true}\r\n        footer={[\r\n          <Button key=\"close\" onClick={this.resetDisable}>\r\n            关闭\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <span className={\"danger\"}>\r\n          {resultDS && (resultDS.return_message?`返回码：${resultDS.return_code} 返回消息：${resultDS.return_message} `:`返回码：${resultDS.return_code}`)}</span>\r\n      </Modal>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderManualSwitch}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nManualSwitch.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  stateCode: PropTypes.number,\r\n}\r\n\r\n\r\nconst makeMapStateToProps = () => {\r\n  const getMemoizeResult = hashEqualSelectorCreator(\r\n    (state, props) => state.robot.resultsByChannel[`${props.cell.i}-md`],\r\n    (state, props) => state.robot.resultsByChannel[`${props.cell.i}-rc`],\r\n    (state, props) => state.robot.resultsByChannel[`${props.cell.i}-en`],\r\n    (state, props) => state.robot.resultsByChannel[`${props.cell.i}-ds`],\r\n    (resultMD, resultRC, resultEN, resultDS) => ({resultMD, resultRC, resultEN, resultDS})\r\n  )\r\n  return (state, props) => {\r\n    return getMemoizeResult(state, props)\r\n  }\r\n}\r\n\r\nconst ConnectedManualSwitch = connect(\r\n  makeMapStateToProps,\r\n  {deleteResultByChannel}\r\n)(ManualSwitch)\r\n\r\nConnectedManualSwitch.NAME = '手动控制开关'\r\n\r\nexport default ConnectedManualSwitch\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport { connect } from 'react-redux'\r\nimport Switch from \"antd/lib/switch\"\r\nimport brace from 'brace';\r\nimport AceEditor from 'react-ace';\r\n\r\nimport 'brace/mode/java';\r\nimport 'brace/theme/github';\r\nimport 'brace/theme/monokai';\r\n\r\nclass CodeEditor extends Component {\r\n  onChange = (newValue) => {\r\n    console.log('change',newValue);\r\n  }\r\n  renderJogJoint = ({getPrefixCls}) => {\r\n\r\n    let value = `\r\nfunction onLoad(editor) {\r\n  console.log(\"i've loaded\");\r\n}\r\nfunction onLoad(editor) {\r\n  console.log(\"i've loaded\");\r\n}\r\nfunction onLoad(editor) {\r\n  console.log(\"i've loaded\");\r\n}\r\nfunction onLoad(editor) {\r\n  console.log(\"i've loaded\");\r\n}\r\nfunction onLoad(editor) {\r\n  console.log(\"i've loaded\");\r\n}\r\nfunction onLoad(editor) {\r\n  console.log(\"i've loaded\");\r\n}\r\n    `\r\n\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('code-editor', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <AceEditor\r\n        mode=\"javascript\"\r\n        theme=\"monokai\"\r\n        width={\"100%\"}\r\n        height={\"100%\"}\r\n        value={value}\r\n        onChange={this.onChange}\r\n        name=\"UNIQUE_ID_OF_DIV\"\r\n        editorProps={{$blockScrolling: true}}\r\n      />\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderJogJoint}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nCodeEditor.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    robotStatus: state.robot.robotStatus,\r\n  }\r\n}\r\n\r\nconst ConnectedCodeEditor = connect(\r\n  mapStateToProps,\r\n)(CodeEditor)\r\n\r\nConnectedCodeEditor.NAME = '代码编辑'\r\n\r\nexport  default ConnectedCodeEditor\r\n\r\n","import React from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport Row from \"antd/lib/row\"\r\nimport Button from \"antd/lib/button\"\r\nimport Input  from 'antd/lib/input'\r\nimport CellBase from \"./CellBase\";\r\nimport { connect } from 'react-redux'\r\nimport Terminal from 'terminal-in-react'\r\nimport {\r\n  getResultByCell, getResultByChannel,\r\n  makeGetResultsByCell\r\n} from \"../../selectors\";\r\nconst { TextArea } = Input;\r\n\r\nclass Debugger extends CellBase {\r\n  interval = null\r\n  timeout = null\r\n  getSendCmdFn = () => {\r\n    return (()=>{\r\n      const {sendCmd, cell} = this.props\r\n      const options = this.getOptions()\r\n      if(options.command){\r\n        options.command.split(\"\\n\").forEach(cmd=>{\r\n          cmd = cmd.trim()\r\n          if(!!cmd){\r\n            sendCmd(cmd,cell.i)\r\n            this.terminal.runCommandOnActive(\"showCmd \"+cmd)\r\n          }\r\n        })\r\n      }\r\n    }).bind(this)\r\n  }\r\n\r\n  getOnMouseDownFn = () => {\r\n    return (()=>{\r\n      if(this.interval){\r\n        clearInterval(this.interval)\r\n      }\r\n      const fn = this.getSendCmdFn()\r\n      const self = this\r\n      const {commandSendInterval, commandSendDelay} = this.props\r\n      self.timeout = setTimeout(()=>{\r\n        self.interval = setInterval(fn, commandSendInterval)\r\n      }, commandSendDelay)\r\n    }).bind(this)\r\n  }\r\n  getOnMouseUpFn = () => {\r\n    return (()=>{\r\n      if(this.interval){\r\n        clearInterval(this.interval)\r\n      }\r\n      if(this.timeout){\r\n        clearTimeout(this.timeout)\r\n      }\r\n    }).bind(this)\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    if(nextProps.result !== this.props.result){\r\n      this.result = nextProps.result\r\n      this.terminal.runCommandOnActive(\"showResult\")\r\n    }\r\n    if(nextProps.cell !== this.props.cell || nextProps.result !== this.props.result){\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      results\r\n    } = this.props\r\n    const options = this.getOptions()\r\n    const prefixCls = getPrefixCls('debugger', customizePrefixCls);\r\n    let self = this\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <Row>\r\n        <TextArea\r\n          rows={2}\r\n          value={options.command}\r\n          onChange={(e)=>{\r\n            this.updateOptions({command:e.target.value})\r\n          }}\r\n          placeholder={\"请输入一行机器人指令\"}\r\n        />\r\n        <Button\r\n          onClick={this.getSendCmdFn()}\r\n          onMouseDown={this.getOnMouseDownFn()}\r\n          onMouseUp={this.getOnMouseUpFn()}\r\n          onMouseOut={this.getOnMouseUpFn()}\r\n          type=\"primary\"\r\n          shape=\"round\"\r\n          icon=\"play-circle\"\r\n          size=\"large\"\r\n        >\r\n          Send\r\n        </Button>\r\n        <div\r\n          className={`${prefixCls}-terminal`}\r\n        >\r\n          <Terminal\r\n            color='green'\r\n            backgroundColor='black'\r\n            barColor='black'\r\n            hideTopBar={true}\r\n            allowTabs={false}\r\n            commands={{\r\n              \"showCmd\":(args, print, runCommand)=>{\r\n                if(args[1]){\r\n                  print(args.slice(1).join(\" \"))\r\n                }else{\r\n                  const options = self.getOptions()\r\n                  if(options.command){\r\n                    print(options.command)\r\n                  }\r\n                }\r\n              },\r\n              \"send\":(args, print, runCommand)=>{\r\n                self.props.sendCmd(args[1], self.props.cell.i)\r\n              },\r\n              \"showResult\":(args, print, runCommand)=>{\r\n                print(JSON.stringify(this.result))\r\n              },\r\n            }}\r\n            descriptions={{\r\n              'send': '发送指令给机器人, \"send [机器人指令]\", 例如 \"send get\"',\r\n              'showResult': '显示最近一条返回值',\r\n              'showCmd': '显示当前指令值'\r\n            }}\r\n            ref={ref=>this.terminal=ref}\r\n          />\r\n        </div>\r\n      </Row>\r\n    </div>\r\n  }\r\n\r\n}\r\n\r\nDebugger.propTypes = {\r\n  results: PropTypes.array.isRequired\r\n}\r\n\r\nconst makeMapStateToProps = () => {\r\n  const getResultsByCell = makeGetResultsByCell(10)\r\n  const mapStateToProps = (state, props) => {\r\n    return {\r\n      results: getResultsByCell(state, props),\r\n      result: getResultByChannel(state, props.cell.i),\r\n    }\r\n  }\r\n  return mapStateToProps\r\n}\r\n\r\nconst ConnectedDebugger =  connect(\r\n  makeMapStateToProps,\r\n)(Debugger)\r\n\r\nConnectedDebugger.NAME = \"调试面板\"\r\n\r\nexport default  ConnectedDebugger\r\n","import React, {Component} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ConfigBase extends Component {\r\n\r\n  getOptions = () => {\r\n    let {cell} = this.props\r\n    if(!cell.options){\r\n      return {}\r\n    }else{\r\n      return cell.options\r\n    }\r\n  }\r\n  updateOptions = options => {\r\n    let cell = {...this.props.cell}\r\n    cell.options = {...cell.options, ...options}\r\n    this.props.onCellUpdate(cell)\r\n  }\r\n\r\n  showConfig = () => {\r\n    const options = this.getOptions()\r\n    this.updateOptions({\r\n      ...options,\r\n      showConfig: true,\r\n    })\r\n  }\r\n\r\n  hideConfig = () => {\r\n    console.log('hideConfig')\r\n    const options = this.getOptions()\r\n    this.updateOptions({\r\n      ...options,\r\n      showConfig: null,\r\n    })\r\n  }\r\n\r\n  renderContent = ({prefixCls}) => {\r\n    throw new Error(\"renderContent not implemented\")\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nConfigBase.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ConfigBase\r\n\r\n","import React, {Fragment} from \"react\"\r\nimport ConfigBase from \"../ConfigBase\";\r\nimport Form from \"antd/lib/form\"\r\nimport Modal from 'antd/lib/modal'\r\nimport Radio from 'antd/lib/radio'\r\nimport Select from 'antd/lib/select'\r\nimport Button from 'antd/lib/button'\r\nimport Icon from 'antd/lib/icon'\r\nimport Row from 'antd/lib/row'\r\nimport Col from 'antd/lib/col'\r\nimport Input from 'antd/lib/input'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport isArray from 'lodash/isArray'\r\nimport isEqual from 'lodash/isEqual'\r\nimport {\r\n  getMemoizeDataSources,\r\n  getMemoizeDataIndexesBySource,\r\n} from \"../../../selectors\";\r\nimport {\r\n  sendCmd,\r\n  deleteResultByChannel\r\n} from \"../../../actions\";\r\n\r\nconst { Search } = Input;\r\n\r\n\r\nconst RadioGroup = Radio.Group\r\nconst FormItem = Form.Item\r\nconst Option = Select.Option\r\n\r\n\r\nclass Config extends ConfigBase {\r\n  state = {\r\n    sources: []\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {cell:oldCell,dataSources:oldDataSources} = prevProps\r\n    const {cell:newCell,dataSources:dataSources} = this.props\r\n    if(!isEqual(oldCell, newCell) && newCell && newCell.options){\r\n      if(newCell.options && newCell.options.sources){\r\n        try{\r\n          this.setState({sources: newCell.options.sources})\r\n        }catch (e) {\r\n          \r\n        }\r\n      }\r\n    }\r\n    if(!isEqual(oldDataSources, dataSources)){\r\n      this.setState({sources: this.state.sources.filter(s=>{\r\n          if(s.source && dataSources.indexOf(s.source) === -1){\r\n            return false\r\n          }\r\n          return true\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, fieldsValue) => {\r\n      if (err) {\r\n        return;\r\n      }\r\n      let options = this.getOptions()\r\n      this.updateOptions({\r\n        ...options,\r\n        ...fieldsValue,\r\n        sources: fieldsValue.sources,\r\n        showConfig: false\r\n      })\r\n    })\r\n  }\r\n\r\n  remove = k => {\r\n    this.setState({\r\n      sources: this.state.sources.filter((s, i)=> i!==k)\r\n    })\r\n  };\r\n\r\n  add = () => {\r\n    this.setState({\r\n      sources: [...this.state.sources, {}]\r\n    })\r\n  };\r\n\r\n  renderDataSources(options){\r\n    const { getFieldDecorator, getFieldValue, getFieldsValue} = this.props.form;\r\n    const {dataSources, dataIndexes} = this.props\r\n    let selectedSources = options.sources || []\r\n    selectedSources.forEach((source, index)=>{\r\n      getFieldDecorator(`sources[${index}].source`, {\r\n        initialValue: source.source\r\n      });\r\n    })\r\n    const {sources} = this.state\r\n    if(!dataSources || !dataIndexes){\r\n      return <div>\r\n        数据等待中...\r\n      </div>\r\n    }\r\n    if(Object.keys(dataSources).length === 0){\r\n      return <div style={{textAlign: \"center\"}} className={\"error\"}>\r\n        无可添加数据项，请输入并运行指令，并确认返回结果中包含数值。\r\n      </div>\r\n    }\r\n    let {sources:formSources} = getFieldsValue()\r\n    if(!formSources){\r\n      formSources=[]\r\n    }\r\n    const sourceItems = sources.map((source, index)=>{\r\n      return <Row key={index}>\r\n        <Col span={10}>\r\n        <FormItem\r\n          label={'数据项'}\r\n          labelCol={{span:8}}\r\n          wrapperCol={{span:16}}\r\n        >\r\n          {getFieldDecorator(`sources[${index}].source`, {\r\n            initialValue: source.source,\r\n            rules: [{\r\n              type: 'string',\r\n              required: true,\r\n              message: '请选择数据项'\r\n            }]\r\n          })(<Select\r\n            style={{width: \"100%\"}}\r\n            size={\"small\"}\r\n            placeholder={\"选择数据项\"}\r\n          >\r\n            {\r\n              dataSources.map(c => <Option key={c} value={c}>{c}</Option>)\r\n            }\r\n          </Select>)\r\n          }\r\n        </FormItem>\r\n        </Col>\r\n        <Col span={10}>\r\n        {!!formSources[index] && !!dataIndexes[formSources[index].source] &&\r\n        <FormItem\r\n          label={'index'}\r\n          labelCol={{span:8}}\r\n          wrapperCol={{span:16}}\r\n        >\r\n          {getFieldDecorator(`sources[${index}].index`, {\r\n            initialValue: source.index,\r\n            rules: [{\r\n              type: 'number',\r\n              required: true,\r\n              message: '请选择index'\r\n            }]\r\n          })(<Select\r\n            style={{width: \"100%\"}}\r\n            size={\"small\"}\r\n            placeholder={\"选择index\"}\r\n          >\r\n            {\r\n              dataIndexes[formSources[index].source].map(c => <Option key={c.toString()} value={c}>{c}</Option>)\r\n            }\r\n          </Select>)\r\n          }\r\n        </FormItem>\r\n        }\r\n        </Col>\r\n        <Col span={4}>\r\n          <Form.Item style={{paddingLeft:20}}>\r\n            <Button onClick={this.remove.bind(this, index)} type={\"danger\"}>\r\n              <Icon type=\"minus\" /> 移除\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    })\r\n    return <Fragment>\r\n      {sourceItems}\r\n      <Form.Item wrapperCol={{span:24}} style={{textAlign:'center'}}>\r\n        <Button type=\"dashed\" onClick={this.add}>\r\n          <Icon type=\"plus\" /> 添加数据项\r\n        </Button>\r\n      </Form.Item>\r\n    </Fragment>\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      sendCmd\r\n    } = this.props\r\n    const options = this.getOptions()\r\n    const { getFieldDecorator} = this.props.form;\r\n    const prefixCls = getPrefixCls('realtime-chart-config', customizePrefixCls);\r\n    const interval = options.interval || 1000\r\n    return <Modal\r\n      title=\"添加数据\"\r\n      visible={!!options.showConfig}\r\n      maskClosable={false}\r\n      okText={\"保存\"}\r\n      cancelText={\"取消\"}\r\n      width={\"80%\"}\r\n      onOk={this.handleSubmit}\r\n      onCancel={this.hideConfig}\r\n      wrapClassName={`${prefixCls}`}\r\n    >\r\n      <Form layout={\"horizontal\"}>\r\n        <FormItem label=\"数据来源\">\r\n          {getFieldDecorator('channel', {\r\n            initialValue: options.channel === \"command\"?\"command\":\"get\",\r\n            rules: [{\r\n              type: 'string',\r\n              required: true,\r\n              message: '请选择数据来源'\r\n            }]\r\n          })(\r\n            <RadioGroup\r\n              onChange={e=>{\r\n                this.updateOptions({...options, channel:e.target.value})\r\n              }}\r\n            >\r\n              <Radio value={\"get\"}>默认GET</Radio>\r\n              <Radio value={\"command\"}>自定义命令</Radio>\r\n            </RadioGroup>,\r\n          )}\r\n        </FormItem>\r\n        {options.channel===\"command\" && <Row>\r\n          <Col span={20}>\r\n            <FormItem\r\n              label={'运行指令'}\r\n              labelCol={{span:4}}\r\n              wrapperCol={{span:20}}\r\n            >\r\n              {getFieldDecorator('command', {\r\n                initialValue: options.command,\r\n                rules: [{\r\n                  type: 'string',\r\n                  required: true,\r\n                  message: '请输入指令'\r\n                }]\r\n              })(\r\n                <Search\r\n                  onSearch={value => {\r\n                    sendCmd(value, cell.i)\r\n                  }}\r\n                  enterButton={\"运行\"}\r\n                />\r\n              )}\r\n            </FormItem>\r\n          </Col>\r\n          <Col span={4}>\r\n            <FormItem\r\n              label={'运行间隔'}\r\n              labelCol={{span:12}}\r\n              wrapperCol={{span:12}}\r\n            >\r\n              {getFieldDecorator('interval', {\r\n                initialValue: interval,\r\n                rules: [{\r\n                  required: true,\r\n                  message: '请输入指令'\r\n                }]\r\n              })(\r\n                <InputNumber\r\n                  min={30} step={1}\r\n                  formatter={value => `${value}毫秒`}\r\n                  parser={value => value.replace('毫秒', '')}\r\n                />\r\n              )}\r\n            </FormItem>\r\n          </Col>\r\n        </Row>\r\n          }\r\n        {this.renderDataSources(options)}\r\n      </Form>\r\n    </Modal>\r\n  }\r\n\r\n}\r\n\r\n\r\nconst getState = createSelector(\r\n  getMemoizeDataSources,\r\n  getMemoizeDataIndexesBySource,\r\n  (dataSources, dataIndexes) => {\r\n    return {\r\n      dataSources,\r\n      dataIndexes,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getState(state, props)\r\n}\r\n\r\nconst transform = obj => {\r\n  return Object.keys(obj).reduce((acc, cv) => {\r\n    return {\r\n      ...acc,\r\n      [cv]:\r\n        typeof obj[cv] === \"object\" && !(\"value\" in obj[cv])\r\n          ? isArray(obj[cv])\r\n          ? obj[cv].map(item => transform(item))\r\n          : transform(obj[cv])\r\n          : Form.createFormField({\r\n            ...obj[cv],\r\n            value: obj[cv] && obj[cv].value\r\n          })\r\n    };\r\n  }, {});\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    sendCmd,\r\n    deleteResultByChannel,\r\n  }\r\n)(Form.create({\r\n  mapPropsToFields(props) {\r\n    let { sources, cell } = props;\r\n    const transformed = transform({ sources });\r\n    return transformed;\r\n  },\r\n  onValuesChange(_, values) {\r\n  }\r\n})(Config))\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport ReactEcharts from \"echarts-for-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport echarts from 'echarts';\r\n\r\nconst contrastColor = '#555';\r\nconst axisCommon = function () {\r\n  return {\r\n    axisLine: {\r\n      lineStyle: {\r\n        color: contrastColor\r\n      }\r\n    },\r\n    axisTick: {\r\n      lineStyle: {\r\n        color: contrastColor\r\n      }\r\n    },\r\n    axisLabel: {\r\n      textStyle: {\r\n        color: contrastColor\r\n      }\r\n    },\r\n    splitLine: {\r\n      lineStyle: {\r\n        type: 'dashed',\r\n        color: '#aaa'\r\n      }\r\n    },\r\n    splitArea: {\r\n      areaStyle: {\r\n        color: contrastColor\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nconst colorPalette = [\r\n  '#dd6b6699', '#759aa099', '#e69d8799', '#8dc1a999', '#ea7e5399',\r\n  '#eedd7899', '#73a37399', '#73b9bc99', '#7289ab99', '#91ca8c99', '#f49f4299'\r\n];\r\nconst theme = {\r\n  color: colorPalette,\r\n  backgroundColor: '#111',\r\n  tooltip: {\r\n    axisPointer: {\r\n      lineStyle: {\r\n        color: contrastColor\r\n      },\r\n      crossStyle: {\r\n        color: contrastColor\r\n      }\r\n    }\r\n  },\r\n  legend: {\r\n    textStyle: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  textStyle: {\r\n    color: contrastColor\r\n  },\r\n  title: {\r\n    textStyle: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  toolbox: {\r\n    iconStyle: {\r\n      normal: {\r\n        borderColor: contrastColor\r\n      }\r\n    }\r\n  },\r\n  dataZoom: {\r\n    textStyle: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  visualMap: {\r\n    textStyle: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  timeline: {\r\n    lineStyle: {\r\n      color: contrastColor\r\n    },\r\n    itemStyle: {\r\n      normal: {\r\n        color: colorPalette[1]\r\n      }\r\n    },\r\n    label: {\r\n      normal: {\r\n        textStyle: {\r\n          color: contrastColor\r\n        }\r\n      }\r\n    },\r\n    controlStyle: {\r\n      normal: {\r\n        color: contrastColor,\r\n        borderColor: contrastColor\r\n      }\r\n    }\r\n  },\r\n  timeAxis: axisCommon(),\r\n  logAxis: axisCommon(),\r\n  valueAxis: axisCommon(),\r\n  categoryAxis: axisCommon(),\r\n\r\n  line: {\r\n    symbol: 'circle'\r\n  },\r\n  graph: {\r\n    color: colorPalette\r\n  },\r\n  gauge: {\r\n    title: {\r\n      textStyle: {\r\n        color: contrastColor\r\n      }\r\n    }\r\n  },\r\n  candlestick: {\r\n    itemStyle: {\r\n      normal: {\r\n        color: '#FD1050',\r\n        color0: '#0CF49B',\r\n        borderColor: '#FD1050',\r\n        borderColor0: '#0CF49B'\r\n      }\r\n    }\r\n  }\r\n};\r\ntheme.categoryAxis.splitLine.show = false;\r\n\r\necharts.registerTheme('robot_theme', theme);\r\n\r\n\r\nclass Chart extends Component {\r\n\r\n  render() {\r\n    const {dataChannel, results}  = this.props\r\n    if(Object.keys(results).length===0){\r\n      return null\r\n    }\r\n    const getOptions = {\r\n      title: {\r\n        text: '数据来源 '+dataChannel,\r\n        x: 'center',\r\n        y: 'bottom',\r\n        textStyle: {\r\n          fontSize: 12\r\n        }\r\n      },\r\n      legend: {\r\n        data:Object.keys(results)\r\n      },\r\n      xAxis: {\r\n        splitLine:{show: false},//去除网格线\r\n        boundaryGap: true,\r\n        min: 'dataMin',\r\n        max: 'dataMax',\r\n        type: \"category\",\r\n      },\r\n      yAxis: {\r\n        splitLine:{show: false},//去除网格线\r\n        type: 'value'\r\n      },\r\n      series: Object.keys(results).map(key=>({\r\n        name: key,\r\n        data: results[key],\r\n        symbol: 'none',\r\n        // sampling: 'average',\r\n        type: 'line'\r\n      }))\r\n    }\r\n    return <Fragment>\r\n        <ReactEcharts\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n          }}\r\n          theme={\"robot_theme\"}\r\n          option={getOptions}\r\n          notMerge={true}\r\n          lazyUpdate={true}\r\n        />\r\n    </Fragment>\r\n  }\r\n}\r\n\r\nChart.propTypes = {\r\n  dataChannel:PropTypes.func.isRequired,\r\n  prefixCls: PropTypes.string.isRequired,\r\n  results: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Chart\r\n\r\n","import React, {Fragment} from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport CellBase from \"../CellBase\";\r\nimport { connect } from 'react-redux'\r\nimport Button from \"antd/lib/button\"\r\nimport isEqual from 'lodash/isEqual'\r\nimport Icon from \"antd/lib/icon\"\r\nimport {deleteResultByChannel} from \"../../../actions\"\r\nimport {\r\n  makeGetResultsByCellChannel,\r\n} from \"../../../selectors\";\r\nimport Config from \"./Config\"\r\nimport Chart from \"./Chart\";\r\n\r\nclass RealtimeChart extends CellBase {\r\n\r\n  interval = null\r\n\r\n  state = {playing: true}\r\n\r\n  resetInterval = () => {\r\n    clearInterval(this.interval)\r\n    const {cell, sendCmd} = this.props\r\n    if(cell.options && !cell.options.showConfig && cell.options.channel === \"command\" && cell.options.command && cell.options.interval && !cell.options.paused){\r\n      const command = cell.options.command\r\n      const channel = cell.i\r\n      this.interval = setInterval(()=>{\r\n        sendCmd(command, channel)\r\n      }, cell.options.interval)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.resetInterval()\r\n    this.start = new Date()\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    let now = new Date()\r\n    if(now - this.start > 1000){\r\n      this.start = now\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {cell: oldCell} = prevProps\r\n    const {cell: newCell} = this.props\r\n    if (!isEqual(oldCell, newCell)) {\r\n      this.resetInterval()\r\n    }\r\n    if(newCell.options.showConfig !== oldCell.options.showConfig && newCell.options.showConfig){\r\n      this.props.deleteResultByChannel(newCell.i)\r\n    }\r\n  }\r\n\r\n  handleChange = (value) => {\r\n     const options = this.getOptions()\r\n     this.updateOptions({...options, channel: value})\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      results,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('realtime-chart', customizePrefixCls);\r\n    const hasDataSources = cell.options && cell.options.channel && cell.options.sources && cell.options.sources.length > 0\r\n    const dataChannel = `${cell.options.channel==='get'?'get':cell.options.command}`\r\n    return <div\r\n      className={`${prefixCls} ${!hasDataSources && prefixCls+\"-no-data\"}`}\r\n    >\r\n      {!hasDataSources && <div>\r\n        <span>未配置数据源 或 未关联数据项</span>\r\n        <div style={{marginTop: 20}}>\r\n          <Button type={\"primary\"} onClick={()=>{\r\n            this.updateOptions({showConfig:true})\r\n          }}>添加配置数据</Button>\r\n        </div>\r\n      </div>}\r\n      {hasDataSources && <Fragment>\r\n        <Chart\r\n          dataChannel={dataChannel}\r\n          prefixCls={prefixCls}\r\n          results={results}\r\n        />\r\n\r\n        {cell.options.paused && <Icon\r\n          type=\"play-circle\"\r\n          className={`${prefixCls}-play ${prefixCls}-play-start`}\r\n          onClick={()=>{\r\n            this.updateOptions({\r\n              paused: false\r\n            })\r\n          }}\r\n        />}\r\n        {!cell.options.paused && <Icon\r\n          type=\"pause-circle\"\r\n          className={`${prefixCls}-play`}\r\n          onClick={()=>{\r\n            this.updateOptions({\r\n              paused: true\r\n            })\r\n          }}\r\n        />}\r\n      </Fragment>\r\n      }\r\n      </div>\r\n  }\r\n}\r\n\r\nRealtimeChart.propTypes = {\r\n  results: PropTypes.object.isRequired\r\n}\r\n\r\nconst makeMapStateToProps = () => {\r\n  const getResultsByCellChannel = makeGetResultsByCellChannel(1000)\r\n  const mapStateToProps = (state, props) => {\r\n    return {\r\n      results: getResultsByCellChannel(state, props),\r\n    }\r\n  }\r\n  return mapStateToProps\r\n}\r\n\r\n\r\nconst ConnectedRealtimeChart = connect(\r\n  makeMapStateToProps,\r\n  {deleteResultByChannel}\r\n)(RealtimeChart)\r\n\r\nConnectedRealtimeChart.NAME = '实时绘图'\r\nConnectedRealtimeChart.CONFIG = Config\r\n\r\nexport default ConnectedRealtimeChart\r\n\r\n\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport Row from \"antd/lib/row\"\r\nimport Col from \"antd/lib/col\"\r\nimport Input from \"antd/lib/input\"\r\nimport Button from \"antd/lib/button\"\r\nimport Select from \"antd/lib/select\"\r\nimport { connect } from 'react-redux'\r\nimport Popover from 'antd/lib/popover'\r\nimport Table from 'antd/lib/table'\r\nimport InputNumber from 'antd/lib/input-number'\r\n\r\nimport { createSelector } from 'reselect'\r\n\r\n\r\nimport CellBase from \"./CellBase\";\r\nimport {\r\n  getMemoizeEndPE, getMemoizeResultByCell, getResultByCell, getToolIds\r\n} from \"../../selectors\";\r\nimport {deleteResultByChannel} from \"../../actions\";\r\nconst Option = Select.Option\r\n\r\nconst HINTS = {\r\n  \"UserInput\":\"直接输入工具坐标系的位置和资态(欧拉角)\",\r\n  \"CalibT4P\": \"以法兰坐标系为参考坐标系，标定出工具坐标系原点的位置偏移量，工具坐标系的姿态默认与法兰坐标系一致。\",\r\n  \"CalibT5P\": \"以法兰坐标系为参考坐标系，标定出工具坐标 系原点的位置偏移量以 及工具坐标系 Z 轴的方 向。\",\r\n  \"CalibT6P\": \"以法兰坐标系为参考坐标系，标定出工具坐标系的位姿。\"\r\n}\r\nconst DETAIL_HINTS = {\r\n  \"CalibT4P\": (<div style={{\r\n    maxWidth: 300,\r\n  }}>\r\n    <p>1)选择法兰坐标系为当前工具坐标系，机器人底座坐标系为 当前工件坐标系; </p>\r\n    <p> 2)手动示教，以不同姿态使移动工具使工具中心点沿某一方 向与外部固定点接触，并保存此时的位姿，依次沿 4 个不同 方向获取示教点的位姿数据;</p>\r\n    <p>3)确认标定结果。</p>\r\n  </div>),\r\n  \"CalibT5P\":(<div style={{\r\n    maxWidth: 300,\r\n  }}>\r\n    <p>1)选择法兰坐标系为当前工具坐标系，机器人底座坐标系为 当前工件坐标系;</p>\r\n    <p>2)手动示教，以不同姿态使移动工具使工具中心点沿某一方 向与外部固定点接触，并保存此时的位姿，依次沿 4 个不同 方向获取示教点的位姿数据; </p>\r\n    <p>3)以第 4 点的工具位姿为基准，保持工具姿态不变，将工具 坐标系 Z 轴正方向上某一特征点与外部固定点接触，保存第 5 个示教点的位姿; </p>\r\n    <p>4)确认标定结果。</p>\r\n  </div>),\r\n  \"CalibT6P\":(<div style={{\r\n    maxWidth: 300,\r\n  }}>\r\n    <p>1)选择法兰坐标系为当前工具坐标系，机器人底座坐标系为 当前工件坐标系; </p>\r\n    <p>2)手动示教，以不同姿态使移动工具使工具中心点沿某一方 向与外部固定点接触，并保存此时的位姿，依次沿 4 个不同 方向获取示教点的位姿数据;</p>\r\n    <p>3)以第 4 点的工具位姿为基准，保持工具姿态不变，将工具 坐标系 Z 轴正方向上某一特征点与外部固定点接触，保存第 5 个示教点的位姿;</p>\r\n  </div>),\r\n  \"UserInput\":(<div style={{\r\n    maxWidth: 300,\r\n  }}>\r\n    <p>用户输入标定 直接输入工具坐标系的位置和姿态（欧拉角）， 依次输入工具坐标系的位置和姿态，然后点击保存</p>\r\n  </div>),\r\n}\r\nconst CALIB_METHODS = {\r\n  \"UserInput\": \"用户输入\",\r\n  \"CalibT4P\": \"四点标定法\",\r\n  \"CalibT5P\": \"五点标定法\",\r\n  \"CalibT6P\": \"六点标定法\"\r\n}\r\nconst POINTS_COUNT = {\r\n  \"CalibT4P\": 4,\r\n  \"CalibT5P\": 5,\r\n  \"CalibT6P\": 6\r\n}\r\n\r\nclass ToolCalib extends CellBase {\r\n  state = {\r\n    calibMethod: 'CalibT4P',\r\n    toolId: 0,\r\n    toolName: '',\r\n    pes: [],\r\n    showCalibResult: false,\r\n    showSaveResult: false,\r\n    userInput: {\r\n      x: 0.0,\r\n      y: 0.0,\r\n      z: 0.0,\r\n      a: 0.0,\r\n      b: 0.0,\r\n      c: 0.0,\r\n    }\r\n  }\r\n  handleNameChange = (e) => {\r\n    this.setState({toolName: e.target.value, showCalibResult: false,  showSaveResult: false})\r\n  }\r\n  handleSelectToolId = (toolId) => {\r\n    this.setState({toolId, pes: [], showCalibResult: false, toolName: null, showSaveResult: false})\r\n  }\r\n  handleSelectCalibMethod = (calibMethod) => {\r\n    this.setState({calibMethod, pes: [], showCalibResult: false, toolName: null, showSaveResult: false})\r\n  }\r\n\r\n  renderTable = (prefixCls) => {\r\n    const render = (text, record) => {\r\n      if(record.last){\r\n        return <span\r\n          className={`${prefixCls}-table-cell ${prefixCls}-table-cell-last`}\r\n        >{text}</span>\r\n      }else{\r\n        return <span\r\n          className={`${prefixCls}-table-cell`}\r\n        >{text}</span>\r\n      }\r\n    }\r\n    const columns = [\r\n      {\r\n        title: '编号',\r\n        dataIndex: 'rowName',\r\n        key: 'rowName',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'X[mm]',\r\n        dataIndex: 'x',\r\n        key: 'xi',\r\n        render,\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'Y[mm]',\r\n        dataIndex: 'y',\r\n        key: 'yi',\r\n        render,\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'Z[mm]',\r\n        dataIndex: 'z',\r\n        key: 'zi',\r\n        render,\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'A',\r\n        dataIndex: 'a',\r\n        key: 'ai',\r\n        render,\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'B',\r\n        dataIndex: 'b',\r\n        key: 'bi',\r\n        render,\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'C',\r\n        dataIndex: 'c',\r\n        key: 'ci',\r\n        render,\r\n        align: 'center'\r\n      },\r\n    ];\r\n    const {endPE, cell} = this.props\r\n    let data = []\r\n    this.state.pes.map((pe, index)=>{\r\n      data.push({\r\n        rowName: `标定点${index+1}`,\r\n        rowKey: index,\r\n        key: index,\r\n        xi: `x${index}`,\r\n        yi: `y${index}`,\r\n        zi: `z${index}`,\r\n        ai: `a${index}`,\r\n        bi: `b${index}`,\r\n        ci: `c${index}`,\r\n        x: pe[0].toFixed(3),\r\n        y: pe[1].toFixed(3),\r\n        z: pe[2].toFixed(3),\r\n        a: pe[3].toFixed(3),\r\n        b: pe[4].toFixed(3),\r\n        c: pe[5].toFixed(3),\r\n      })\r\n    })\r\n    if(endPE && this.state.pes.length<POINTS_COUNT[this.state.calibMethod]){\r\n      data.push({\r\n        rowName: `标定点${data.length+1}`,\r\n        rowKey: 'last',\r\n        key: `last${data.length+1}`,\r\n        xi: `xlast`,\r\n        yi: `ylast`,\r\n        zi: `zlast`,\r\n        ai: `alast`,\r\n        bi: `blast`,\r\n        ci: `clast`,\r\n        x: endPE[0].toFixed(3),\r\n        y: endPE[1].toFixed(3),\r\n        z: endPE[2].toFixed(3),\r\n        a: endPE[3].toFixed(3),\r\n        b: endPE[4].toFixed(3),\r\n        c: endPE[5].toFixed(3),\r\n        last: true,\r\n      })\r\n    }\r\n    const self = this\r\n    const Footer = <div className={`${prefixCls}-table-footer`}>\r\n      {self.state.pes.length>0 && <Button\r\n          type={'danger'}\r\n          // size={'small'}\r\n          onClick={()=>{\r\n            self.setState({\r\n              showCalibResult: false,\r\n              showSaveResult: false,\r\n              pes: []\r\n            })\r\n          }}\r\n        >清空数据</Button>\r\n      }\r\n      {!!(endPE && self.state.pes.length<POINTS_COUNT[this.state.calibMethod]) &&\r\n      <Button\r\n        type={'primary'}\r\n        // size={'small'}\r\n        onClick={() => {\r\n          const {endPE} = self.props\r\n          self.setState({\r\n            pes: [...self.state.pes, endPE]\r\n          })\r\n        }}\r\n      >插入数据</Button>\r\n      }\r\n      {self.state.pes.length === POINTS_COUNT[this.state.calibMethod] &&\r\n      <Button\r\n        type={'primary'}\r\n        // size={'small'}\r\n        onClick={() => {\r\n          let {pes, calibMethod} = self.state\r\n          let {cell, deleteResultByChannel} = self.props\r\n          deleteResultByChannel(cell.i)\r\n          // pes = pes.map(pe=>pe.map(p=>p.toLocaleString('fullwide', {useGrouping:false})))\r\n          self.setState({\r\n            showCalibResult: true,\r\n            showSaveResult: false\r\n          })\r\n          self.sendCmd(`${calibMethod} --pose={${pes.join(',').replace(/ /g, ',')}}`)\r\n        }}\r\n      >开始标定</Button>\r\n      }\r\n    </div>\r\n    return <Table\r\n      className={`${prefixCls}-table`}\r\n      dataSource={data}\r\n      columns={columns}\r\n      size={'small'}\r\n      locale={{\r\n        'emptyText':'endPE数据载入中...'\r\n      }}\r\n      bordered\r\n      pagination={false}\r\n      footer={()=>Footer}\r\n    />;\r\n  }\r\n\r\n  getUserInputUpdateFn = (key) => {\r\n    let self = this\r\n    return (value)=>{\r\n      let userInput = {...self.state.userInput}\r\n      userInput[key] = value\r\n      self.setState({userInput})\r\n    }\r\n  }\r\n\r\n  getCellRenderer = (key) => {\r\n    let self = this\r\n    return (text, record) => {\r\n      return <InputNumber\r\n        step={0.001}\r\n        size={\"small\"}\r\n        value={record[key]}\r\n        onChange={self.getUserInputUpdateFn(key)}\r\n      />\r\n    }\r\n  }\r\n\r\n  renderUserInput = (prefixCls) => {\r\n    let {userInput} = this.state\r\n    const columns = [\r\n      {\r\n        title: 'X[mm]',\r\n        dataIndex: 'x',\r\n        key: 'xi',\r\n        align: 'center',\r\n        render: this.getCellRenderer('x')\r\n      },\r\n      {\r\n        title: 'Y[mm]',\r\n        dataIndex: 'y',\r\n        key: 'yi',\r\n        align: 'center',\r\n        render: this.getCellRenderer('y')\r\n      },\r\n      {\r\n        title: 'Z[mm]',\r\n        dataIndex: 'z',\r\n        key: 'zi',\r\n        align: 'center',\r\n        render: this.getCellRenderer('z')\r\n      },\r\n      {\r\n        title: 'A',\r\n        dataIndex: 'a',\r\n        key: 'ai',\r\n        align: 'center',\r\n        render: this.getCellRenderer('a')\r\n      },\r\n      {\r\n        title: 'B',\r\n        dataIndex: 'b',\r\n        key: 'bi',\r\n        align: 'center',\r\n        render: this.getCellRenderer('b')\r\n      },\r\n      {\r\n        title: 'C',\r\n        dataIndex: 'c',\r\n        key: 'ci',\r\n        align: 'center',\r\n        render: this.getCellRenderer('c')\r\n      },\r\n    ];\r\n    let data = [{\r\n      xi: `xlast`,\r\n      yi: `ylast`,\r\n      zi: `zlast`,\r\n      ai: `alast`,\r\n      bi: `blast`,\r\n      ci: `clast`,\r\n      rowKey: 'result',\r\n      x: userInput.x,\r\n      y: userInput.y,\r\n      z: userInput.z,\r\n      a: userInput.a,\r\n      b: userInput.b,\r\n      c: userInput.c,\r\n      last: true,\r\n    }]\r\n    const self = this\r\n    const Footer = <div className={`${prefixCls}-table-footer`}>\r\n      <Button\r\n        type={'primary'}\r\n        // size={'small'}\r\n        onClick={()=>{\r\n          let {toolId, toolName, userInput} = self.state\r\n          toolName = !!toolName?toolName:`Tool${toolId}`\r\n          let {cell, deleteResultByChannel} = self.props\r\n          self.setState({\r\n            showSaveResult: true\r\n          })\r\n          deleteResultByChannel(cell.i)\r\n          let toolPe = [userInput.x, userInput.y, userInput.z, userInput.a, userInput.b, userInput.c]\r\n          self.sendCmd(\r\n            `SetTF --tool_id=${toolId} --tool_name=${toolName} --tool_pe={${toolPe.join(',').replace(/ /g, ',')}}`,\r\n            cell.i\r\n          )\r\n        }}\r\n      >保存</Button>\r\n    </div>\r\n    return <div className={`${prefixCls}-calib-userinput`}>\r\n      <Table\r\n        className={`${prefixCls}-table`}\r\n        dataSource={data}\r\n        columns={columns}\r\n        size={'small'}\r\n        locale={{\r\n          'emptyText':'标定结果载入中...'\r\n        }}\r\n        bordered\r\n        pagination={false}\r\n        footer={()=>Footer}\r\n      />\r\n    </div>\r\n  }\r\n\r\n  renderResult = (prefixCls) => {\r\n    let {showCalibResult} = this.state\r\n    let {result, cell} = this.props\r\n    // result = {\r\n    //   return_code: 0,\r\n    //   return_message: '工具坐标系 4 点标定完成!工具中心点(TCP)的拟合误差是:0.000mm',\r\n    //   tool_pe:[0,0,0,0,0,0]\r\n    // }\r\n    // showCalibResult=true\r\n    if (!showCalibResult || !result) {\r\n      return null\r\n    }\r\n    if (result.return_code !== 0 || !result.tool_pe) {\r\n      return <div className={`${prefixCls}-calib-result error`}>\r\n        <div>标定错误</div>\r\n        <div className={\"error\"}>代码:{result.return_code}</div>\r\n        <div className={\"error\"}>错误:{result.return_message}</div>\r\n      </div>\r\n    }\r\n    const columns = [\r\n      {\r\n        title: 'X[mm]',\r\n        dataIndex: 'x',\r\n        key: 'xi',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'Y[mm]',\r\n        dataIndex: 'y',\r\n        key: 'yi',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'Z[mm]',\r\n        dataIndex: 'z',\r\n        key: 'zi',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'A',\r\n        dataIndex: 'a',\r\n        key: 'ai',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'B',\r\n        dataIndex: 'b',\r\n        key: 'bi',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: 'C',\r\n        dataIndex: 'c',\r\n        key: 'ci',\r\n        align: 'center'\r\n      },\r\n    ];\r\n    let data = [{\r\n      xi: `xlast`,\r\n      yi: `ylast`,\r\n      zi: `zlast`,\r\n      ai: `alast`,\r\n      bi: `blast`,\r\n      ci: `clast`,\r\n      rowKey: 'result',\r\n      x: result.tool_pe[0].toFixed(3),\r\n      y: result.tool_pe[1].toFixed(3),\r\n      z: result.tool_pe[2].toFixed(3),\r\n      a: result.tool_pe[3].toFixed(3),\r\n      b: result.tool_pe[4].toFixed(3),\r\n      c: result.tool_pe[5].toFixed(3),\r\n      last: true,\r\n    }]\r\n    const self = this\r\n    const Footer = <div className={`${prefixCls}-table-footer`}>\r\n      <Button\r\n        type={'primary'}\r\n        // size={'small'}\r\n        onClick={()=>{\r\n          let {toolId, toolName} = self.state\r\n          // let tool_pe = result.tool_pe.map(p=>p.toLocaleString('fullwide', {useGrouping:false}))\r\n          let tool_pe = result.tool_pe.map(p=>p)\r\n          toolName = !!toolName?toolName:`Tool${toolId}`\r\n          let {cell, deleteResultByChannel} = self.props\r\n          self.setState({\r\n            showCalibResult: false,\r\n            showSaveResult: true\r\n          })\r\n          deleteResultByChannel(cell.i)\r\n          self.sendCmd(\r\n            `SetTF --tool_id=${toolId} --tool_name=${toolName} --tool_pe={${tool_pe.join(',').replace(/ /g, ',')}}`,\r\n            cell.i\r\n          )\r\n        }}\r\n      >保存</Button>\r\n    </div>\r\n    return <div className={`${prefixCls}-calib-result`}>\r\n      <div>标定结果</div>\r\n      <Table\r\n      className={`${prefixCls}-table`}\r\n      dataSource={data}\r\n      columns={columns}\r\n      size={'small'}\r\n      locale={{\r\n        'emptyText':'标定结果载入中...'\r\n      }}\r\n      bordered\r\n      pagination={false}\r\n      footer={()=>Footer}\r\n    />\r\n    <div className={`${prefixCls}-calib-result-message`}>{result.CalibrationInfo}</div>\r\n    </div>\r\n  }\r\n\r\n  renderSaveResult = (prefixCls) => {\r\n    let {showSaveResult} = this.state\r\n    let {result, cell} = this.props\r\n    if (!showSaveResult || !result) {\r\n      return null\r\n    }\r\n    if (result.return_code !== 0) {\r\n      return <div className={`${prefixCls}-save-result error`}>\r\n        <div>保存出错</div>\r\n        <div className={\"error\"}>代码:{result.return_code}</div>\r\n        {!!result.CalibrationInfo &&\r\n        <div className={\"error\"}>错误:{result.CalibrationInfo}</div>\r\n        }\r\n        {!!result.return_message &&\r\n        <div className={\"error\"}>错误:{result.return_message}</div>\r\n        }\r\n      </div>\r\n    }else{\r\n      return <div className={`${prefixCls}-save-result success`}>\r\n        <div>保存成功</div>\r\n        {!!result.CalibrationInfo &&\r\n        <div className={`${prefixCls}-save-result-message success`}>{result.CalibrationInfo}</div>\r\n        }\r\n        {!!result.return_message &&\r\n        <div className={\"success\"}>{result.return_message}</div>\r\n        }\r\n      </div>\r\n    }\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      toolIds,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('calib-tool', customizePrefixCls);\r\n    const self = this\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <Row>\r\n        <Col lg={10} className={`${prefixCls}-user-input-container`}>\r\n          <div>\r\n            <span>标定方法</span>\r\n            <Select\r\n              size={\"small\"}\r\n              placeholder={\"选择标定方法\"}\r\n              onChange={this.handleSelectCalibMethod}\r\n              value={this.state.calibMethod}\r\n            >\r\n              {Object.keys(CALIB_METHODS).map(name=> {\r\n                return <Option value={name} key={name}>{CALIB_METHODS[name]}</Option>\r\n              })}\r\n            </Select>\r\n            <Popover placement=\"bottom\" title={<span>{CALIB_METHODS[this.state.calibMethod]}</span>} content={DETAIL_HINTS[this.state.calibMethod]} trigger=\"click\">\r\n              <Icon type=\"question\" />\r\n            </Popover>\r\n          </div>\r\n          <div>\r\n            <span>工具号</span>\r\n            <Select\r\n              size={\"small\"}\r\n              placeholder={\"选择工具号\"}\r\n              onChange={this.handleSelectToolId}\r\n              value={this.state.toolId}\r\n            >\r\n              {toolIds.map(id=> {\r\n                return <Option value={id} key={id}>工具{id}</Option>\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <span>名称</span>\r\n            <Input\r\n              value={this.state.toolName}\r\n              size={\"small\"}\r\n              placeholder={`Tool${this.state.toolId}`}\r\n              onChange={this.handleNameChange}\r\n            ></Input>\r\n            { !!this.state.toolName && <Button\r\n              size={\"small\"}\r\n              type={\"primary\"}\r\n              style={{marginLeft:5}}\r\n              onClick={()=>{\r\n                self.setState({\r\n                  pes:[],\r\n                  showCalibResult: false,\r\n                })\r\n                let {toolName, toolId} = self.state\r\n                self.sendCmd(`RenameT --tool_id=${toolId} --tool_name=${toolName}`)\r\n              }}\r\n            >修改</Button>}\r\n          </div>\r\n        </Col>\r\n        <Col lg={14} className={`${prefixCls}-hints-container`}>\r\n          {HINTS[this.state.calibMethod]}\r\n        </Col>\r\n      </Row>\r\n      {this.state.calibMethod === 'UserInput' &&\r\n      <Row>\r\n        {this.renderUserInput(prefixCls)}\r\n      </Row>\r\n      }\r\n      {this.state.calibMethod !== 'UserInput' &&\r\n      <Row>\r\n        {this.renderTable(prefixCls)}\r\n      </Row>\r\n      }\r\n      {this.state.calibMethod !== 'UserInput' &&\r\n      <Row>\r\n        {this.renderResult(prefixCls)}\r\n      </Row>\r\n      }\r\n      <Row>\r\n        {this.renderSaveResult(prefixCls)}\r\n      </Row>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nToolCalib.propTypes = {\r\n  endPE: PropTypes.array,\r\n  result: PropTypes.object,\r\n  toolIds: PropTypes.array,\r\n}\r\n\r\n\r\nconst getToolCalibState = createSelector(\r\n  getMemoizeEndPE,\r\n  getResultByCell,\r\n  getToolIds,\r\n  (endPE, result, toolIds) => {\r\n    return {\r\n      endPE,\r\n      result,\r\n      toolIds,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getToolCalibState(state, props)\r\n}\r\n\r\nconst ConnectedToolCalib = connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel\r\n  }\r\n)(ToolCalib)\r\n\r\nConnectedToolCalib.NAME = '工具坐标系标定'\r\nexport default ConnectedToolCalib\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport Radio from \"antd/lib/radio\"\r\nimport Row from \"antd/lib/row\"\r\nimport Col from \"antd/lib/col\"\r\nimport Input from \"antd/lib/input\"\r\nimport Button from \"antd/lib/button\"\r\nimport Select from \"antd/lib/select\"\r\nimport { connect } from 'react-redux'\r\nimport Popover from 'antd/lib/popover'\r\nimport Table from 'antd/lib/table'\r\nimport { createSelector } from 'reselect'\r\n\r\n\r\nimport CellBase from \"./CellBase\";\r\nimport {\r\n  getToolIds,\r\n  getMemoizeEndPE,\r\n  getMemoizeResultByCell, getResultByCell\r\n} from \"../../selectors\";\r\nimport {deleteResultByChannel} from \"../../actions\";\r\nimport Wifi from \"../icons/Wifi\";\r\nconst Option = Select.Option\r\nconst RadioGroup = Radio.Group\r\n\r\nclass ZeroCalib extends CellBase {\r\n  calibMethods = {\r\n    \"CalibZF\": \"无负载首次标定\",\r\n    \"CalibZO\": \"工具负载零位偏移量标定\",\r\n    \"CalibZL\": \"外部负载的零点标定\"\r\n  }\r\n  state = {\r\n    calibMethod: 'CalibZF',\r\n    toolId: 0,\r\n    toolName: '',\r\n    pes: [],\r\n    showCalibResult: false,\r\n  }\r\n  handleSelectToolId = (toolId) => {\r\n    this.setState({toolId, pes: [], showCalibResult: false})\r\n  }\r\n  handleSelectCalibMethod = (event) => {\r\n    this.setState({calibMethod:event.target.value, showCalibResult: false})\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const self = this\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      toolIds,\r\n      deleteResultByChannel,\r\n    } = self.props\r\n    const {toolId, calibMethod} = self.state\r\n    const prefixCls = getPrefixCls('zero-calib', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <Row>\r\n        <Col>\r\n          <RadioGroup\r\n            onChange={this.handleSelectCalibMethod}\r\n            value={calibMethod}\r\n            className={`${prefixCls}-options`}\r\n          >\r\n            {Object.keys(self.calibMethods).map(method=>{\r\n              return <Radio key={method} value={method}>{self.calibMethods[method]}</Radio>\r\n            })}\r\n          </RadioGroup>\r\n        </Col>\r\n      </Row>\r\n      { calibMethod !== 'CalibZF' && <Row>\r\n        <Col\r\n          className={`${prefixCls}-select`}\r\n        >\r\n          <Select\r\n            size={\"small\"}\r\n            placeholder={\"选择工具\"}\r\n            onChange={self.handleSelectToolId}\r\n            value={toolId}\r\n          >\r\n            {toolIds.map(id=> {\r\n              return <Option value={id} key={id}>工具{id}</Option>\r\n            })}\r\n          </Select>\r\n          <span>tool_{toolId}</span>\r\n        </Col>\r\n      </Row>\r\n      }\r\n      <Row>\r\n        <Col className={`${prefixCls}-buttons`}>\r\n        {[0, 1, 2].map((i) => <Row key={i}>\r\n          <Button\r\n            type=\"primary\"\r\n            // size={\"large\"}\r\n            onClick={()=> {\r\n              deleteResultByChannel(cell.i)\r\n              self.setState({showCalibResult:true})\r\n              if(calibMethod === 'CalibZF'){\r\n                self.sendCmd(`${calibMethod} --axis_id=${2*i}`, cell.i)\r\n              }else{\r\n                self.sendCmd(`${calibMethod} --axis_id=${2*i} --tool_id=${toolId}`, cell.i)\r\n              }\r\n            }}\r\n            onMouseDown={()=>{\r\n              deleteResultByChannel(cell.i)\r\n              self.setState({showCalibResult:true})\r\n              if(calibMethod === 'CalibZF'){\r\n                self.getOnMouseDownFn(\r\n                  `${calibMethod} --axis_id=${2*i}`,\r\n                  cell.i\r\n                )()\r\n              }else {\r\n                self.getOnMouseDownFn(\r\n                  `${calibMethod} --axis_id=${2 * i} --tool_id=${toolId}`,\r\n                  cell.i\r\n                )()\r\n              }\r\n            }}\r\n            onMouseUp={()=>{\r\n              self.getOnMouseUpFn()()\r\n            }}\r\n            onMouseOut={()=>{\r\n              self.getOnMouseUpFn()()\r\n            }}\r\n          >校正A{2*i+1}</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            // size={\"large\"}\r\n            onClick={()=> {\r\n              deleteResultByChannel(cell.i)\r\n              self.setState({showCalibResult:true})\r\n              if(calibMethod === 'CalibZF'){\r\n                self.sendCmd(`${calibMethod} --axis_id=${2*i+1}`, cell.i)\r\n              }else{\r\n                self.sendCmd(`${calibMethod} --axis_id=${2*i+1} --tool_id=${toolId}`, cell.i)\r\n              }\r\n            }}\r\n            onMouseDown={()=>{\r\n              deleteResultByChannel(cell.i)\r\n              self.setState({showCalibResult:true})\r\n              if(calibMethod === 'CalibZF'){\r\n                self.getOnMouseDownFn(\r\n                  `${calibMethod} --axis_id=${2*i+1}`,\r\n                  cell.i\r\n                )()\r\n              }else {\r\n                self.getOnMouseDownFn(\r\n                  `${calibMethod} --axis_id=${2 * i+1} --tool_id=${toolId}`,\r\n                  cell.i\r\n                )()\r\n              }\r\n            }}\r\n            onMouseUp={()=>{\r\n              self.getOnMouseUpFn()()\r\n            }}\r\n            onMouseOut={()=>{\r\n              self.getOnMouseUpFn()()\r\n            }}\r\n          >校正A{2*i+2}</Button>\r\n        </Row>)\r\n        }\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        {this.renderResult(prefixCls)}\r\n      </Row>\r\n    </div>\r\n  }\r\n\r\n  renderResult = (prefixCls) => {\r\n      let {showCalibResult} = this.state\r\n      let {result} = this.props\r\n      if (!showCalibResult || !result) {\r\n        return null\r\n\r\n      }\r\n      const filter = ['cmd_response_time','id']\r\n      if (result.return_code !== 0) {\r\n        return <div className={`${prefixCls}-calib-result error`}>\r\n          <div>标定错误</div>\r\n          {\r\n            Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n              key={key}\r\n            ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n          }\r\n        </div>\r\n      }else{\r\n        return <div className={`${prefixCls}-calib-result success`}>\r\n          <div>标定成功</div>\r\n          {\r\n            Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n              key={key}\r\n            ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n          }\r\n        </div>\r\n      }\r\n\r\n  }\r\n\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nZeroCalib.propTypes = {\r\n  toolIds: PropTypes.array.isRequired,\r\n  result: PropTypes.object,\r\n}\r\n\r\n\r\nconst getZeroCalibState = createSelector(\r\n  getToolIds,\r\n  getResultByCell,\r\n  // getMemoizeResultByCell,\r\n  (toolIds,  result) => {\r\n    return {\r\n      toolIds,\r\n      result,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getZeroCalibState(state, props)\r\n}\r\n\r\nconst ConnectedZeroCalib =  connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel\r\n  }\r\n)(ZeroCalib)\r\n\r\nConnectedZeroCalib.NAME = '零点标定'\r\nexport default ConnectedZeroCalib\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Row from \"antd/lib/row\"\r\nimport Input from \"antd/lib/input\"\r\nimport Button from \"antd/lib/button\"\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport CellBase from \"./CellBase\";\r\nimport {\r\n  getToolIds,\r\n  getMemoizeMotionPos,\r\n  getCurrentMotionVelPercent, getResultByCell\r\n} from \"../../selectors\";\r\nimport {deleteResultByChannel} from \"../../actions\";\r\nimport InputNumber from 'antd/lib/input-number'\r\n\r\n\r\nconst { Search } = Input;\r\n\r\nclass MotionCalib extends CellBase {\r\n  name = '整机动力学标定'\r\n  state = {\r\n    motionPos: [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],\r\n    showCalibResult: false,\r\n    showSaveResult: false,\r\n  }\r\n\r\n  handleInsert = (index, value) => {\r\n    let motionPos = [...this.state.motionPos]\r\n    motionPos[index] = Math.floor(value/Math.PI*180)\r\n    this.setState({\r\n      motionPos,\r\n      showCalibResult: false,\r\n      showSaveResult: false\r\n    })\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const self = this\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      deleteResultByChannel,\r\n      currentMotionPos,\r\n    } = self.props\r\n    const {motionPos} = self.state\r\n    const prefixCls = getPrefixCls('motion-and-load-calib', customizePrefixCls);\r\n    if(!currentMotionPos){\r\n      return <div\r\n        className={`${prefixCls} loading`}\r\n      >\r\n        motion pos 载入中...\r\n      </div>\r\n    }\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      {[0, 1, 2, 3, 4, 5].map((i) => <Row\r\n        key={i}\r\n        className={`${prefixCls}-buttons`}>\r\n        <div>\r\n          <span> A{i+1}+ </span>\r\n          <InputNumber\r\n            step={1}\r\n            min={-360}\r\n            max={360}\r\n            size={'small'}\r\n            value={motionPos[2*i]}\r\n            onChange={(value)=>{\r\n              let motionPos = [...this.state.motionPos]\r\n              motionPos[2*i] = value\r\n              this.setState({\r\n                motionPos,\r\n                showCalibResult: false,\r\n                showSaveResult: false\r\n              })\r\n            }}\r\n          />\r\n          <Button\r\n            size={'small'}\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              this.handleInsert(2*i, currentMotionPos[i])\r\n            }}\r\n          >\r\n            插入\r\n          </Button>\r\n        </div>\r\n        <div>\r\n          <span> A{i+1}- </span>\r\n          <InputNumber\r\n            step={1}\r\n            min={-360}\r\n            max={360}\r\n            size={'small'}\r\n            value={motionPos[2*i+1]}\r\n            onChange={(value)=>{\r\n              let motionPos = [...this.state.motionPos]\r\n              motionPos[2*i+1] = value\r\n              this.setState({\r\n                motionPos,\r\n                showCalibResult: false,\r\n                showSaveResult: false\r\n              })\r\n            }}\r\n          />\r\n          <Button\r\n            size={'small'}\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              this.handleInsert(2*i+1, currentMotionPos[i])\r\n            }}\r\n          >\r\n            插入\r\n          </Button>\r\n        </div>\r\n      </Row>)\r\n      }\r\n      <Row\r\n        className={`${prefixCls}-calib-button`}\r\n      >\r\n        <Button\r\n          type={'primary'}\r\n          onClick={()=>{\r\n            self.setState({\r\n              showCalibResult: true,\r\n              showSaveResult: false\r\n            })\r\n            deleteResultByChannel(cell.i)\r\n            let {motionPos} = self.state\r\n            let {currentMotionVelPercent} = self.props\r\n            self.sendCmd(`JointDyna --A1P=${motionPos[0]/180*Math.PI} --A1N=${motionPos[1]/180*Math.PI} --A2P=${motionPos[2]/180*Math.PI} --A2N=${motionPos[3]/180*Math.PI} --A3P=${motionPos[4]/180*Math.PI} --A3N=${motionPos[5]/180*Math.PI} --A4P=${motionPos[6]/180*Math.PI} --A4N=${motionPos[7]/180*Math.PI} --A5P=${motionPos[8]/180*Math.PI} --A5N=${motionPos[9]/180*Math.PI} --A6P=${motionPos[10]/180*Math.PI} --A6N=${motionPos[11]/180*Math.PI} --VEL=${currentMotionVelPercent}`)\r\n          }}\r\n        >开始标定</Button>\r\n      </Row>\r\n      <Row>\r\n        {this.renderResult(prefixCls)}\r\n      </Row>\r\n      <Row>\r\n        {this.renderSaveResult(prefixCls)}\r\n      </Row>\r\n    </div>\r\n  }\r\n\r\n  renderSaveResult = (prefixCls) => {\r\n    let {showSaveResult} = this.state\r\n    let {result} = this.props\r\n    if (!showSaveResult || !result) {\r\n      return null\r\n    }\r\n    const filter = ['cmd_response_time','id']\r\n    if (result.return_code !== 0) {\r\n      return <div className={`${prefixCls}-calib-result error`}>\r\n        <div>保存错误</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n      </div>\r\n    }else{\r\n      return <div className={`${prefixCls}-calib-result success`}>\r\n        <div>保存成功</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n      </div>\r\n    }\r\n  }\r\n\r\n  renderResult = (prefixCls) => {\r\n    let {showCalibResult} = this.state\r\n    let {result, deleteResultByChannel, cell} = this.props\r\n    let self=this\r\n    if (!showCalibResult || !result) {\r\n      return null\r\n    }\r\n    const filter = ['cmd_response_time','id']\r\n    if (result.return_code !== 0 || !result.link_param) {\r\n      return <div className={`${prefixCls}-calib-result error`}>\r\n        <div>标定错误</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n      </div>\r\n    }else{\r\n      return <div className={`${prefixCls}-calib-result success`}>\r\n        <div>标定成功</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n        <Button\r\n          type={'primary'}\r\n          onClick={()=>{\r\n            self.setState({\r\n              showCalibResult: false,\r\n              showSaveResult: true\r\n            })\r\n            deleteResultByChannel(cell.i)\r\n            let cmd = 'JointDynaSave'\r\n            result.link_param.forEach((p, index)=>{\r\n              cmd += ` --P${index+1}=${p}`\r\n            })\r\n            self.sendCmd(cmd, cell.i)\r\n          }}\r\n        >保存</Button>\r\n      </div>\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nMotionCalib.propTypes = {\r\n  toolIds: PropTypes.array.isRequired,\r\n  result: PropTypes.object,\r\n}\r\n\r\n\r\nconst getMotionCalibState = createSelector(\r\n  getToolIds,\r\n  getResultByCell,\r\n  getMemoizeMotionPos,\r\n  getCurrentMotionVelPercent,\r\n  (toolIds,  result, currentMotionPos, currentMotionVelPercent) => {\r\n    return {\r\n      toolIds,\r\n      result,\r\n      currentMotionPos,\r\n      currentMotionVelPercent\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getMotionCalibState(state, props)\r\n}\r\n\r\nconst ConnectedMotionCalib = connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel\r\n  }\r\n)(MotionCalib)\r\n\r\nConnectedMotionCalib.NAME = '整机动力学标定'\r\n\r\nexport default ConnectedMotionCalib\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Row from \"antd/lib/row\"\r\nimport Col from \"antd/lib/col\"\r\nimport Input from \"antd/lib/input\"\r\nimport Button from \"antd/lib/button\"\r\nimport Radio from \"antd/lib/radio\"\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport CellBase from \"./CellBase\";\r\nimport {\r\n  getToolIds,\r\n  getMemoizeMotionPos,\r\n  getCurrentMotionVelPercent, getResultByCell\r\n} from \"../../selectors\";\r\nimport {deleteResultByChannel} from \"../../actions\";\r\nimport InputNumber from 'antd/lib/input-number'\r\n\r\n\r\nconst { Search } = Input;\r\nconst RadioGroup = Radio.Group\r\n\r\n\r\nclass LoadCalib extends CellBase {\r\n  name = '末端负载标'\r\n  state = {\r\n    motionPos: [0,0,0,0,0,0],\r\n    input: [0,0,0,0,0,0,0,0,0,0],\r\n    method: 'input',\r\n    showLoadedCalibResult: false,\r\n    showLoadedSaveResult: false,\r\n    showUnloadedCalibResult: false,\r\n    showUnloadedSaveResult: false,\r\n    showInputSaveResult: false,\r\n  }\r\n  inputLabels = ['mass', 'cogx', 'cogy', 'cogz','ixx','iyy','izz','ixy','iyz','ixz']\r\n  updateInput = (index, value) => {\r\n    let input = [...this.state.input]\r\n    input[index] = value\r\n    this.setState({\r\n      input,\r\n      showLoadedCalibResult: false,\r\n      showLoadedSaveResult: false,\r\n      showUnloadedCalibResult: false,\r\n      showUnloadedSaveResult: false,\r\n      showInputSaveResult: false,\r\n    })\r\n  }\r\n  updateMotionPos = (index, value) => {\r\n    let motionPos = [...this.state.motionPos]\r\n    motionPos[index] = value\r\n    this.setState({\r\n      motionPos,\r\n      showLoadedCalibResult: false,\r\n      showLoadedSaveResult: false,\r\n      showUnloadedCalibResult: false,\r\n      showUnloadedSaveResult: false,\r\n      showInputSaveResult: false,\r\n    })\r\n  }\r\n  handleInsert = (index, value) => {\r\n    let motionPos = [...this.state.motionPos]\r\n    motionPos[index] = Math.floor(value/Math.PI*180)\r\n    this.setState({\r\n      motionPos,\r\n      showLoadedCalibResult: false,\r\n      showLoadedSaveResult: false,\r\n      showUnloadedCalibResult: false,\r\n      showUnloadedSaveResult: false,\r\n      showInputSaveResult: false,\r\n    })\r\n  }\r\n  handleSelectInputMethod = (event) => {\r\n    this.setState({\r\n      method:event.target.value,\r\n      showLoadedCalibResult: false,\r\n      showLoadedSaveResult: false,\r\n      showUnloadedCalibResult: false,\r\n      showUnloadedSaveResult: false,\r\n      showInputSaveResult: false,\r\n    })\r\n  }\r\n\r\n  renderInput = (prefixCls) => {\r\n    const {input, showInputSaveResult} = this.state\r\n    const self = this\r\n    const {deleteResultByChannel, cell} = self.props\r\n    return <Fragment>\r\n      {[0,1,2,3,4].map((i, index) => <Row\r\n        key={i}\r\n        className={`${prefixCls}-input`}>\r\n        <div>\r\n          <span> {this.inputLabels[2*i]} </span>\r\n          <InputNumber\r\n            step={1}\r\n            min={-360}\r\n            max={360}\r\n            value={input[2*i]}\r\n            size={'small'}\r\n            onChange={(value)=>{\r\n              self.updateInput(2*i, value)\r\n            }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <span> {this.inputLabels[2*i+1]} </span>\r\n          <InputNumber\r\n            step={1}\r\n            min={-360}\r\n            max={360}\r\n            value={input[2*i+1]}\r\n            size={'small'}\r\n            onChange={(value)=>{\r\n              self.updateInput(2*i+1, value)\r\n            }}\r\n          />\r\n        </div>\r\n      </Row>)}\r\n      <Row\r\n        className={`${prefixCls}-calib-button`}\r\n      >\r\n        <Button\r\n          type={'primary'}\r\n          onClick={()=>{\r\n            self.setState({\r\n              showLoadedCalibResult: false,\r\n              showLoadedSaveResult: false,\r\n              showUnloadedCalibResult: false,\r\n              showUnloadedSaveResult: false,\r\n              showInputSaveResult: true,\r\n            })\r\n            deleteResultByChannel(cell.i)\r\n            let cmd = \"LoadDynaSave1\"\r\n            input.forEach((p, index)=>{\r\n              cmd += ` --P${index+1}=${p/180*Math.PI}`\r\n            })\r\n            self.sendCmd(cmd, cell.i)\r\n          }}\r\n        >保存</Button>\r\n      </Row>\r\n      {showInputSaveResult && this.renderSaveResult(prefixCls)}\r\n    </Fragment>\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const self = this\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      deleteResultByChannel,\r\n      currentMotionPos,\r\n    } = self.props\r\n    const {motionPos, method} = self.state\r\n    const prefixCls = getPrefixCls('motion-and-load-calib', customizePrefixCls);\r\n    if(!currentMotionPos){\r\n      return <div\r\n        className={`${prefixCls} loading`}\r\n      >\r\n        motion pos 载入中...\r\n      </div>\r\n    }\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <Row>\r\n        <Col>\r\n          <RadioGroup\r\n            onChange={this.handleSelectInputMethod}\r\n            value={method}\r\n            className={`${prefixCls}-options`}\r\n          >\r\n            <Radio key={\"calib\"} value={\"calib\"}>标定</Radio>\r\n            <Radio key={\"input\"} value={\"input\"}>输入</Radio>\r\n          </RadioGroup>\r\n        </Col>\r\n      </Row>\r\n      {method === 'input' && this.renderInput(prefixCls)}\r\n      {method === 'calib' && <Row className={`${prefixCls}-title`}>\r\n        输入关节允运动范围\r\n      </Row>\r\n      }\r\n      {method === 'calib' && [3, 5, 6].map((i, index) => <Row\r\n        key={i}\r\n        className={`${prefixCls}-buttons`}>\r\n        <div>\r\n          <span> A{i}+ </span>\r\n          <InputNumber\r\n            step={1}\r\n            min={-360}\r\n            max={360}\r\n            size={'small'}\r\n            value={motionPos[2*index]}\r\n            onChange={(value)=>{\r\n              this.updateMotionPos(2*index, value)\r\n            }}\r\n          />\r\n          <Button\r\n            size={'small'}\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              this.handleInsert(2*index, currentMotionPos[i-1])\r\n            }}\r\n          >\r\n            插入\r\n          </Button>\r\n        </div>\r\n        <div>\r\n          <span> A{i}- </span>\r\n          <InputNumber\r\n            step={1}\r\n            min={-360}\r\n            max={360}\r\n            size={'small'}\r\n            value={motionPos[2*index+1]}\r\n            onChange={(value)=>{\r\n              this.updateMotionPos(2*index+1, value)\r\n            }}\r\n          />\r\n          <Button\r\n            size={'small'}\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              this.handleInsert(2*index+1, currentMotionPos[i-1])\r\n            }}\r\n          >\r\n            插入\r\n          </Button>\r\n        </div>\r\n      </Row>)}\r\n      {method === 'calib' && <Row className={`${prefixCls}-calib-boxes`}>\r\n        <Col>\r\n          <Button\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              self.setState({\r\n                showLoadedCalibResult: false,\r\n                showLoadedSaveResult: false,\r\n                showUnloadedCalibResult: true,\r\n                showUnloadedSaveResult: false,\r\n                showInputSaveResult: false,\r\n              })\r\n              deleteResultByChannel(cell.i)\r\n              let {motionPos} = self.state\r\n              let {currentMotionVelPercent} = self.props\r\n              self.sendCmd(`LoadDyna --A3P=${motionPos[0]/180*Math.PI} --A3N=${motionPos[1]/180*Math.PI} --A5P=${motionPos[2]/180*Math.PI} --A5N=${motionPos[3]/180*Math.PI} --A6P=${motionPos[4]/180*Math.PI} --A6N=${motionPos[5]/180*Math.PI} --VEL=${currentMotionVelPercent} --TYPE=1`)\r\n            }}\r\n          >无负载标定</Button>\r\n          {\r\n            self.state.showUnloadedCalibResult && self.renderResult(\r\n              prefixCls,\r\n              \"LoadDynaSave0\",\r\n              {\r\n                showLoadedCalibResult: false,\r\n                showLoadedSaveResult: false,\r\n                showUnloadedCalibResult: false,\r\n                showUnloadedSaveResult: true,\r\n                showInputSaveResult: false,\r\n              })\r\n          }\r\n          {\r\n            self.state.showUnloadedSaveResult && self.renderSaveResult(prefixCls)\r\n          }\r\n        </Col>\r\n        <Col>\r\n          <Button\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              self.setState({\r\n                showLoadedCalibResult: true,\r\n                showLoadedSaveResult: false,\r\n                showUnloadedCalibResult: false,\r\n                showUnloadedSaveResult: false,\r\n                showInputSaveResult: false,\r\n              })\r\n              deleteResultByChannel(cell.i)\r\n              let {motionPos} = self.state\r\n              let {currentMotionVelPercent} = self.props\r\n              self.sendCmd(`LoadDyna --A3P=${motionPos[0]/180*Math.PI} --A3N=${motionPos[1]/180*Math.PI} --A5P=${motionPos[2]/180*Math.PI} --A5N=${motionPos[3]/180*Math.PI} --A6P=${motionPos[4]/180*Math.PI} --A6N=${motionPos[5]/180*Math.PI} --VEL=${currentMotionVelPercent} --TYPE=-1`)\r\n            }}\r\n          >负载标定</Button>\r\n          {\r\n            self.state.showLoadedCalibResult && self.renderResult(\r\n            prefixCls,\r\n            \"LoadDynaSave1\",\r\n            {\r\n              showLoadedCalibResult: false,\r\n              showLoadedSaveResult: true,\r\n              showUnloadedCalibResult: false,\r\n              showUnloadedSaveResult: false,\r\n              showInputSaveResult: false,\r\n            })\r\n          }\r\n          {\r\n            self.state.showLoadedSaveResult && self.renderSaveResult(prefixCls)\r\n          }\r\n        </Col>\r\n      </Row>}\r\n    </div>\r\n  }\r\n\r\n  renderSaveResult = (prefixCls) => {\r\n    let {result} = this.props\r\n    if (!result) {\r\n      return null\r\n    }\r\n    const filter = ['cmd_response_time','id']\r\n    if (result.return_code !== 0) {\r\n      return <div className={`${prefixCls}-box-result error`}>\r\n        <div>保存错误</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n        <div/>\r\n      </div>\r\n    }else{\r\n      return <div className={`${prefixCls}-box-result success`}>\r\n        <div>保存成功</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n        <div/>\r\n      </div>\r\n    }\r\n  }\r\n\r\n  renderResult = (prefixCls, saveCmd, saveState) => {\r\n    const self = this\r\n    const filter = ['cmd_response_time','id']\r\n    const {result, cell, deleteResultByChannel} = self.props\r\n    if (!result) {\r\n      return null\r\n    }\r\n    if (result.return_code !== 0 || !result.link_param) {\r\n      return <div className={`${prefixCls}-box-result error`}>\r\n        <div>标定错误</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n        <div/>\r\n      </div>\r\n    }else{\r\n      return <div className={`${prefixCls}-box-result success`}>\r\n        <div>标定成功</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n        <div>\r\n          <Button\r\n            type={'primary'}\r\n            onClick={()=>{\r\n              self.setState(saveState)\r\n              deleteResultByChannel(cell.i)\r\n              let cmd = saveCmd\r\n              result.link_param.forEach((p, index)=>{\r\n                cmd += ` --P${index+1}=${p}`\r\n              })\r\n              self.sendCmd(cmd, cell.i)\r\n            }}\r\n          >保存</Button>\r\n        </div>\r\n      </div>\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLoadCalib.propTypes = {\r\n  toolIds: PropTypes.array.isRequired,\r\n  result: PropTypes.object,\r\n}\r\n\r\n\r\nconst getLoadCalibState = createSelector(\r\n  getToolIds,\r\n  getResultByCell,\r\n  getMemoizeMotionPos,\r\n  getCurrentMotionVelPercent,\r\n  (toolIds,  result, currentMotionPos, currentMotionVelPercent) => {\r\n    return {\r\n      toolIds,\r\n      result,\r\n      currentMotionPos,\r\n      currentMotionVelPercent\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getLoadCalibState(state, props)\r\n}\r\n\r\nconst ConnectedLoadCalib = connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel\r\n  }\r\n)(LoadCalib)\r\n\r\nConnectedLoadCalib.NAME = '末端负载标定'\r\n\r\nexport default ConnectedLoadCalib\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Row from \"antd/lib/row\"\r\nimport Col from \"antd/lib/col\"\r\nimport Button from \"antd/lib/button\"\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport Select from \"antd/lib/select\"\r\nimport CellBase from \"./CellBase\";\r\nimport Modal from \"antd/lib/modal\"\r\nimport Icon from \"antd/lib/icon\"\r\nimport {\r\n  getResultByCell\r\n} from \"../../selectors\";\r\nimport {deleteResultByChannel} from \"../../actions\";\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport SixAxes from '../../images/six_axes.png'\r\nimport SevenAxes from '../../images/seven_axes.png'\r\nconst Option = Select.Option\r\n\r\n\r\nclass SetDH extends CellBase {\r\n  name = '构型参数配'\r\n  width = 24\r\n  height = 12\r\n  icon = (props) => <Icon {...props} />\r\n\r\n  state = {\r\n    type: 'six_axes',\r\n    inputs: {},\r\n    showSaveResult: false,\r\n  }\r\n\r\n  handleSelectType = (type) => {\r\n    const {deleteResultByChannel, cell} = this.props\r\n    deleteResultByChannel(cell.i)\r\n    this.setState({\r\n      type,\r\n      inputs: {},\r\n      showSaveResult: false,\r\n    })\r\n  }\r\n\r\n  updateInput = (name, value) =>{\r\n    let inputs = {...this.state.inputs}\r\n    inputs[name] = value\r\n    this.setState({inputs})\r\n  }\r\n\r\n  renderSixAxesInput = (prefixCls) => {\r\n    const {inputs, showSaveResult} = this.state\r\n    const self = this\r\n    const {deleteResultByChannel, cell} = self.props\r\n    return <Fragment>\r\n      {['a1', 'a2', 'a3', 'd1', 'd3', 'd4', 'tool0'].map((name, index) => <Row\r\n        key={name}\r\n        className={`${prefixCls}-input`}>\r\n          <span> {name} </span>\r\n          <InputNumber\r\n            disabled={showSaveResult}\r\n            step={1}\r\n            value={inputs[name]}\r\n            size={'small'}\r\n            onChange={(value)=>{\r\n              self.updateInput(name, value)\r\n            }}\r\n          />\r\n      </Row>)}\r\n      <Row\r\n        className={`${prefixCls}-save-button`}\r\n      >\r\n        <Button\r\n          type={'primary'}\r\n          disabled={showSaveResult}\r\n          onClick={()=>{\r\n            self.setState({\r\n              showSaveResult: true,\r\n            })\r\n            deleteResultByChannel(cell.i)\r\n            const {inputs} = self.state\r\n            let cmd = \"setdh --six_axes\"\r\n            Object.keys(inputs).forEach(name=>{\r\n              cmd+=` --${name}_six_axes=${inputs[name]/1000}`\r\n            })\r\n            self.sendCmd(cmd, cell.i)\r\n          }}\r\n        >保存</Button>\r\n      </Row>\r\n    </Fragment>\r\n  }\r\n\r\n  renderSevenAxesInput = (prefixCls) => {\r\n    const {inputs, showSaveResult} = this.state\r\n    const self = this\r\n    const {deleteResultByChannel, cell} = self.props\r\n    return <Fragment>\r\n      {['d1', 'd3', 'd5', 'tool0'].map((name) => <Row\r\n        key={name}\r\n        className={`${prefixCls}-input`}>\r\n          <span> {name} </span>\r\n          <InputNumber\r\n            disabled={showSaveResult}\r\n            step={1}\r\n            value={inputs[name]}\r\n            size={'small'}\r\n            onChange={(value)=>{\r\n              self.updateInput(name, value)\r\n            }}\r\n          />\r\n      </Row>)}\r\n      <Row\r\n        className={`${prefixCls}-save-button`}\r\n      >\r\n        <Button\r\n          type={'primary'}\r\n          disabled={showSaveResult}\r\n          onClick={()=>{\r\n            self.setState({\r\n              showSaveResult: true,\r\n            })\r\n            deleteResultByChannel(cell.i)\r\n            const {inputs} = self.state\r\n            let cmd = \"setdh --seven_axes\"\r\n            Object.keys(inputs).forEach(name=>{\r\n              cmd+=` --${name}_seven_axes=${inputs[name]/1000}`\r\n            })\r\n            self.sendCmd(cmd, cell.i)\r\n          }}\r\n        >保存</Button>\r\n      </Row>\r\n    </Fragment>\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const self = this\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n    } = self.props\r\n    const prefixCls = getPrefixCls('setdh', customizePrefixCls);\r\n    const {type, showSaveResult} = this.state\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      <Row>\r\n        <Col span={12}>\r\n          <Row className={`${prefixCls}-input`}>\r\n            <Select\r\n              size={\"small\"}\r\n              placeholder={\"选择工具\"}\r\n              onChange={self.handleSelectType}\r\n              value={type}\r\n            >\r\n              <Option value={'six_axes'} key={'six_axes'}>六轴机器人</Option>\r\n              <Option value={'seven_axes'} key={'seven_axes'}>七轴机器人</Option>\r\n            </Select>\r\n          </Row>\r\n          {\r\n            type==='six_axes' && this.renderSixAxesInput(prefixCls)\r\n          }\r\n          {\r\n            type==='seven_axes' && this.renderSevenAxesInput(prefixCls)\r\n          }\r\n        </Col>\r\n        <Col\r\n          span={12}\r\n          className={`${prefixCls}-bg`}\r\n          style={{\r\n            backgroundImage: `url(${type==='six_axes'?SixAxes:SevenAxes})`,\r\n          }}\r\n        >\r\n        </Col>\r\n        <Modal\r\n          visible={showSaveResult}\r\n          title=\"保存\"\r\n          centered={true}\r\n          onCancel={()=>{\r\n            self.setState({showSaveResult: false})\r\n          }}\r\n          footer={[\r\n            <Button key=\"close\" onClick={()=>{\r\n              self.setState({showSaveResult: false})\r\n            }}>\r\n              关闭\r\n            </Button>,\r\n          ]}\r\n        >\r\n          {this.renderResult(prefixCls)}\r\n        </Modal>\r\n      </Row>\r\n    </div>\r\n  }\r\n\r\n  renderResult = (prefixCls) => {\r\n    let {result, deleteResultByChannel, cell} = this.props\r\n    const filter = ['cmd_response_time','id']\r\n    if (!result) {\r\n      return <div className={`${prefixCls}-result info`}>\r\n        <div>保存中...</div>\r\n      </div>\r\n    } else if (result.return_code !== 0 || !result.link_param) {\r\n      return <div className={`${prefixCls}-result error`}>\r\n        <div>错误</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n      </div>\r\n    }else{\r\n      return <div className={`${prefixCls}-result success`}>\r\n\r\n        <div>成功</div>\r\n        {\r\n          Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div\r\n            key={key}\r\n          ><span>{key}</span>:<span>{result[key]}</span></div>)\r\n        }\r\n      </div>\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nSetDH.propTypes = {\r\n  result: PropTypes.object,\r\n}\r\n\r\nconst getSetDHState = createSelector(\r\n  getResultByCell,\r\n  (result) => {\r\n    return {\r\n      result,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getSetDHState(state, props)\r\n}\r\n\r\nconst ConnectedSetDH = connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel\r\n  }\r\n)(SetDH)\r\n\r\nConnectedSetDH.NAME = '构型参数配置'\r\nexport default ConnectedSetDH\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Row from \"antd/lib/row\"\r\nimport Input from \"antd/lib/input\"\r\nimport Button from \"antd/lib/button\"\r\nimport Select from \"antd/lib/select\"\r\nimport Upload from \"antd/lib/upload\"\r\nimport Icon from \"antd/lib/icon\"\r\nimport Modal from \"antd/lib/modal\"\r\nimport Form from 'antd/lib/form'\r\n\r\n\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport CellBase from \"./CellBase\";\r\nimport {\r\n  getCreateRobotModelModalVisible,\r\n  getCreatingRobotModel,\r\n  getCreatingRobotModelError,\r\n  getCreatingRobotModelResult,\r\n  getCurrentRobotBrand,\r\n  getCurrentRobotModel,\r\n  getResultByCell,\r\n  getRobotModels\r\n} from \"../../selectors\";\r\nimport {\r\n  deleteResultByChannel,\r\n  loadRobotModels,\r\n  robotModelPartUploadSuccess,\r\n  deleteRobotModelPart,\r\n  deleteRobotModel,\r\n  createRobotModel,\r\n  showCreateRobotModelModal,\r\n  hideCreateRobotModelModal,\r\n  selectCurrentRobotBrand,\r\n  selectCurrentRobotModel,\r\n} from \"../../actions\";\r\n\r\nconst Option = Select.Option\r\n\r\nconst formItemLayout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 8 },\r\n};\r\nconst FormItem = Form.Item\r\n\r\nclass CreateRobotForm extends Component {\r\n  handleSubmit = e =>{\r\n    e.preventDefault();\r\n    const {createRobotModel} = this.props\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        createRobotModel(values)\r\n      }\r\n    });\r\n  }\r\n\r\n  render(){\r\n    const { getFieldDecorator } = this.props.form;\r\n    const {\r\n      prefixCls,\r\n      visible,\r\n      creatingRobotModel,\r\n      creatingRobotModelError,\r\n      hideCreateRobotModelModal,\r\n    } = this.props\r\n    return <Modal\r\n      visible={visible}\r\n      title=\"创建机器人\"\r\n      onOk={this.handleSubmit}\r\n      okText={\"创建\"}\r\n      cancelText={\"取消\"}\r\n      onCancel={()=>{\r\n        hideCreateRobotModelModal()\r\n      }}\r\n      centered={true}\r\n    >\r\n      {<Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n        <FormItem\r\n          {...formItemLayout}\r\n          label={\"品牌\"}\r\n        >\r\n          {getFieldDecorator('brand', {\r\n            rules: [{required: true, message: '请输入机器人品牌!'}],\r\n          })(\r\n            <Input\r\n              placeholder=\"Brand\"\r\n            />,\r\n          )}\r\n        </FormItem>\r\n        <FormItem\r\n          {...formItemLayout}\r\n          label={\"型号\"}\r\n        >\r\n          {getFieldDecorator('model', {\r\n            rules: [{required: true, message: '请输入机器人型号!'}],\r\n          })(\r\n            <Input\r\n              placeholder=\"Model\"\r\n            />,\r\n          )}\r\n        </FormItem>\r\n      </Form>\r\n      }\r\n      {!!creatingRobotModel && <span className={\"info\"}>\r\n        创建中...\r\n      </span>}\r\n      {!!creatingRobotModelError && <span className={\"error\"}>\r\n        {creatingRobotModelError}\r\n      </span>}\r\n    </Modal>\r\n  }\r\n}\r\n\r\nconst CreateRobotModel = Form.create()(CreateRobotForm)\r\n\r\nclass ModelConfiguration extends CellBase {\r\n  name = '三维模型配置'\r\n  state = {\r\n    showCalibResult: false,\r\n    showSaveResult: false,\r\n    brand: null,\r\n    model: null,\r\n    showCreateModal: false,\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.loadRobotModels()\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const self = this\r\n    let {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      deleteResultByChannel,\r\n      robotModels,\r\n      robotModelPartUploadSuccess,\r\n      deleteRobotModelPart,\r\n      deleteRobotModel,\r\n      creatingRobotModel,\r\n      creatingRobotModelError,\r\n      creatingRobotModelResult,\r\n      showCreateRobotModelModal,\r\n      modalVisible,\r\n      createRobotModel,\r\n      selectCurrentRobotBrand,\r\n      selectCurrentRobotModel,\r\n      hideCreateRobotModelModal,\r\n      model,\r\n      brand,\r\n    } = self.props\r\n    const {motionPos} = self.state\r\n    const prefixCls = getPrefixCls('model-configuration', customizePrefixCls);\r\n    if(!robotModels){\r\n      return <div\r\n        className={`${prefixCls} loading`}\r\n      >\r\n        参数载入中...\r\n      </div>\r\n    }\r\n    if(!brand || !robotModels[brand]){\r\n      brand = Object.keys(robotModels)[0]\r\n    }\r\n    if(brand){\r\n      if(!model || !robotModels[brand][model]){\r\n        model = Object.keys(robotModels[brand])[0]\r\n      }\r\n    }\r\n    let missingParts = []\r\n    if(brand && model){\r\n      missingParts = Object.keys(robotModels[brand][model].parts).filter(key=>!robotModels[brand][model].parts[key])\r\n    }\r\n    return <div className={prefixCls}>\r\n      {!!robotModels && model && brand && <Row className={`${prefixCls}-brand`} style={{marginBottom: 20}}>\r\n        <span>机器人品牌</span>\r\n        <Select\r\n          size={\"small\"}\r\n          style={{width: 200}}\r\n          placeholder={\"选择机器人品牌\"}\r\n          onChange={(brand)=>{\r\n            this.setState({saving: false})\r\n            deleteResultByChannel(cell.i)\r\n            selectCurrentRobotBrand(brand)\r\n          }}\r\n          value={brand}\r\n        >\r\n          {Object.keys(robotModels).map(brand => <Option value={brand} key={brand}>{brand}</Option>)}\r\n        </Select>\r\n      </Row>\r\n      }\r\n      {!!robotModels && model && brand && model && !!robotModels[brand] && <Row className={`${prefixCls}-model`} style={{marginBottom: 20}}>\r\n        <span>机器人型号</span>\r\n        <Select\r\n          size={\"small\"}\r\n          style={{width: 200}}\r\n          placeholder={\"选择机器人型号\"}\r\n          onChange={(model)=>{\r\n            this.setState({saving: false})\r\n            deleteResultByChannel(cell.i)\r\n            selectCurrentRobotModel(model)\r\n          }}\r\n          value={model}\r\n        >\r\n          {Object.keys(robotModels[brand]).map(model => <Option value={model} key={model}>{model}</Option>)}\r\n        </Select>\r\n        <Button\r\n          style={{marginLeft: 10, marginBottom: 20}}\r\n          size={\"small\"}\r\n          onClick={()=>{\r\n            this.setState({saving: false})\r\n            deleteResultByChannel(cell.i)\r\n            deleteRobotModel(brand, model)\r\n          }}\r\n        >删除</Button>\r\n      </Row>\r\n      }\r\n      <Row className={`${prefixCls}-model`}>\r\n        <Button\r\n          size={\"small\"}\r\n          onClick={()=>{\r\n            this.setState({saving: false})\r\n            deleteResultByChannel(cell.i)\r\n            showCreateRobotModelModal()\r\n          }}\r\n        >添加机器人</Button>\r\n        <CreateRobotModel\r\n          visible={modalVisible}\r\n          hideCreateRobotModelModal={hideCreateRobotModelModal}\r\n          centered={true}\r\n          createRobotModel={createRobotModel}\r\n          creatingRobotModel={creatingRobotModel}\r\n          creatingRobotModelError={creatingRobotModelError}\r\n        >\r\n        </CreateRobotModel>\r\n      </Row>\r\n      <Row className={`${prefixCls}-parts`}>\r\n        {!!robotModels && !!robotModels[brand] && !!robotModels[brand][model] && !!robotModels[brand][model].parts && Object.keys(robotModels[brand][model].parts).map(key=>{\r\n          let fileList = []\r\n          if(!!robotModels[brand][model].parts[key]){\r\n            fileList.push({\r\n              uid: '-1',\r\n              name: robotModels[brand][model].parts[key],\r\n              status: 'done',\r\n              url: '',\r\n            })\r\n          }\r\n          return <Row className={`${prefixCls}-part ${this.state.saving && !robotModels[brand][model].parts[key] && 'error'}`} key={key}>\r\n            <span>PART {key}:</span>\r\n            {!!robotModels[brand][model].parts[key] && <span className={`${prefixCls}-part-file`}>\r\n            <Icon type=\"file-markdown\" /> {robotModels[brand][model].parts[key]}\r\n              <Icon type=\"close\" className={`${prefixCls}-delete`} onClick={()=>{\r\n                deleteRobotModelPart(brand, model, key)\r\n              }}/>\r\n          </span>}\r\n            {!robotModels[brand][model].parts[key] && <Upload\r\n              className={`${prefixCls}-part-upload`}\r\n              multiple={false}\r\n              action={`/api/robots/${brand}/${model}/parts/${key}`}\r\n              showUploadList={false}\r\n              onChange={({file, fileList, event})=>{\r\n                if(file.status === 'done'){\r\n                  robotModelPartUploadSuccess(file.response)\r\n                }\r\n              }}\r\n            >\r\n              <Button>\r\n                <Icon type=\"upload\" />上传\r\n              </Button>\r\n            </Upload>}\r\n          </Row>\r\n        })\r\n        }\r\n      </Row>\r\n      <Row className={`${prefixCls}-save`}>\r\n        <Button size={\"large\"} type={\"primary\"} onClick={()=>{\r\n          this.setState({saving: true})\r\n          deleteResultByChannel(cell.i)\r\n          if(missingParts.length === 0){\r\n            const parts = robotModels[brand][model].parts\r\n            const path = robotModels[brand][model].path\r\n            this.sendCmd(`cs_stop`)\r\n            const cmd = `setppath --file_path=`+Object.keys(parts).map(key=>{\r\n              return `${path}/${parts[key]}`\r\n            }).join(';')\r\n            this.sendCmd(cmd)\r\n            this.sendCmd(`savexml`)\r\n          }\r\n        }}>保存</Button>\r\n        {this.state.saving && missingParts.length > 0 && <p className={'error'}>\r\n          请上传机器人模型  {missingParts.join(',')}\r\n        </p> }\r\n      </Row>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nModelConfiguration.propTypes = {\r\n  result: PropTypes.object,\r\n}\r\n\r\nconst getModelConfigerationState = createSelector(\r\n  getResultByCell,\r\n  getRobotModels,\r\n  getCreatingRobotModel,\r\n  getCreatingRobotModelError,\r\n  getCreatingRobotModelResult,\r\n  getCreateRobotModelModalVisible,\r\n  getCurrentRobotBrand,\r\n  getCurrentRobotModel,\r\n  (\r\n    result,\r\n    robotModels,\r\n    creatingRobotModel,\r\n    creatingRobotModelError,\r\n    creatingRobotModelResult,\r\n    modalVisible,\r\n    brand,\r\n    model\r\n    ) => {\r\n    return {\r\n      robotModels,\r\n      result,\r\n      creatingRobotModel,\r\n      creatingRobotModelError,\r\n      creatingRobotModelResult,\r\n      modalVisible,\r\n      brand,\r\n      model\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getModelConfigerationState(state, props)\r\n}\r\n\r\nconst ConnectedModelConfiguration = connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel,\r\n    loadRobotModels,\r\n    robotModelPartUploadSuccess,\r\n    deleteRobotModelPart,\r\n    deleteRobotModel,\r\n    createRobotModel,\r\n    showCreateRobotModelModal,\r\n    hideCreateRobotModelModal,\r\n    selectCurrentRobotBrand,\r\n    selectCurrentRobotModel,\r\n  }\r\n)(ModelConfiguration)\r\n\r\nConnectedModelConfiguration.NAME = '三维模型配置'\r\n\r\nexport default ConnectedModelConfiguration\r\n","import React, {Component} from \"react\"\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ResultError extends Component {\r\n  render() {\r\n    let {filter, result} = this.props\r\n    filter = filter || []\r\n    return <div  {...this.props} >\r\n      {\r\n        Object.keys(result).map(key=>!!result[key] && filter.indexOf(key) === -1 && <div key={key} >\r\n          <span>{key}</span>:<span>{result[key]}</span>\r\n        </div>)\r\n      }\r\n    </div>\r\n  }\r\n}\r\n\r\nResultError.propTypes = {\r\n  filter: PropTypes.array,\r\n  result: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default ResultError","export class XMLJSONBase {\r\n  static FromXML = (node) => {\r\n    throw \"FromXML not implemented\"\r\n  }\r\n  static FromJSON = (node) => {\r\n    throw \"FromJSON not implemented\"\r\n  }\r\n  static GetNumber = (n, d=0) => {\r\n    try {\r\n      return JSON.parse(n)\r\n    }catch (e) {\r\n      return d\r\n    }\r\n  }\r\n  static GetDegreeNumber = (n, d=0) => {\r\n    try {\r\n      return JSON.parse(n)/Math.PI*180.0\r\n    }catch (e) {\r\n      return d\r\n    }\r\n  }\r\n  static ToRadian = (n) => {\r\n    return n/180.0*Math.PI\r\n  }\r\n\r\n  static ToXMLAttrString = (attr, value) => {\r\n    if(!value && value !== 0){\r\n      return ''\r\n    }else{\r\n      return `${attr}=\"${value}\"`\r\n    }\r\n  }\r\n  toXML = () => {\r\n    throw \"toXML not implemented\"\r\n  }\r\n  toJSON = () => {\r\n    throw \"toJSON not implemented\"\r\n  }\r\n}\r\n\r\nexport default XMLJSONBase","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport Pdo from \"./Pdo\";\r\n\r\n\r\nexport class PdoEntry extends XMLJSONBase {\r\n  constructor(name, index, subIndex, size){\r\n    super()\r\n    this.name = name\r\n    this.index = index\r\n    this.subIndex = subIndex\r\n    this.size = size\r\n  }\r\n\r\n  static FromXML = (node) => new PdoEntry(\r\n    node.getAttribute(\"name\"),\r\n    node.getAttribute(\"index\"),\r\n    node.getAttribute(\"subindex\"),\r\n    node.getAttribute(\"size\")\r\n  )\r\n\r\n  static FromJSON = ({name, index, subIndex, size}) => new PdoEntry(name, index, subIndex, size)\r\n\r\n  toXML = () => `<PdoEntry ${PdoEntry.ToXMLAttrString(\"name\", this.name)} ${PdoEntry.ToXMLAttrString(\"index\", this.index)}  ${PdoEntry.ToXMLAttrString(\"subindex\", this.subIndex)} ${PdoEntry.ToXMLAttrString(\"size\", this.size)} />`\r\n\r\n  toJSON = () => ({\r\n    name: this.name,\r\n    index: this.index,\r\n    subIndex: this.subIndex,\r\n    size: this.size,\r\n  })\r\n\r\n}\r\nexport default PdoEntry","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport PdoEntry from './PdoEntry'\r\n\r\nexport class Pdo extends XMLJSONBase {\r\n  constructor(index, name, entries){\r\n    super()\r\n    this.index = index\r\n    this.name = name\r\n    this.entries = entries\r\n  }\r\n\r\n  static FromXML = (node) => new Pdo(\r\n    node.getAttribute(\"index\"),\r\n    node.getAttribute(\"name\"),\r\n    [...node.getElementsByTagName(\"PdoEntry\")].filter(node=>node.nodeType === 1).map(PdoEntry.FromXML)\r\n  )\r\n\r\n  static FromJSON = ({index, name, entries}) => new Pdo(index, name, entries && entries.map(PdoEntry.FromJSON))\r\n\r\n  toXML = () => {\r\n    return `<Pdo ${Pdo.ToXMLAttrString(\"name\", this.name)} ${Pdo.ToXMLAttrString(\"index\", this.index)}>${this.entries?this.entries.map(e=>e.toXML()).join(''):''}</Pdo>`\r\n  }\r\n\r\n  toJSON = () => ({\r\n    name: this.name,\r\n    index: this.index,\r\n    entries: this.entries && this.entries.map(e=>e.toJSON())\r\n  })\r\n\r\n}\r\n\r\nexport default Pdo","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport Pdo from \"./Pdo\";\r\n\r\nexport class SyncManager extends XMLJSONBase {\r\n  constructor(isTx, pdoes){\r\n    super()\r\n    this.isTx = isTx\r\n    this.pdoes = pdoes\r\n  }\r\n\r\n  static  FromXML = node => new SyncManager(node.getAttribute(\"is_tx\"), [...node.getElementsByTagName('Pdo')].filter(node=>node.nodeType===1).map(Pdo.FromXML))\r\n\r\n  static FromJSON = ({isTx, pdoes}) => new SyncManager(isTx, pdoes && pdoes.map(Pdo.FromJSON))\r\n\r\n  toXML = () => `<SyncManager ${SyncManager.ToXMLAttrString(\"is_tx\", this.isTx)}>${this.pdoes?this.pdoes.map(p=>p.toXML()).join(''):''}</SyncManager>`\r\n\r\n  toJSON = () => ({\r\n    isTx: this.isTx,\r\n    pdoes:this.pdoes && this.pdoes.map(p=>p.toJSON())\r\n  })\r\n}\r\n\r\nexport default SyncManager","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport SyncManager from \"./SyncManager\";\r\n\r\nexport class SyncManagerPoolObject extends XMLJSONBase {\r\n  constructor(syncManagers){\r\n    super()\r\n    this.syncManagers = syncManagers\r\n  }\r\n\r\n  static  FromXML = node => new SyncManagerPoolObject([...node.getElementsByTagName('SyncManager')].filter(node=>node.nodeType===1).map(SyncManager.FromXML))\r\n\r\n  static FromJSON = ({syncManagers}) => new SyncManagerPoolObject(syncManagers && syncManagers.map(SyncManager.FromJSON))\r\n\r\n  toXML = () => `<SyncManagerPoolObject>${this.syncManagers?this.syncManagers.map(sm=>sm.toXML()).join(''):''}</SyncManagerPoolObject>`\r\n\r\n  toJSON = () => ({\r\n    syncManagers: this.syncManagers && this.syncManagers.map(sm=>sm.toJSON())\r\n  })\r\n}\r\n\r\nexport default SyncManagerPoolObject","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport SyncManagerPoolObject from \"./SyncManagerPoolObject\";\r\n\r\nexport class EthercatSlave extends XMLJSONBase {\r\n  constructor(uuid, phyId, vendorId, productCode, revisionNum, dcAssignActivate, syncManagerPoolObjects){\r\n    super()\r\n    this.uuid = uuid\r\n    try{\r\n      this.phyId = JSON.parse(phyId)\r\n    }catch (e) {\r\n      console.log(phyId)\r\n      this.phyId = 0\r\n      // console.error(e)\r\n    }\r\n    this.vendorId = this.vendorId\r\n    this.productCode = this.productCode\r\n    this.revisionNum = revisionNum\r\n    this.dcAssignActivate = dcAssignActivate\r\n    this.syncManagerPoolObjects = syncManagerPoolObjects\r\n  }\r\n\r\n  static FromXML = node => new EthercatSlave(\r\n    Math.random().toString(36),\r\n    node.getAttribute(\"phy_id\"),\r\n    node.getAttribute(\"vendor_id\"),\r\n    node.getAttribute(\"product_code\"),\r\n    node.getAttribute(\"revision_num\"),\r\n    node.getAttribute(\"dc_assign_activate\"),\r\n    [...node.getElementsByTagName(\"SyncManagerPoolObject\")].filter(node=>node.nodeType === 1).map(SyncManagerPoolObject.FromXML)\r\n  )\r\n\r\n  static FromJSON = ({uuid, phyId, vendorId, productCode, revisionNum, dcAssignActivate, syncManagerPoolObjects}) => new EthercatSlave(uuid || Math.random().toString(36)\r\n  , phyId, vendorId, productCode, revisionNum, dcAssignActivate, syncManagerPoolObjects && syncManagerPoolObjects.map(SyncManagerPoolObject.FromJSON))\r\n\r\n  toXML = () => `<EthercatSlave ${EthercatSlave.ToXMLAttrString('phy_id', this.phyId)} ${EthercatSlave.ToXMLAttrString('vendor_id',this.vendorId)} ${EthercatSlave.ToXMLAttrString('product_code', this.productCode)} ${EthercatSlave.ToXMLAttrString('revision_num', this.revisionNum)} ${EthercatSlave.ToXMLAttrString('dc_assign_activate', this.dcAssignActivate)}> ${this.syncManagerPoolObjects? this.syncManagerPoolObjects.map(smpo=>smpo.toXML()).join(\"\"):''}</EthercatSlave>`\r\n\r\n  toJSON = () => ({\r\n    uuid: this.uuid,\r\n    isMotion: false,\r\n    phyId: this.phyId,\r\n    vendorId: this.vendorId,\r\n    productCode: this.productCode,\r\n    revisionNum: this.revisionNum,\r\n    dcAssignActivate: this.dcAssignActivate,\r\n    syncManagerPoolObjects: this.syncManagerPoolObjects && this.syncManagerPoolObjects.map(smpo=>smpo.toJSON()),\r\n  })\r\n}\r\n\r\nexport default EthercatSlave","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport SyncManagerPoolObject from \"./SyncManagerPoolObject\";\r\n\r\n\r\nexport class EthercatMotion extends XMLJSONBase {\r\n  constructor(uuid, phyId, vendorId, productCode, revisionNum, dcAssignActivate, maxPos, minPos, maxVel, minVel, maxAcc, minAcc, maxPosFollowingError, maxVelFollowingError, posFactor, posOffset, homePos, syncManagerPoolObjects){\r\n    super()\r\n    this.uuid = uuid\r\n\r\n    this.phyId = phyId\r\n    this.vendorId = vendorId\r\n    this.productCode = productCode\r\n    this.revisionNum = revisionNum\r\n    this.dcAssignActivate = dcAssignActivate\r\n\r\n    this.maxPos = maxPos\r\n    this.minPos = minPos\r\n    this.maxVel = maxVel\r\n    this.minVel = minVel\r\n    this.maxAcc = maxAcc\r\n    this.minAcc = minAcc\r\n    this.maxPosFollowingError = maxPosFollowingError\r\n    this.maxVelFollowingError = maxVelFollowingError\r\n    this.posFactor = posFactor\r\n    this.posOffset = posOffset\r\n    this.homePos = homePos\r\n    this.syncManagerPoolObjects = syncManagerPoolObjects\r\n  }\r\n\r\n  static FromXML = (node) => {\r\n    let phyId = EthercatMotion.GetNumber(node.getAttribute(\"phy_id\"))\r\n    let vendorId = node.getAttribute(\"vendor_id\")\r\n    let productCode = node.getAttribute(\"product_code\")\r\n    let revisionNum = node.getAttribute(\"revision_num\")\r\n    let dcAssignActivate = node.getAttribute(\"dc_assign_activate\")\r\n    let maxPos = EthercatMotion.GetDegreeNumber(node.getAttribute(\"max_pos\"))\r\n    let minPos = EthercatMotion.GetDegreeNumber(node.getAttribute(\"min_pos\"))\r\n    let maxVel = EthercatMotion.GetDegreeNumber(node.getAttribute(\"max_vel\"))\r\n    let minVel = EthercatMotion.GetDegreeNumber(node.getAttribute(\"min_vel\"))\r\n    let maxAcc = EthercatMotion.GetDegreeNumber(node.getAttribute(\"max_acc\"))\r\n    let minAcc = EthercatMotion.GetDegreeNumber(node.getAttribute(\"min_acc\"))\r\n    let maxPosFollowingError = EthercatMotion.GetNumber(node.getAttribute(\"max_pos_following_error\"))\r\n    let maxVelFollowingError = EthercatMotion.GetNumber(node.getAttribute(\"max_vel_following_error\"))\r\n    let posFactor  = EthercatMotion.GetNumber(node.getAttribute(\"pos_factor\"))\r\n    let posOffset = EthercatMotion.GetDegreeNumber(node.getAttribute(\"pos_offset\"))\r\n    let homePos = EthercatMotion.GetDegreeNumber(node.getAttribute(\"home_pos\"))\r\n\r\n    return new EthercatMotion(\r\n      Math.random().toString(36),\r\n      phyId,\r\n      vendorId,\r\n      productCode,\r\n      revisionNum,\r\n      dcAssignActivate,\r\n      maxPos,\r\n      minPos,\r\n      maxVel,\r\n      minVel,\r\n      maxAcc,\r\n      minAcc,\r\n      maxPosFollowingError,\r\n      maxVelFollowingError,\r\n      posFactor,\r\n      posOffset,\r\n      homePos,\r\n      [...node.getElementsByTagName(\"SyncManagerPoolObject\")].filter(node => node.nodeType === 1).map(SyncManagerPoolObject.FromXML)\r\n    )\r\n  }\r\n\r\n  static FromJSON = ({uuid, phyId, vendorId, productCode, revisionNum, dcAssignActivate, maxPos, minPos, maxVel, minVel, maxAcc, minAcc, maxPosFollowingError, maxVelFollowingError, posFactor, posOffset, homePos, syncManagerPoolObjects}) => new EthercatMotion(uuid || Math.random().toString(36), phyId, vendorId, productCode, revisionNum, dcAssignActivate, maxPos, minPos, maxVel, minVel, maxAcc, minAcc, maxPosFollowingError, maxVelFollowingError, posFactor, posOffset, homePos, syncManagerPoolObjects && syncManagerPoolObjects.map(SyncManagerPoolObject.FromJSON))\r\n\r\n toXML = () => `<EthercatMotion ${EthercatMotion.ToXMLAttrString('phy_id',this.phyId)} ${EthercatMotion.ToXMLAttrString('vendor_id', this.vendorId)} ${EthercatMotion.ToXMLAttrString('product_code',this.productCode)} ${EthercatMotion.ToXMLAttrString('revision_num', this.revisionNum)} ${EthercatMotion.ToXMLAttrString('dc_assign_activate', this.dcAssignActivate)} ${EthercatMotion.ToXMLAttrString('max_pos', EthercatMotion.ToRadian(this.maxPos))} ${EthercatMotion.ToXMLAttrString('min_pos', EthercatMotion.ToRadian(this.minPos))}  ${EthercatMotion.ToXMLAttrString('max_vel',EthercatMotion.ToRadian(this.maxVel))} ${EthercatMotion.ToXMLAttrString('min_vel', EthercatMotion.ToRadian(this.minVel))} ${EthercatMotion.ToXMLAttrString('max_acc', EthercatMotion.ToRadian(this.maxAcc))} ${EthercatMotion.ToXMLAttrString('min_acc',EthercatMotion.ToRadian(this.minAcc))} ${EthercatMotion.ToXMLAttrString('max_pos_following_error', this.maxPosFollowingError)} ${EthercatMotion.ToXMLAttrString('max_vel_following_error', this.maxVelFollowingError)} ${EthercatMotion.ToXMLAttrString('pos_factor', this.posFactor)} ${EthercatMotion.ToXMLAttrString('pos_offset', EthercatMotion.ToRadian(this.posOffset))} ${EthercatMotion.ToXMLAttrString('home_pos', EthercatMotion.ToRadian(this.homePos))} >${this.syncManagerPoolObjects?this.syncManagerPoolObjects.map(smpo=>smpo.toXML()).join(''):''}</EthercatMotion>`\r\n\r\n\r\n  toJSON = () => ({\r\n    uuid: this.uuid,\r\n    isMotion: true,\r\n    phyId: this.phyId,\r\n    vendorId: this.vendorId,\r\n    productCode: this.productCode,\r\n    revisionNum: this.revisionNum,\r\n    dcAssignActivate: this.dcAssignActivate,\r\n    maxPos: this.maxPos,\r\n    minPos: this.minPos,\r\n    maxVel: this.maxVel,\r\n    minVel: this.minVel,\r\n    maxAcc: this.maxAcc,\r\n    minAcc: this.minAcc,\r\n    maxPosFollowingError: this.maxPosFollowingError,\r\n    maxVelFollowingError: this.maxVelFollowingError,\r\n    posFactor: this.posFactor,\r\n    posOffset: this.posOffset,\r\n    homePos: this.homePos,\r\n    syncManagerPoolObjects:this.syncManagerPoolObjects && this.syncManagerPoolObjects.map(smpo=>smpo.toJSON())\r\n  })\r\n}\r\n\r\nexport default EthercatMotion","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport EthercatSlave from \"./EthercatSlave\";\r\nimport EthercatMotion from \"./EthercatMotion\";\r\n\r\nexport class SlavePoolObject extends XMLJSONBase {\r\n  constructor(name, slaves, motions){\r\n    super()\r\n    this.name = name\r\n    this.slaves = slaves\r\n    this.motions = motions\r\n  }\r\n\r\n  static FromXML = (node) => new SlavePoolObject(\r\n    node.getAttribute(\"name\"),\r\n    [...node.getElementsByTagName(\"EthercatSlave\")].filter(node=>node.nodeType===1).map(EthercatSlave.FromXML),\r\n    [...node.getElementsByTagName(\"EthercatMotion\")].filter(node=>node.nodeType===1).map(EthercatMotion.FromXML),\r\n  )\r\n\r\n  static FromJSON = ({name, slaves, motions}) => new SlavePoolObject(\r\n    name,\r\n    slaves && slaves.map(EthercatSlave.FromJSON),\r\n    motions && motions.map(EthercatMotion.FromJSON)\r\n  )\r\n\r\n  toXML = () => `<SlavePoolObject ${SlavePoolObject.ToXMLAttrString(\"name\", this.name)}>${this.slaves ? this.slaves.map(s=>s.toXML()).join(''):''}${this.motions ? this.motions.map(m=>m.toXML()).join(''):''}</SlavePoolObject>`\r\n\r\n  toJSON = () => ({\r\n    name: this.name,\r\n    slaves: this.slaves && this.slaves.map(s=>s.toJSON()),\r\n    motions: this.motions && this.motions.map(m=>m.toJSON()),\r\n  })\r\n}\r\n\r\nexport default SlavePoolObject","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport SlavePoolObject from \"./SlavePoolObject\";\r\n\r\nexport class EthercatController extends XMLJSONBase {\r\n  constructor(name, slavePoolObjects) {\r\n    super();\r\n    this.name = name\r\n    this.slavePoolObjects = slavePoolObjects\r\n  }\r\n\r\n  static FromXML = node => new EthercatController(\r\n    node.getAttribute(\"name\"),\r\n    [...node.getElementsByTagName(\"SlavePoolObject\")].filter(node=>node.nodeType===1).map(SlavePoolObject.FromXML)\r\n  )\r\n\r\n  static FromJSON = ({name, slavePoolObjects}) => new EthercatController(name, slavePoolObjects && slavePoolObjects.map(SlavePoolObject.FromJSON))\r\n\r\n  toXML = () => `<EthercatController ${EthercatController.ToXMLAttrString('name', this.name)}>${this.slavePoolObjects? this.slavePoolObjects.map(spo=>spo.toXML()).join(''):''}</EthercatController>`\r\n\r\n  toJSON = () => ({\r\n    name: this.name,\r\n    slavePoolObjects: this.slavePoolObjects && this.slavePoolObjects.map(spo=>spo.toJSON())\r\n  })\r\n}\r\n\r\nexport default EthercatController","import XMLJSONBase from \"./XMLJSONBase\";\r\n\r\nexport class Device extends XMLJSONBase{\r\n\r\n  constructor(name, productCode, revisionNo) {\r\n    super()\r\n    this.name = name\r\n    this.productCode = productCode\r\n    this.revisionNo = revisionNo\r\n  }\r\n\r\n  static FromXML = node => new Device(\r\n    node.getAttribute(\"Name\"),\r\n    node.getAttribute(\"ProductCode\"),\r\n    node.getAttribute(\"RevisionNo\"),\r\n  )\r\n\r\n  static FromJSON = ({name, productCode, revisionNo}) => new Device(\r\n    name, productCode, revisionNo\r\n  )\r\n\r\n  toXML = () => `<Device ${Device.ToXMLAttrString('Name', this.name)} ${Device.ToXMLAttrString('ProductCode', this.productCode)} ${Device.ToXMLAttrString('RevisionNo', this.revisionNo)} />`\r\n\r\n  toJSON = () => ({\r\n    name: this.name,\r\n    productCode: this.productCode,\r\n    revisionNo: this.revisionNo,\r\n  })\r\n\r\n}\r\n\r\nexport default Device\r\n","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport Device from \"./Device\";\r\n\r\nexport class Vendor extends XMLJSONBase{\r\n  constructor(id, name, devices){\r\n    super()\r\n    this.id = id\r\n    this.name = name\r\n    this.devices = devices\r\n  }\r\n\r\n  static FromXML = (node) => new Vendor(node.getAttribute(\"Id\"), node.getAttribute(\"Name\"), ([...node.getElementsByTagName('Device')]).map(Device.FromXML))\r\n\r\n  static FromJSON = ({id, name, devices}) => new Vendor(id, name, devices && devices.map(Device.FromJSON))\r\n\r\n  toXML = () => `<Vendor ${Vendor.ToXMLAttrString(\"Id\", this.id)} ${Vendor.ToXMLAttrString(\"Name\", this.name)}>${this.devices && this.devices.map(d=>d.toXML()).join('')}</Vendor>`\r\n\r\n  toJSON = () => ({\r\n    name: this.name,\r\n    id: this.id,\r\n    devices: this.devices && this.devices.map(d=>d.toJSON())\r\n  })\r\n}\r\n\r\nexport default Vendor\r\n","import XMLJSONBase from \"./XMLJSONBase\";\r\nimport Vendor from \"./Vendor\";\r\n\r\nexport class EthercatMaster extends XMLJSONBase{\r\n  constructor(vendors){\r\n    super()\r\n    this.vendors = vendors\r\n  }\r\n\r\n  static FromXML = (node) => new EthercatMaster([...node.getElementsByTagName(\"Vendor\")].map(Vendor.FromXML))\r\n\r\n  static FromJSON = ({vendors}) => new EthercatMaster(vendors && vendors.map(Vendor.FromJSON))\r\n\r\n  toXML = () => `<ethercat_master>${this.vendors?this.vendors.map(v=>v.toXML()).join(''):''}</ethercat_master>`\r\n\r\n  toJSON = () => ({\r\n    vendors: this.vendors && this.vendors.map(v=>v.toJSON())\r\n  })\r\n}\r\n\r\n","import { createSelector } from 'reselect'\r\nimport EthercatController from \"../../../ethercat/EthercatController\";\r\nimport {EthercatMaster} from \"../../../ethercat/EthercatMaster\";\r\nimport {getXml} from \"../../../selectors\";\r\nimport EthercatSlave from \"../../../ethercat/EthercatSlave\";\r\n\r\nexport const getSetEsiPathResult = (state, {cell}) => state.robot.resultsByChannel[`${cell.i}-setesipath`]\r\nexport const getScanSlaveResult = (state, {cell}) => state.robot.resultsByChannel[`${cell.i}-scanslave`]\r\nexport const getPdoListResultForDevice = (state, {cell}) => state.robot.resultsByChannel[`${cell.i}-pdolist-for-device`]\r\nexport const getPdoListResultForSlave = (state, {cell}) => state.robot.resultsByChannel[`${cell.i}-pdolist-for-slave`]\r\nexport const getSaveResult = (state, {cell}) => state.robot.resultsByChannel[`${cell.i}-save`]\r\n\r\nexport const getEsiFileUploadingRequest = state => state.robot.esiFileUploadingRequest\r\nexport const getEsiFileUploadingSuccess = state => state.robot.esiFileUploadingSuccess\r\nexport const getEsiFileUploadingFailure = state => state.robot.esiFileUploadingFailure\r\n\r\nexport const getScanSlaveJsonResult = createSelector(\r\n  getScanSlaveResult,\r\n  (result) => {\r\n    if (!!result && !!result.controller_xml) {\r\n      const parser = new DOMParser();\r\n      const xmlDoc = parser.parseFromString(result.controller_xml, \"text/xml\");\r\n      const masterNode=xmlDoc.getElementsByTagName(\"EthercatController\");\r\n      if(masterNode && masterNode[0]) {\r\n        return EthercatController.FromXML(masterNode[0]).toJSON()\r\n      }\r\n    }\r\n    return null\r\n  })\r\n\r\nexport const getSetEsiPathJSONResult = createSelector(\r\n  getSetEsiPathResult,\r\n  (result) => {\r\n    if (!!result && !!result.device_list_xml) {\r\n      const parser = new DOMParser();\r\n      const xmlDoc = parser.parseFromString(result.device_list_xml, \"text/xml\");\r\n      const masterNode=xmlDoc.getElementsByTagName(\"ethercat_master\");\r\n      if(masterNode && masterNode[0]) {\r\n        return EthercatMaster.FromXML(masterNode[0]).toJSON()\r\n      }\r\n    }\r\n    return null\r\n  })\r\n\r\nexport const getPdoListForDeviceJSONResult = createSelector(\r\n  getPdoListResultForDevice,\r\n  (result) => {\r\n    console.log('xxxx',result)\r\n    if (!!result && !!result.pdo_list_xml) {\r\n      const parser = new DOMParser();\r\n      const xmlDoc = parser.parseFromString(result.pdo_list_xml, \"text/xml\");\r\n      const masterNode=xmlDoc.getElementsByTagName(\"EthercatSlave\");\r\n      if(masterNode && masterNode[0]) {\r\n        return EthercatSlave.FromXML(masterNode[0]).toJSON()\r\n      }\r\n    }\r\n    return null\r\n  })\r\n\r\nexport const getPdoListForSlaveJSONResult = createSelector(\r\n  getPdoListResultForSlave,\r\n  (result) => {\r\n    console.log(result)\r\n    if (!!result && !!result.device_list_xml) {\r\n      // const parser = new DOMParser();\r\n      // const xmlDoc = parser.parseFromString(result.device_list_xml, \"text/xml\");\r\n      // const masterNode=xmlDoc.getElementsByTagName(\"ethercat_master\");\r\n      // if(masterNode && masterNode[0]) {\r\n      //   return EthercatMaster.FromXML(masterNode[0]).toJSON()\r\n      // }\r\n    }\r\n    return null\r\n  })\r\n","import React, {Component} from \"react\"\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport Upload from \"antd/lib/upload\"\r\nimport Button from \"antd/lib/button\"\r\nimport Icon from \"antd/lib/icon\"\r\nimport Row from \"antd/lib/row\"\r\nimport isEqual from \"lodash/isEqual\"\r\nimport {esiFileUpload, sendCmd, deleteResultByChannel} from \"../../../actions\"\r\nimport {getEsiPath, getWebsocketConnected} from \"../../../selectors\";\r\nimport ResultError from \"../../../components/ResultError\";\r\nimport {\r\n  getSetEsiPathResult,\r\n  getEsiFileUploadingRequest,\r\n  getEsiFileUploadingFailure,\r\n  getEsiFileUploadingSuccess,\r\n  getScanSlaveResult,\r\n  getScanSlaveJsonResult,\r\n  getSetEsiPathJSONResult\r\n} from './selectors'\r\n\r\nclass SideBar extends Component {\r\n  render() {\r\n    const {\r\n      prefixCls,\r\n      sendCmd,\r\n      cell,\r\n      esiFileUploadRequest,\r\n      esiFileUploadFailure,\r\n      esiFileUploadSuccess,\r\n      ws,\r\n      esiPath,\r\n      esiFileUploadingRequest,\r\n      esiFileUploadingSuccess,\r\n      esiFileUploadingFailure,\r\n      setEsiPathResult,\r\n      scanSlaveResult,\r\n      deleteResultByChannel,\r\n      slaves,\r\n      addSlave,\r\n      removeSlave,\r\n      selectSlave,\r\n      selectedSlave,\r\n    } = this.props\r\n    return <div className={`${prefixCls}-sidebar`}>\r\n      <Row className={`${prefixCls}-buttons`}>\r\n        <Upload\r\n          className={`${prefixCls}-esi-upload`}\r\n          accept={\".xml\"}\r\n          multiple={false}\r\n          action={`/api/esi`}\r\n          disabled={!ws}\r\n          showUploadList={false}\r\n          onChange={({file, fileList, event})=>{\r\n            if(file.status === 'uploading'){\r\n              deleteResultByChannel(`${cell.i}-setesipath`)\r\n              deleteResultByChannel(`${cell.i}-scanslave`)\r\n              esiFileUploadRequest()\r\n            }else if(file.status === 'done'){\r\n              esiFileUploadSuccess(file.response.path)\r\n              sendCmd(`cs_stop`, `${cell.i}-stop`)\r\n              sendCmd(`setesipath --path=${esiPath}`, `${cell.i}-setesipath`)\r\n            }else if(file.status === 'error'){\r\n              esiFileUploadFailure(file.response.error)\r\n            }\r\n          }}\r\n        >\r\n          <Button\r\n            disabled={!ws}\r\n          >\r\n            <Icon type=\"upload\" />上传ESI文件\r\n          </Button>\r\n        </Upload>\r\n        <Button\r\n          className={`${prefixCls}-scanslave`}\r\n          disabled={!ws}\r\n          onClick={()=>{\r\n            deleteResultByChannel(`${cell.i}-scanslave`)\r\n            if(!setEsiPathResult || !!setEsiPathResult.return_code){\r\n              sendCmd(`cs_stop`, `${cell.i}-stop`)\r\n              sendCmd(`setesipath --path=${esiPath}`, `${cell.i}-setesipath`)\r\n            }\r\n            sendCmd(`scanslave`, `${cell.i}-scanslave`)\r\n          }}>\r\n          <Icon type=\"monitor\" />扫描从站\r\n        </Button>\r\n      </Row>\r\n      <Row className={`${prefixCls}-info`}>\r\n        {!scanSlaveResult && !setEsiPathResult && esiFileUploadingRequest && <span className={\"info\"}>\r\n          ESI文件上传中...\r\n        </span>}\r\n        {!scanSlaveResult && !setEsiPathResult && esiFileUploadingSuccess && <span className={\"success\"}>\r\n          ESI文件上传成功!\r\n        </span>}\r\n        {!scanSlaveResult && !setEsiPathResult && esiFileUploadingFailure && <span className={\"info\"}>\r\n          ESI文件上传失败! ERROR:{esiFileUploadingFailure}\r\n        </span>}\r\n        {!scanSlaveResult && !!setEsiPathResult && !!setEsiPathResult.return_code && <ResultError\r\n          className={\"error\"}\r\n          filter={['cmd_response_time', 'id']}\r\n          result={setEsiPathResult}\r\n        />\r\n        }\r\n        {!scanSlaveResult && !!setEsiPathResult && !setEsiPathResult.return_code && <span className={\"success\"}>\r\n          setesipath 成功!\r\n        </span>\r\n        }\r\n\r\n        {!!scanSlaveResult && !!scanSlaveResult.return_code && <ResultError\r\n          className={\"error\"}\r\n          filter={['cmd_response_time', 'id']}\r\n          result={setEsiPathResult}\r\n        />\r\n        }\r\n        {!!scanSlaveResult && !scanSlaveResult.return_code && <span className={\"success\"}>\r\n          scanslave 成功!\r\n        </span>\r\n        }\r\n      </Row>\r\n      {!!slaves && <Row className={`${prefixCls}-slaves-list`}>\r\n        {Object.keys(slaves).map(key=>{\r\n          return <div\r\n            key={key}\r\n            className={`${selectedSlave===key?`${prefixCls}-selected-slave`:''} ${prefixCls}-slaves-list-item`}\r\n            onClick={()=>{\r\n              selectSlave(key)\r\n            }}\r\n          >\r\n            {slaves[key].isMotion?'电机':'从站'}{slaves[key].phyId}\r\n            <Button size={\"small\"} onClick={(e)=>{\r\n              e.preventDefault()\r\n              e.stopPropagation()\r\n              removeSlave(key)\r\n            }}>\r\n              删除\r\n            </Button>\r\n          </div>\r\n        })}\r\n        <Row className={`${prefixCls}-add-slave`}>\r\n          <Button onClick={addSlave}>\r\n            添加从站\r\n          </Button>\r\n        </Row>\r\n      </Row>}\r\n    </div>\r\n  }\r\n}\r\n\r\nSideBar.propTypes = {\r\n  prefixCls: PropTypes.string.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  cell: PropTypes.object.isRequired,\r\n  esiPath: PropTypes.string,\r\n\r\n\r\n  addSlave: PropTypes.func.isRequired,\r\n  removeSlave: PropTypes.func.isRequired,\r\n  selectSlave: PropTypes.func.isRequired,\r\n  selectedSlave: PropTypes.string,\r\n}\r\n\r\n\r\n\r\nconst getState = createSelector(\r\n  getEsiPath,\r\n  getWebsocketConnected,\r\n  getSetEsiPathResult,\r\n  getScanSlaveResult,\r\n  getScanSlaveJsonResult,\r\n  getEsiFileUploadingRequest,\r\n  getEsiFileUploadingSuccess,\r\n  getEsiFileUploadingFailure,\r\n  getSetEsiPathJSONResult,\r\n  (\r\n    esiPath,\r\n    ws,\r\n    setEsiPathResult,\r\n    scanSlaveResult,\r\n    scanSlaveJsonResult,\r\n    esiFileUploadingRequest,\r\n    esiFileUploadingSuccess,\r\n    esiFileUploadingFailure,\r\n    setEsiPathJSONResult,\r\n  ) => {\r\n    console.log(scanSlaveJsonResult, setEsiPathJSONResult)\r\n    return {\r\n      esiPath,\r\n      ws,\r\n      setEsiPathResult,\r\n      scanSlaveResult,\r\n      scanSlaveJsonResult,\r\n      esiFileUploadingRequest,\r\n      esiFileUploadingSuccess,\r\n      esiFileUploadingFailure,\r\n      setEsiPathJSONResult,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  esiFileUpload.request()\r\n  return getState(state, props)\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    esiFileUploadRequest: esiFileUpload.request,\r\n    esiFileUploadFailure: esiFileUpload.failure,\r\n    esiFileUploadSuccess: esiFileUpload.success,\r\n    sendCmd,\r\n    deleteResultByChannel,\r\n  }\r\n)(SideBar)\r\n\r\n\r\n// cs_stop\r\n// scanslave\r\n// setesipath --path=C:\\Users\\kevin\\Desktop\\test\r\n// getesipdolist --vendor_id=0x0000066f --product_code=0x60380000 --revision_num=0x00010000\r\n","import React, {Component} from \"react\"\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport {sendCmd} from \"../../../actions\"\r\nimport Button from \"antd/lib/button\"\r\nimport Select from \"antd/lib/select\"\r\nimport ResultError from \"../../../components/ResultError\";\r\nconst Option = Select.Option\r\n\r\nclass HeaderBar extends Component {\r\n  state = {\r\n    selectedVendor: null,\r\n    selectedDevice: null,\r\n  }\r\n  render() {\r\n    const {\r\n      prefixCls,\r\n      sendCmd,\r\n      cell,\r\n      selectedVendor,\r\n      selectedDevice,\r\n      selectDevice,\r\n      selectVendor,\r\n    } = this.props\r\n    const {vendors} = this.props\r\n    const vendorSelectProps = {\r\n      size: \"small\",\r\n      style: {width: 200},\r\n      placeholder: \"选择品牌\",\r\n      onChange: (id) => {\r\n        selectVendor(id)\r\n      },\r\n    }\r\n    if(selectVendor && selectVendor.id){\r\n      vendorSelectProps['value']=selectVendor.id\r\n    }\r\n    const deviceSelectProps = {\r\n      size: \"small\",\r\n      style: {width: 200},\r\n      placeholder: \"选择型号\",\r\n      onChange: (name) => {\r\n        selectDevice(name)\r\n      },\r\n    }\r\n    if(selectDevice && selectDevice.name){\r\n      deviceSelectProps['value'] = selectDevice.name\r\n    }\r\n    return <div className={`${prefixCls}-header-bar`}>\r\n      {vendors &&\r\n      <Select\r\n        {...vendorSelectProps}\r\n      >\r\n        {vendors.map(vendor=> {\r\n          return <Option value={vendor.id} key={vendor.id}>{vendor.name}</Option>\r\n        })}\r\n      </Select>\r\n      }\r\n      {vendors && selectedVendor && selectedVendor.devices &&\r\n      <Select\r\n        {...deviceSelectProps}\r\n      >\r\n        {selectedVendor.devices.map((device, index)=>{\r\n          return <Option value={device.name} key={index}>{device.name}</Option>\r\n        })}\r\n      </Select>\r\n      }\r\n      <Button onClick={this.props.save} type={\"primary\"}>保存</Button>\r\n    </div>\r\n  }\r\n}\r\n\r\nHeaderBar.propTypes = {\r\n  prefixCls: PropTypes.string.isRequired,\r\n  cell: PropTypes.object.isRequired,\r\n  vendors: PropTypes.array.isRequired,\r\n}\r\n\r\n\r\n\r\nconst getState = createSelector(\r\n  ()=>{},\r\n  (\r\n    result\r\n  ) => {\r\n    return {\r\n      result\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getState(state, props)\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    sendCmd,\r\n  }\r\n)(HeaderBar)\r\n\r\n\r\n","import React, {Fragment} from \"react\"\r\nimport CellBase from \"../CellBase\"\r\nimport SideBar from \"./SideBar\"\r\nimport HeaderBar from \"./HeaderBar\"\r\nimport isEqual from \"lodash/isEqual\"\r\nimport isEmpty from \"lodash/isEmpty\"\r\nimport isArray from \"lodash/isArray\"\r\nimport { connect } from 'react-redux'\r\n\r\nimport { createSelector } from 'reselect'\r\nimport {\r\n  deleteResultByChannel,\r\n  loadEsiPath,\r\n} from \"../../../actions\";\r\nimport {\r\n  getPdoListForDeviceJSONResult,\r\n  getPdoListForSlaveJSONResult,\r\n  getScanSlaveJsonResult,\r\n  getSetEsiPathJSONResult,\r\n  getSaveResult\r\n} from \"./selectors\";\r\n\r\nimport Row from 'antd/lib/row'\r\nimport Form from 'antd/lib/form'\r\nimport Checkbox from 'antd/lib/checkbox'\r\nimport Input from 'antd/lib/input'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport Col from 'antd/lib/col'\r\nimport Button from 'antd/lib/button'\r\nimport EthercatController from \"../../../ethercat/EthercatController\";\r\nimport ResultError from \"../../../components/ResultError\";\r\nconst FormItem = Form.Item\r\n\r\nconst slaveFormItemLayout = {\r\n  labelCol: {\r\n    span: 10\r\n  },\r\n  wrapperCol: {\r\n    span: 14\r\n  },\r\n};\r\n\r\nconst hexValidator = (rule, value, callback)=>{\r\n  if(typeof value === 'string' && !!value.match(/^(?:0[xX])?[0-9a-fA-F]+$/)){\r\n    callback()\r\n  }else{\r\n    callback('not hex')\r\n  }\r\n}\r\n\r\nconst transform = obj => {\r\n  return Object.keys(obj).reduce((acc, cv) => {\r\n    return {\r\n      ...acc,\r\n      [cv]:\r\n        typeof obj[cv] === \"object\" && !(\"value\" in obj[cv])\r\n          ? isArray(obj[cv])\r\n          ? obj[cv].map(item => transform(item))\r\n          : transform(obj[cv])\r\n          : Form.createFormField({\r\n            ...obj[cv],\r\n            value: obj[cv] && obj[cv].value\r\n          })\r\n    };\r\n  }, {});\r\n};\r\n\r\n\r\nclass EthercatConfiguration extends CellBase {\r\n  name = 'Ethercat从站配置'\r\n  width = 24\r\n  height = 24\r\n  state = {\r\n    selectedVendor: null,\r\n    selectedDevice: null,\r\n    selectedSlave: null\r\n  }\r\n\r\n  getEsiPdoListForDevice(vendorId, productCode, revisionNum) {\r\n    const {deleteResultByChannel, sendCmd, cell} = this.props\r\n    deleteResultByChannel(`${cell.i}-pdolist`)\r\n    sendCmd(`getesipdolist --vendor_id=${vendorId} --product_code=${productCode} --revision_num=${revisionNum}`, `${cell.i}-pdolist-for-device`)\r\n  }\r\n\r\n  getEsiPdoListForSlave(vendorId, productCode, revisionNum) {\r\n    const {deleteResultByChannel, sendCmd, cell} = this.props\r\n    deleteResultByChannel(`${cell.i}-pdolist`)\r\n    sendCmd(`getesipdolist --vendor_id=${vendorId} --product_code=${productCode} --revision_num=${revisionNum}`, `${cell.i}-pdolist-for-slave`)\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    if(!isEqual(nextProps.ethercatMaster, this.props.ethercatMaster)){\r\n      if(nextProps.ethercatMaster && nextProps.ethercatMaster.vendors){\r\n        this.setState({vendors: nextProps.ethercatMaster.vendors, saveError: null})\r\n      }\r\n    }\r\n    if(!isEqual(nextProps.ethercatController, this.props.ethercatController)){\r\n      if(nextProps.ethercatController && nextProps.ethercatController.slavePoolObjects && nextProps.ethercatController.slavePoolObjects[0]){\r\n        const slaves = {}\r\n        nextProps.ethercatController.slavePoolObjects[0].motions && nextProps.ethercatController.slavePoolObjects[0].motions.forEach(m=>{\r\n          slaves[m.uuid] = m\r\n        })\r\n        nextProps.ethercatController.slavePoolObjects[0].slaves && nextProps.ethercatController.slavePoolObjects[0].slaves.forEach(m=>{\r\n          slaves[m.uuid] = m\r\n        })\r\n        this.setState({slaves, saveError: null})\r\n      }\r\n      return false\r\n    }\r\n    let {selectedSlave, slaves} = this.state\r\n    if(!isEqual(nextProps.pdoListForDevice,  this.props.pdoListForDevice) && !isEmpty(nextProps.pdoListForDevice) && selectedSlave && slaves && slaves[selectedSlave]){\r\n      slaves = {...slaves}\r\n      slaves[selectedSlave] = {...nextProps.pdoListForDevice, phyId: slaves[this.state.selectedSlave].phyId, uuid: selectedSlave}\r\n      this.setState({slaves, saveError: null})\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  addSlave = () => {\r\n    let slaves = {...this.state.slaves}\r\n    if(isEmpty(slaves)){\r\n      return\r\n    }\r\n    let newPhyId = Math.max(...Object.keys(slaves).map(uuid=>slaves[uuid].phyId)) + 1\r\n    let newSlave = {...slaves[0], phyId: newPhyId, uuid: Math.random().toString(36), }\r\n    delete newSlave['syncManagerPoolObjects']\r\n    slaves[newSlave.uuid] = newSlave\r\n    this.setState({slaves, saveError: null})\r\n  }\r\n\r\n  selectSlave = (uuid) => {\r\n    const {slaves} = this.state\r\n    if(slaves[uuid]){\r\n      let {vendorId, productCode, revisionNum} = slaves[uuid]\r\n      if(vendorId && productCode && revisionNum){\r\n        this.getEsiPdoListForDevice(vendorId, productCode, revisionNum)\r\n      }\r\n      this.setState({selectedSlave: uuid, saveError: null})\r\n    }else{\r\n      this.setState({selectedSlave: null, saveError: null})\r\n    }\r\n  }\r\n\r\n  selectVendor = (vendorId) => {\r\n    const {vendors} = this.state\r\n    this.setState({\r\n      selectedVendor: vendors.filter(v=>v.id===vendorId)[0],\r\n      selectedDevice: null,\r\n      saveError: null\r\n    })\r\n  }\r\n\r\n  selectDevice = (deviceName) => {\r\n    const {selectedVendor} = this.state\r\n    if(selectedVendor){\r\n      const selectedDevice = selectedVendor.devices.filter(d=>d.name===deviceName)[0]\r\n      this.setState({\r\n        selectedDevice,\r\n        saveError: null\r\n      })\r\n      if(selectedDevice){\r\n        const vendorId = selectedVendor.id\r\n        const productCode = selectedDevice.productCode\r\n        const revisionNum = selectedDevice.revisionNo\r\n        if(vendorId && productCode && revisionNum){\r\n          this.getEsiPdoListForDevice(vendorId, productCode, revisionNum)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeSlave = (uuid) => {\r\n    let slaves = {...this.state.slaves}\r\n    if(isEmpty(slaves)){\r\n      return\r\n    }\r\n    delete slaves[uuid]\r\n    this.setState({slaves, saveError: null})\r\n  }\r\n\r\n  addPdo = (syncManagerIndex) => {\r\n    let slaves = {...this.state.slaves}\r\n    let selectedSave = this.state.selectedSlave\r\n    let slave = {...slaves[selectedSave]}\r\n    slave.syncManagerPoolObjects = [...(slave.syncManagerPoolObjects || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers = [...(slave.syncManagerPoolObjects[0].syncManagers || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] = {...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] || {})}\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes = [...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes || []), {}]\r\n    slaves[selectedSave] = slave\r\n    slave.rnd = Math.random()\r\n    this.setState({slaves, saveError: null})\r\n  }\r\n\r\n  removePdo = (syncManagerIndex,pdoIndex ) => {\r\n    let slaves = {...this.state.slaves}\r\n    let selectedSave = this.state.selectedSlave\r\n    let slave = {...slaves[selectedSave]}\r\n    slave.syncManagerPoolObjects = [...(slave.syncManagerPoolObjects || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers = [...(slave.syncManagerPoolObjects[0].syncManagers || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] = {...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] || {})}\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes = [...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes.splice(pdoIndex, 1)\r\n    slaves[selectedSave] = slave\r\n    slave.rnd = Math.random()\r\n    this.setState({slaves, saveError: null})\r\n  }\r\n\r\n  addPdoEntry = (syncManagerIndex, pdoIndex) => {\r\n    let slaves = {...this.state.slaves}\r\n    let selectedSave = this.state.selectedSlave\r\n    let slave = {...slaves[selectedSave]}\r\n    slave.syncManagerPoolObjects = [...(slave.syncManagerPoolObjects || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers = [...(slave.syncManagerPoolObjects[0].syncManagers || {})]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] = {...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] || {})}\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes = [...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex] = {\r\n      ...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex] || {})\r\n    }\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex].entries = [\r\n      ...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex].entries || []), {}\r\n    ]\r\n    slaves[selectedSave] = slave\r\n    slave.rnd = Math.random()\r\n    this.setState({slaves, saveError: null})\r\n  }\r\n\r\n  removePdoEntry = (syncManagerIndex, pdoIndex, pdoEntryIndex) => {\r\n    let slaves = {...this.state.slaves}\r\n    let selectedSave = this.state.selectedSlave\r\n    let slave = {...slaves[selectedSave]}\r\n    slave.syncManagerPoolObjects = [...(slave.syncManagerPoolObjects || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers = [...(slave.syncManagerPoolObjects[0].syncManagers || {})]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] = {...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex] || {})}\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes = [...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes || [])]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex] = {\r\n      ...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex] || {})\r\n    }\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex].entries = [\r\n      ...(slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex].entries || [])\r\n    ]\r\n    slave.syncManagerPoolObjects[0].syncManagers[syncManagerIndex].pdoes[pdoIndex].entries.splice(pdoEntryIndex, 1)\r\n    slaves[selectedSave] = slave\r\n    slave.rnd = Math.random()\r\n    this.setState({slaves, saveError: null})\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.loadEsiPath()\r\n  }\r\n\r\n  renderFormItemInput(prefixCls, key, label, initialValue, rules, span, required){\r\n    const { getFieldDecorator} = this.props.form;\r\n    return <Col span={span || 7} offset={1} pull={1} key={key}>\r\n      <FormItem {...slaveFormItemLayout} label={label} hasFeedback>\r\n        {getFieldDecorator(`slave.${key}`, {\r\n          initialValue: initialValue,\r\n          rules: [\r\n            {\r\n              required: !!required,\r\n              message: `Please input ${label}`,\r\n            },\r\n          ],\r\n        })(<Input placeholder={`${label}`} size={'small'}/>)}\r\n      </FormItem>\r\n    </Col>\r\n  }\r\n\r\n  renderFormItemNumberInput(prefixCls, key, label, initialValue, span, required, step, postfix, min, max){\r\n    const { getFieldDecorator} = this.props.form;\r\n    return <Col span={span || 7} offset={1} pull={1} key={key}>\r\n      <FormItem {...slaveFormItemLayout} label={label} hasFeedback>\r\n        {getFieldDecorator(`slave.${key}`, {\r\n          initialValue: initialValue,\r\n          rules: [\r\n            {\r\n              required: !!required,\r\n              message: `Please input ${label}`,\r\n            },\r\n          ],\r\n        })(<InputNumber\r\n          size={'small'}\r\n          step={step || 0.01}\r\n          min={min || -360}\r\n          max={max || 360}\r\n          placeholder={`${label}`}\r\n        />)}\r\n        {!!postfix && <span className={`${prefixCls}-form-postfix`}>{postfix}</span>}\r\n      </FormItem>\r\n    </Col>\r\n  }\r\n\r\n  renderSlaveInputs = (prefixCls, slave) => {\r\n    return <Row>\r\n      {[\r\n        [\"name\", \"name\", slave.name, []],\r\n        [\"vendorId\", \"vendor id\", slave.vendorId, [{validator:hexValidator, message:'Please input hex'}]],\r\n        [\"productCode\", \"productCode\", slave.productCode, [{validator:hexValidator, message:'Please input hex'}]],\r\n        [\"phyId\", \"physical id\", slave.phyId, [{type:'integer', message:'Please input integer'}]],\r\n        [\"revisionNum\", \"revision No.\", slave.revisionNum, [{validator:hexValidator, message:'Please input hex'}]],\r\n        [\"dcAssignActivate\", \"dc assign activate\", slave.dcAssignActivate, [{validator:hexValidator, message: 'Please input hex'}]],\r\n      ].map(d=>this.renderFormItemInput(prefixCls, ...d, 7, true))}\r\n    </Row>\r\n  }\r\n\r\n  renderMotionInputs = (prefixCls, slave) => {\r\n    return <Fragment>\r\n      {this.renderSlaveInputs(prefixCls, slave)}\r\n      <Row>\r\n        {[\r\n          ['maxPos', 'max pos', slave.maxPos, 7, true, 0.01, '度', -360, 360],\r\n          ['maxVel', 'max vel', slave.maxVel, 7, true, 0.01, '度\\/s', -360, 360],\r\n          ['maxAcc', 'max acc', slave.maxAcc, 7, true, 0.01, '度\\/s2', -360, 360],\r\n          ['minPos', 'min pos', slave.minPos, 7, true, 0.01, '度', -360, 360],\r\n          ['minVel', 'min vel', slave.minVel, 7, true, 0.01, '度\\/s', -360, 360],\r\n          ['minAcc', 'min acc', slave.minAcc, 7, true, 0.01, '度\\/s2', -360, 360],\r\n          ['posFactor', 'pos factor', slave.posFactor, 7, true, 0.01, '', -Number.MAX_VALUE, Number.MAX_VALUE],\r\n          ['posOffset', 'pos offset', slave.posOffset, 7, true, 0.01, '度', -360, 360],\r\n          ['homePos', 'home pos', slave.homePos, 7, true, 0.01, '度', -360, 360],\r\n          ['maxPosFollowingError', 'max pos following error', slave.maxPosFollowingError, 11, true, 0.0001, '', -Number.MAX_VALUE, Number.MAX_VALUE],\r\n          ['maxVelFollowingError', 'max vel following error', slave.maxVelFollowingError, 11, true, 0.0001, '', -Number.MAX_VALUE, Number.MAX_VALUE],\r\n        ].map(d=>this.renderFormItemNumberInput(prefixCls, ...d))}\r\n      </Row>\r\n    </Fragment>\r\n  }\r\n\r\n  renderPdoEntry = (prefixCls, pdoEntry, syncMangerIndex, pdoIndex, pdoEntryIndex) => {\r\n    const { getFieldDecorator} = this.props.form;\r\n    const rules = {\r\n      'name': [],\r\n      'index': [{validator: hexValidator, message: 'Please input hex'}],\r\n      'subIndex': [{validator: hexValidator, message: 'Please input hex'}],\r\n      'size': [{type: 'integer', message: 'Please input integer',   transform: (value)=>{\r\n          return Number(value)?Number(value):0;\r\n        }}],\r\n    }\r\n    return <Row key={pdoEntryIndex} className={`${prefixCls}-sync-manager-pdo-entry`}>\r\n      <Col span={4}>PDO Entry</Col>\r\n      {\r\n        ['name', 'index', 'subIndex', 'size'].map(key=>(<Col key={key} span={4}>\r\n            <FormItem hasFeedback={true}>\r\n              {getFieldDecorator(`slave.syncManagerPoolObjects[0].syncManagers[${syncMangerIndex}].pdoes[${pdoIndex}].entries[${pdoEntryIndex}].${key}`, {\r\n                initialValue: pdoEntry[key],\r\n                rules: [\r\n                  ...rules[key],\r\n                  {\r\n                    required: true,\r\n                    message: `Please input ${key}`,\r\n                  },\r\n                ],\r\n              })(<Input placeholder={`${key}`} size={\"small\"}/>)}\r\n            </FormItem>\r\n          </Col>\r\n        ))\r\n      }\r\n      <Col span={4}>\r\n        <Button size={\"small\"} type=\"danger\" onClick={()=>{\r\n          this.removePdoEntry(syncMangerIndex, pdoIndex, pdoEntryIndex)\r\n        }}>DEL</Button>\r\n      </Col>\r\n    </Row>\r\n  }\r\n\r\n  renderPdo = (prefixCls, pdo, syncMangerIndex, pdoIndex) => {\r\n    const { getFieldDecorator} = this.props.form;\r\n    const rules = {\r\n      'name': [],\r\n      'index': [{validator: hexValidator, message:'Please input hex'}]\r\n    }\r\n    return <div className={`${prefixCls}-sync-manager-pdo`} key={pdoIndex}>\r\n      <Row className={`${prefixCls}-sync-manager-pdo-header`}>\r\n        <Col span={2}>\r\n          Pdo {pdoIndex+1}\r\n        </Col>\r\n        {['name', 'index'].map(key=><Col span={6} key={key}>\r\n          <FormItem {...slaveFormItemLayout} label={key} hasFeedback={true}>\r\n            {getFieldDecorator(`slave.syncManagerPoolObjects[0].syncManagers[${syncMangerIndex}].pdoes[${pdoIndex}].${key}`, {\r\n              initialValue: pdo[key],\r\n              rules: [\r\n                ...rules[key],\r\n                {\r\n                  required: true,\r\n                  message: `Please input ${key}`,\r\n                },\r\n              ],\r\n            })(<Input placeholder={`${key}`} size={\"small\"} />)}\r\n          </FormItem>\r\n        </Col>)}\r\n        <Col span={8} offset={2} className={`${prefixCls}-sync-manager-pdo-delete`}>\r\n          <FormItem>\r\n            <Button size={\"small\"} type={\"danger\"} onClick={()=>{\r\n              this.removePdo(syncMangerIndex, pdoIndex)\r\n            }}>DEL</Button>\r\n          </FormItem>\r\n        </Col>\r\n      </Row>\r\n      <div className={`${prefixCls}-sync-manager-pdo-entries`}>\r\n        <Row className={`${prefixCls}-sync-manager-pdo-entries-header`}>\r\n          <Col span={4}></Col>\r\n          {\r\n            ['name', 'index', 'subIndex', 'size'].map(key => (<Col key={key} span={4}>\r\n                {key}\r\n              </Col>\r\n            ))\r\n          }\r\n        </Row>\r\n        {!!pdo.entries && pdo.entries.map((pdoEntry, pdoEntryIndex) => this.renderPdoEntry(prefixCls, pdoEntry, syncMangerIndex, pdoIndex, pdoEntryIndex))}\r\n        <Row className={`${prefixCls}-sync-manager-pdo-entries-add`}>\r\n          <Col span={20}>\r\n            <FormItem>\r\n              <Button size={\"small\"} type={\"primary\"} onClick={()=>{\r\n                this.addPdoEntry(syncMangerIndex, pdoIndex)\r\n              }}>Add Pdo Entry</Button>\r\n            </FormItem>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  renderSyncManager = (prefixCls, syncManager, syncManagerIndex) => {\r\n    const { getFieldDecorator} = this.props.form;\r\n    return <div className={`${prefixCls}-sync-manager`} key={syncManagerIndex}>\r\n      <Row className={`${prefixCls}-sync-manager-header`}>\r\n        Sync Manager {syncManagerIndex+1}\r\n        {getFieldDecorator(`slave.syncManagerPoolObjects[0].syncManagers[${syncManagerIndex}].isTx`, {\r\n          initialValue: !!syncManager.isTx,\r\n        })(<Checkbox>is_tx</Checkbox>)}\r\n        <Button size={\"small\"} type={\"primary\"} onClick={this.addPdo.bind(this, syncManagerIndex)}>\r\n          Add PDO\r\n        </Button>\r\n      </Row>\r\n      <div className={`${prefixCls}-sync-manager-pdoes`}>\r\n        {!!syncManager.pdoes && syncManager.pdoes.map((pdo, pdoIndex)=>this.renderPdo(\r\n          prefixCls, pdo, syncManagerIndex, pdoIndex\r\n        ))}\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  renderForm = (prefixCls) => {\r\n    let {slaves, selectedSlave} = this.state\r\n    let slave = slaves[selectedSlave]\r\n    return <Form>\r\n      {!!slave.isMotion && this.renderMotionInputs(prefixCls, slave)}\r\n      {!slave.isMotion && this.renderSlaveInputs(prefixCls, slave)}\r\n      <Row className={`${prefixCls}-is-motion`}>\r\n        <Col span={23}>\r\n          <Checkbox checked={slave.isMotion} onChange={(e)=>{\r\n            slaves = {...slaves}\r\n            slaves[selectedSlave] = {...slave, isMotion: e.target.checked}\r\n            this.setState({slaves, saveError: null})\r\n          }}>isMotion</Checkbox>\r\n        </Col>\r\n      </Row>\r\n      {!!slave && slave.syncManagerPoolObjects && slave.syncManagerPoolObjects[0] && slave.syncManagerPoolObjects[0].syncManagers && slave.syncManagerPoolObjects[0].syncManagers.map((sm, index)=>this.renderSyncManager(prefixCls, sm, index))}\r\n    </Form>\r\n  }\r\n\r\n  save = (e) => {\r\n    e.preventDefault()\r\n    const self = this\r\n    const {sendCmd, cell, deleteResultByChannel} = this.props\r\n    this.props.form.validateFields((err, {slave: values}) => {\r\n      if (!err) {\r\n        const {slaves, selectedSlave} = this.state\r\n        const slave = slaves[selectedSlave]\r\n        slaves[selectedSlave] = {syncManagerPoolObjects: [{syncManagers:[{},{}, {}, {}]}], ...values, uuid: slave.uuid, isMotion: slave.isMotion}\r\n        const slavePoolObject = {\r\n          name: \"slave_pool\",\r\n          motions: [],\r\n          slaves: [],\r\n        }\r\n        Object.keys(slaves).map(key=>{\r\n          const slave = slaves[key]\r\n          if(slave.isMotion){\r\n            slavePoolObject.motions.push(slave)\r\n          }else{\r\n            slavePoolObject.slaves.push(slave)\r\n          }\r\n        })\r\n        const ethercatController = {\r\n          name: 'ethercat_controller',\r\n          slavePoolObjects: [slavePoolObject]\r\n        }\r\n        const ec = EthercatController.FromJSON(ethercatController)\r\n        this.setState({saveError: null})\r\n        deleteResultByChannel(`${cell.i}-save`)\r\n        sendCmd(`set_xml --xml={<ControlServer>${ec.toXML()}</ControlServer>}`, `${cell.i}-save`)\r\n      }else{\r\n        self.setState({saveError: \"请修正不合理的输入内容！\"})\r\n      }\r\n    })\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      saveResult,\r\n    } = this.props\r\n    const {\r\n      slaves,\r\n      selectedSlave,\r\n      vendors,\r\n      selectedVendor,\r\n      selectedDevice,\r\n      saveError,\r\n    } = this.state\r\n    const prefixCls = getPrefixCls('ethercat-configuration', customizePrefixCls);\r\n    return <div className={prefixCls}>\r\n      <SideBar\r\n        prefixCls={prefixCls}\r\n        slaves = {slaves}\r\n        addSlave={this.addSlave}\r\n        removeSlave={this.removeSlave}\r\n        selectSlave={this.selectSlave}\r\n        selectedSlave={selectedSlave}\r\n        getEsiPdoList={this.getEsiPdoListForSlave}\r\n        cell={cell}\r\n      />\r\n      {!!slaves && !!selectedSlave && !!slaves[selectedSlave] && <div className={`${prefixCls}-content`} onSubmit={()=>{}}>\r\n        <HeaderBar\r\n          cell={cell}\r\n          vendors={vendors}\r\n          prefixCls={prefixCls}\r\n          selectDevice={this.selectDevice}\r\n          selectVendor={this.selectVendor}\r\n          selectedVendor={selectedVendor}\r\n          selectedDevice={selectedDevice}\r\n          save={this.save}\r\n          getEsiPdoList={this.getEsiPdoListForDevice}\r\n        ></HeaderBar>\r\n        <Row className={`${prefixCls}-error`}>\r\n          {saveError && <div className={'error'}>{saveError}</div>}\r\n          {saveResult && saveResult.return_code !== 0 && <ResultError result={saveResult} className={'error'} />}\r\n        </Row>\r\n        {this.renderForm(prefixCls)}\r\n      </div>\r\n      }\r\n    </div>\r\n  }\r\n}\r\n\r\nconst getModelConfigurationState = createSelector(\r\n  getSetEsiPathJSONResult,\r\n  getScanSlaveJsonResult,\r\n  getPdoListForDeviceJSONResult,\r\n  getPdoListForSlaveJSONResult,\r\n  getSaveResult,\r\n  (\r\n    ethercatMaster,\r\n    ethercatController,\r\n    pdoListForDevice,\r\n    pdoListForSlave,\r\n    saveResult,\r\n  ) => {\r\n    return {\r\n      ethercatMaster,\r\n      ethercatController,\r\n      pdoListForDevice,\r\n      pdoListForSlave,\r\n      saveResult,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getModelConfigurationState(state, props)\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    loadEsiPath,\r\n    deleteResultByChannel,\r\n  }\r\n)(Form.create({\r\n  mapPropsToFields(props) {\r\n    const { slave } = props;\r\n    const transformed = transform({ slave });\r\n    return transformed;\r\n  },\r\n  onValuesChange(_, values) {\r\n  }\r\n})(EthercatConfiguration))\r\n\r\n","import EthercatConfiguration  from './EthercatConfiguration'\r\n\r\nEthercatConfiguration.NAME = '从站配置'\r\n\r\nexport default  EthercatConfiguration","import Blockly, { DropDownDiv } from \"blockly\"\r\n\r\nlet validator = function(newValue){\r\n  let reg = /^[a-zA-Z][a-zA-Z0-9_]*$/;\r\n  if(reg.test(newValue)){\r\n    return newValue\r\n  }\r\n  else{\r\n    return 'error'\r\n  }\r\n};\r\n\r\nlet list1 = [[\"int\",\"int\"], [\"string\",\"string\"], [\"boolen\",\"boolen\"], [\"double\",\"double\"], [\"int[][]\",\"array\"]];\r\nBlockly.Blocks['base_variate'] = {\r\n  init: function() {\r\n    let field = new Blockly.FieldDropdown(list1,this.validate)\r\n    this.appendDummyInput()\r\n      .appendField(new Blockly.FieldLabelSerializable(\"VAR\"), \"NAME\")\r\n      .appendField(field, \"DROPDOWN1\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  },\r\n\r\n  validate: function(newValue) {\r\n    this.getSourceBlock().updateConnections(newValue);\r\n    return newValue;\r\n  },\r\n\r\n  updateConnections: function(newValue) {\r\n    this.removeInput('other', /* no error */ true);\r\n    this.removeInput('array1', /* no error */ true);\r\n\r\n    let field2 = new Blockly.FieldTextInput(\"p1\",validator);\r\n    if (newValue == 'int') {\r\n      this.appendDummyInput('other')\r\n        .appendField(field2, \"INPUT1\")\r\n        .appendField(\"=\")\r\n        .appendField(new Blockly.FieldTextInput(\"result\"), \"RESULT\");\r\n\r\n    }\r\n    else if (newValue == 'string') {\r\n      this.appendDummyInput('other')\r\n        .appendField(field2, \"INPUT1\")\r\n        .appendField(\"=\")\r\n        .appendField(new Blockly.FieldTextInput(\"result\"), \"RESULT\");\r\n    }\r\n    else if (newValue == 'boolen') {\r\n      this.appendDummyInput('other')\r\n        .appendField(field2, \"INPUT1\")\r\n        .appendField(\"=\")\r\n        .appendField(new Blockly.FieldTextInput(\"result\"), \"RESULT\");\r\n    }\r\n    else if (newValue == 'double') {\r\n      this.appendDummyInput('other')\r\n        .appendField(field2, \"INPUT1\")\r\n        .appendField(\"=\")\r\n        .appendField(new Blockly.FieldTextInput(\"result\"), \"RESULT\");\r\n    }\r\n    else if (newValue == 'array') {\r\n      this.appendDummyInput('array1')\r\n        .appendField(field2, \"INPUT1\")\r\n        .appendField(new Blockly.FieldTextInput(\"p2\"), \"INPUT2\")\r\n        .appendField(\"=\")\r\n        .appendField(new Blockly.FieldTextInput(\"result\"), \"RESULT\");\r\n    }\r\n  },\r\n\r\n};\r\nBlockly.Blocks['load_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR load\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"piece1\",validator), \"VARIABLE\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"mass\"), \"MASS\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"cogx\"), \"COGX\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"cogy\"), \"COGY\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"cogz\"), \"COGZ\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"q1\"), \"Q1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q2\"), \"Q2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q3\"), \"Q3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q4\"), \"Q4\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"ix\"), \"IX\")\r\n      .appendField(new Blockly.FieldTextInput(\"iy\"), \"IY\")\r\n      .appendField(new Blockly.FieldTextInput(\"iz\"), \"IZ\")\r\n      .appendField(\"}\")\r\n      .appendField(\"}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['pose_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR pose\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"pose1\",validator), \"POST1\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{{\")\r\n      .appendField(new Blockly.FieldTextInput(\"x\"), \"X\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"y\"), \"Y\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"z\"), \"Z\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"q1\"), \"Q1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q2\"), \"Q2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q3\"), \"Q3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q4\"), \"Q4\")\r\n      .appendField(\"}}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['jointtarget_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR jointtarget\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"home\",validator), \"HOME\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{{\")\r\n      .appendField(new Blockly.FieldTextInput(\"J1\"), \"J1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"J2\"), \"J2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"J3\"), \"J3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"J4\"), \"J4\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"J5\"), \"J5\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"J6\"), \"J6\")\r\n      .appendField(\"}\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"EJ\"), \"EJ\")\r\n      .appendField(\"}}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['robtarget_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR robtarget\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"pB1\",validator), \"INPUT1\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{{\")\r\n      .appendField(new Blockly.FieldTextInput(\"x\"), \"X\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"y\"), \"Y\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"z\"), \"Z\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"q1\"), \"Q1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q2\"), \"Q2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q3\"), \"Q3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q4\"), \"Q4\")\r\n      .appendField(\"}}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['speed_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR speed\",\"first_field\")\r\n      .appendField(new Blockly.FieldTextInput(\"v1\"), \"V1\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"ter\"), \"TER\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"tcp\"), \"TCP\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"ori\"), \"ORI\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"exj_r\"), \"EXJ_R\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"exj_l\"), \"EXJ_L\")\r\n      .appendField(\"}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  },\r\n\r\n};\r\n\r\nBlockly.Blocks['zone_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR zone\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"z100\",validator), \"INPUT1\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"dis\"), \"DIS\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"per\"), \"PER\")\r\n      .appendField(\"}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['tool_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR tool\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"tool2\",validator), \"INPUT1\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldDropdown([[\"true\",\"true\"], [\"false\",\"false\"]]), \"CHOOSE\")\r\n      .appendField(\",\")\r\n      .appendField(\"{{\")\r\n      .appendField(new Blockly.FieldTextInput(\"x\"), \"X\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"y\"), \"Y\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"z\"), \"Z\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"q1\"), \"A1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q2\"), \"A2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q3\"), \"A3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q4\"), \"A4\")\r\n      .appendField(\"}}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"mass\"), \"MASS\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"cogx\"), \"COGX\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"cogy\"), \"XOGY\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"cogz\"), \"COGZ\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"q1\"), \"Q1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q2\"), \"Q2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q3\"), \"Q3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q4\"), \"Q4\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"ix\"), \"IX\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"iy\"), \"IY\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"iz\"), \"IZ\")\r\n      .appendField(\"}}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }};\r\n\r\nBlockly.Blocks['wobj_variate'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"VAR wobj\",\"FIRST_FIELD\")\r\n      .appendField(new Blockly.FieldTextInput(\"wobj2\",validator), \"VALUE\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldDropdown([[\"FALSE\",\"FALSE\"], [\"TRUE\",\"TRUE\"]]), \"DropDown1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([[\"TRUE\",\"TRUE\"], [\"FALSE\",\"FALSE\"]]), \"DropDown2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"\\\"robot\\\"\"), \"name_string\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"x\"), \"X\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"y\"), \"Y\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"z\"), \"Z\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"q1\"), \"Q1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q2\"), \"Q2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q3\"), \"Q3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"q4\"), \"Q4\")\r\n      .appendField(\"}\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"id\"), \"ID\")\r\n      .appendField(\"}\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(120);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n","import Blockly from \"blockly\"\r\n\r\nBlockly.Blocks['robotcontrol_movel'] = {\r\n  updateEndPQ: function(endPQ){\r\n    [0,1,2,3,4,5,6].forEach(i=>this.setFieldValue(endPQ[i].toFixed(6),`END_PQ${i}`))\r\n    if(this.workspace){\r\n      this.workspace.render()\r\n    }\r\n  },\r\n  isEndPQEmpty: function(){\r\n    return [0,1,2,3,4,5,6].filter(i=>this.getFieldValue(`END_PQ${i}`) === Infinity).length === 7\r\n  },\r\n  init: function(){\r\n    let endPQ = [Infinity,Infinity,Infinity,Infinity,Infinity,Infinity,Infinity]\r\n    if(this.workspace && this.workspace.endPQ){\r\n      endPQ = this.workspace.endPQ.map(e=>e.toFixed(6))\r\n    }\r\n    this.appendValueInput(\"END_PQ_INPUT\")\r\n      .setCheck(null)\r\n      .appendField(\"MoveL --pq=\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[0]), \"END_PQ0\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[1]), \"END_PQ1\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[2]), \"END_PQ2\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[3]), \"END_PQ3\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[4]), \"END_PQ4\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[5]), \"END_PQ5\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[6]), \"END_PQ6\")\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"Move L\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['robotcontrol_movej'] = {\r\n  updateEndPQ: function(endPQ){\r\n    [0,1,2,3,4,5,6].forEach(i=>this.setFieldValue(endPQ[i].toFixed(6),`END_PQ${i}`))\r\n    if(this.workspace){\r\n      this.workspace.render()\r\n    }\r\n  },\r\n  isEndPQEmpty: function(){\r\n    return [0,1,2,3,4,5,6].filter(i=>this.getFieldValue(`END_PQ${i}`) === Infinity).length === 7\r\n  },\r\n  init: function() {\r\n    let endPQ = [Infinity,Infinity,Infinity,Infinity,Infinity,Infinity,Infinity]\r\n    if(this.workspace && this.workspace.endPQ){\r\n      endPQ = this.workspace.endPQ.map(e=>e.toFixed(3))\r\n    }\r\n    this.appendValueInput(\"END_PQ_INPUT\")\r\n      .setCheck(null)\r\n      .appendField(\"MoveJ --pq=\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[0]), \"END_PQ0\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[1]), \"END_PQ1\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[2]), \"END_PQ2\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[3]), \"END_PQ3\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[4]), \"END_PQ4\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[5]), \"END_PQ5\")\r\n      .appendField(new Blockly.FieldNumber(endPQ[6]), \"END_PQ6\")\r\n\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"Move J\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\n\r\n\r\nBlockly.Blocks['math_function'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(new Blockly.FieldDropdown([[\"sin\",\"SIN\"], [\"cos\",\"COS\"], [\"tan\",\"TAN\"], [\"cot\",\"COT\"], [\"asin\",\"ASIN\"], [\"atan\",\"ATAN\"], [\"atan2\",\"ATAN2\"], [\"acot\",\"ACOT\"], [\"abs\",\"ABS\"], [\"exp\",\"EXP\"], [\"sqrt\",\"SQRT\"]]), \"DROPDOWN1\")\r\n      .appendField(new Blockly.FieldTextInput(\"default\"), \"INPUT1\");\r\n    this.setInputsInline(true);\r\n    this.setOutput(true, null);\r\n    this.setColour(290);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['while'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"while\");\r\n    this.appendValueInput(\"value1\")\r\n      .setCheck(null);\r\n    this.setInputsInline(false);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['wait'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"wait\")\r\n      .appendField(new Blockly.FieldTextInput(\"0\"), \"NUM\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['pause'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"pause\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['wait_until'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"WaitUntil\");\r\n    this.appendValueInput(\"NAME\")\r\n      .setCheck(null);\r\n    this.setInputsInline(false);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(65);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['setdo'] = {\r\n  init: function(){\r\n    this.appendDummyInput()\r\n      .appendField(\"SetDO\")\r\n      .appendField(new Blockly.FieldTextInput(\"default\"), \"INPUT1\")\r\n      .appendField(new Blockly.FieldDropdown([[\"True\",\"TRUE\"], [\"False\",\"FALSE\"]]), \"DROPDOWN1\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(65);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\nBlockly.Blocks['movej'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"MoveJ\")\r\n      .appendField(new Blockly.FieldDropdown([[\"ToPoint\",\"TOPOINT\"]]), \"DROPDOWN1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN4\")\r\n      .appendField(\",\")\r\n      .appendField(\"[\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN5\")\r\n      .appendField(\"]\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  },\r\n};\r\n\r\nBlockly.Blocks['moveabsj'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"MoveabsJ\")\r\n      .appendField(new Blockly.FieldDropdown([[\"ToJointPos\",\"ToJointPos\"], [\"option\",\"OPTIONNAME\"], [\"option\",\"OPTIONNAME\"]]), \"DROPDOWN1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN4\")\r\n      .appendField(\",\")\r\n      .appendField(\"[\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN5\")\r\n      .appendField(\"]\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['movel'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"MoveL\")\r\n      .appendField(new Blockly.FieldDropdown([[\"ToPoint\",\"ToPoint\"]]), \"DROPDOWN1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN4\")\r\n      .appendField(\",\")\r\n      .appendField(\"[\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN5\")\r\n      .appendField(\"]\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['movec'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"MoveC\")\r\n      .appendField(new Blockly.FieldDropdown([[\"AuxPoint\",\"AuxPoint\"]]), \"DROPDOWN1\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([[\"ToPoint\",\"ToPoint\"]]), \"DROPDOWN2\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN3\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN4\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN5\")\r\n      .appendField(\",\")\r\n      .appendField(\"[\")\r\n      .appendField(new Blockly.FieldDropdown([['null','null']]), \"DROPDOWN6\")\r\n      .appendField(\"]\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(230);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\n\r\nBlockly.Blocks['else'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"else\");\r\n    this.setInputsInline(true);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['if'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"if\");\r\n    this.appendValueInput(\"input1\")\r\n      .setCheck(null);\r\n    this.setInputsInline(false);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['end_if'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"endif\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['end_while'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"endwhile\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['simple_arithmetic'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(new Blockly.FieldTextInput(\"value1\"), \"VALUE1\")\r\n      .appendField(new Blockly.FieldDropdown([[\"+\",\"sum\"], [\"-\",\"subtract\"], [\"*\",\"multiply\"], [\"/\",\"div\"]]), \"NAME\")\r\n      .appendField(new Blockly.FieldTextInput(\"value2\"), \"VALUE2\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(290);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['fcpressp'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n      .appendField(\"FCPressP\")\r\n      // .appendField(new Blockly.FieldTextInput(\"name\"), \"name\")\r\n      .appendField(\"=\")\r\n      .appendField(\"{\")\r\n      .appendField(new Blockly.FieldTextInput(\"p1\"), \"P1\")\r\n      .appendField(new Blockly.FieldTextInput(\"p2\"), \"P2\")\r\n      .appendField(new Blockly.FieldTextInput(\"p3\"), \"P3\")\r\n      .appendField(new Blockly.FieldTextInput(\"p4\"), \"P4\")\r\n      .appendField(new Blockly.FieldTextInput(\"p5\"), \"P5\")\r\n      .appendField(\",\")\r\n      .appendField(new Blockly.FieldTextInput(\"Force\"), \"FORCE\")\r\n      .appendField(new Blockly.FieldTextInput(\"Tool\"), \"TOOL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Wobj\"), \"WOBJ\")\r\n      .appendField(\"}\");\r\n    this.setColour(230);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\n\r\n\r\nBlockly.Blocks['fcpressl'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n    .appendField(\"FCPressL\")\r\n      // .appendField(new Blockly.FieldLabelSerializable(\"FCPressL\"), \"FCPressL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Force\"), \"FORCE\")\r\n      .appendField(new Blockly.FieldTextInput(\"Tool\"), \"TOOL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Wobj\"), \"WOBJ\")\r\n    this.setColour(230);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['fcpresss'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n    .appendField(\"FCPressS\")\r\n      // .appendField(new Blockly.FieldLabelSerializable(\"FCPressL\"), \"FCPressL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Force\"), \"FORCE\")\r\n      .appendField(new Blockly.FieldTextInput(\"Tool\"), \"TOOL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Wobj\"), \"WOBJ\")\r\n    this.setColour(230);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\nBlockly.Blocks['fcpresss'] = {\r\n  init: function() {\r\n    this.appendDummyInput()\r\n    .appendField(\"FCPressS\")\r\n      // .appendField(new Blockly.FieldLabelSerializable(\"FCPressL\"), \"FCPressL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Force\"), \"FORCE\")\r\n      .appendField(new Blockly.FieldTextInput(\"Tool\"), \"TOOL\")\r\n      .appendField(new Blockly.FieldTextInput(\"Wobj\"), \"WOBJ\")\r\n    this.setColour(230);\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  }\r\n};\r\n\r\n\r\nBlockly.Blocks['controls_if_self'] = {\r\n  init: function() {\r\n    this.appendValueInput(\"IF0\")\r\n      .setCheck(\"Boolean\")\r\n      .appendField(\"if\");\r\n    this.appendStatementInput(\"DO0\")\r\n      .setCheck(null)\r\n      .appendField(\"do\");\r\n    this.appendDummyInput()\r\n      .appendField(\"end_if\");\r\n    this.setPreviousStatement(true, null);\r\n    this.setNextStatement(true, null);\r\n    this.setColour(330);\r\n\r\n    this.setTooltip(\"\");\r\n    this.setHelpUrl(\"\");\r\n  },\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Blockly from \"blockly\"\r\n\r\n\r\nBlockly.Robot = new Blockly.Generator('Robot')\r\n\r\nBlockly.Robot.addReservedWords(\r\n  'Blockly,' +  // In case JS is evaled in the current window.\r\n  'Robot'\r\n)\r\n\r\n/**\r\n * Order of operation ENUMs.\r\n * https://developer.mozilla.org/en/Robot/Reference/Operators/Operator_Precedence\r\n */\r\nBlockly.Robot.ORDER_ATOMIC = 0;           // 0 \"\" ...\r\nBlockly.Robot.ORDER_NEW = 1.1;            // new\r\nBlockly.Robot.ORDER_MEMBER = 1.2;         // . []\r\nBlockly.Robot.ORDER_FUNCTION_CALL = 2;    // ()\r\nBlockly.Robot.ORDER_INCREMENT = 3;        // ++\r\nBlockly.Robot.ORDER_DECREMENT = 3;        // --\r\nBlockly.Robot.ORDER_BITWISE_NOT = 4.1;    // ~\r\nBlockly.Robot.ORDER_UNARY_PLUS = 4.2;     // +\r\nBlockly.Robot.ORDER_UNARY_NEGATION = 4.3; // -\r\nBlockly.Robot.ORDER_LOGICAL_NOT = 4.4;    // !\r\nBlockly.Robot.ORDER_TYPEOF = 4.5;         // typeof\r\nBlockly.Robot.ORDER_VOID = 4.6;           // void\r\nBlockly.Robot.ORDER_DELETE = 4.7;         // delete\r\nBlockly.Robot.ORDER_AWAIT = 4.8;          // await\r\nBlockly.Robot.ORDER_EXPONENTIATION = 5.0; // **\r\nBlockly.Robot.ORDER_MULTIPLICATION = 5.1; // *\r\nBlockly.Robot.ORDER_DIVISION = 5.2;       // /\r\nBlockly.Robot.ORDER_MODULUS = 5.3;        // %\r\nBlockly.Robot.ORDER_SUBTRACTION = 6.1;    // -\r\nBlockly.Robot.ORDER_ADDITION = 6.2;       // +\r\nBlockly.Robot.ORDER_BITWISE_SHIFT = 7;    // << >> >>>\r\nBlockly.Robot.ORDER_RELATIONAL = 8;       // < <= > >=\r\nBlockly.Robot.ORDER_IN = 8;               // in\r\nBlockly.Robot.ORDER_INSTANCEOF = 8;       // instanceof\r\nBlockly.Robot.ORDER_EQUALITY = 9;         // == != === !==\r\nBlockly.Robot.ORDER_BITWISE_AND = 10;     // &\r\nBlockly.Robot.ORDER_BITWISE_XOR = 11;     // ^\r\nBlockly.Robot.ORDER_BITWISE_OR = 12;      // |\r\nBlockly.Robot.ORDER_LOGICAL_AND = 13;     // &&\r\nBlockly.Robot.ORDER_LOGICAL_OR = 14;      // ||\r\nBlockly.Robot.ORDER_CONDITIONAL = 15;     // ?:\r\nBlockly.Robot.ORDER_ASSIGNMENT = 16;      // = += -= **= *= /= %= <<= >>= ...\r\nBlockly.Robot.ORDER_YIELD = 17;         // yield\r\nBlockly.Robot.ORDER_COMMA = 18;           // ,\r\nBlockly.Robot.ORDER_NONE = 99;            // (...)\r\n\r\n/**\r\n * List of outer-inner pairings that do NOT require parentheses.\r\n * @type {!Array.<!Array.<number>>}\r\n */\r\nBlockly.Robot.ORDER_OVERRIDES = [\r\n  // (foo()).bar -> foo().bar\r\n  // (foo())[0] -> foo()[0]\r\n  [Blockly.Robot.ORDER_FUNCTION_CALL, Blockly.Robot.ORDER_MEMBER],\r\n  // (foo())() -> foo()()\r\n  [Blockly.Robot.ORDER_FUNCTION_CALL, Blockly.Robot.ORDER_FUNCTION_CALL],\r\n  // (foo.bar).baz -> foo.bar.baz\r\n  // (foo.bar)[0] -> foo.bar[0]\r\n  // (foo[0]).bar -> foo[0].bar\r\n  // (foo[0])[1] -> foo[0][1]\r\n  [Blockly.Robot.ORDER_MEMBER, Blockly.Robot.ORDER_MEMBER],\r\n  // (foo.bar)() -> foo.bar()\r\n  // (foo[0])() -> foo[0]()\r\n  [Blockly.Robot.ORDER_MEMBER, Blockly.Robot.ORDER_FUNCTION_CALL],\r\n\r\n  // !(!foo) -> !!foo\r\n  [Blockly.Robot.ORDER_LOGICAL_NOT, Blockly.Robot.ORDER_LOGICAL_NOT],\r\n  // a * (b * c) -> a * b * c\r\n  [Blockly.Robot.ORDER_MULTIPLICATION, Blockly.Robot.ORDER_MULTIPLICATION],\r\n  // a + (b + c) -> a + b + c\r\n  [Blockly.Robot.ORDER_ADDITION, Blockly.Robot.ORDER_ADDITION],\r\n  // a && (b && c) -> a && b && c\r\n  [Blockly.Robot.ORDER_LOGICAL_AND, Blockly.Robot.ORDER_LOGICAL_AND],\r\n  // a || (b || c) -> a || b || c\r\n  [Blockly.Robot.ORDER_LOGICAL_OR, Blockly.Robot.ORDER_LOGICAL_OR]\r\n];\r\n\r\n/**\r\n * Initialise the database of letiable names.\r\n * @param {!Blockly.Workspace} workspace Workspace to generate code from.\r\n */\r\nBlockly.Robot.init = function(workspace) {\r\n  // Create a dictionary of definitions to be printed before the code.\r\n  Blockly.Robot.definitions_ = Object.create(null);\r\n  // Create a dictionary mapping desired function names in definitions_\r\n  // to actual function names (to avoid collisions with user functions).\r\n  Blockly.Robot.functionNames_ = Object.create(null);\r\n\r\n  if (!Blockly.Robot.letiableDB_) {\r\n    Blockly.Robot.letiableDB_ =\r\n      new Blockly.Names(Blockly.Robot.RESERVED_WORDS_);\r\n  } else {\r\n    Blockly.Robot.letiableDB_.reset();\r\n  }\r\n\r\n  Blockly.Robot.letiableDB_.setVariableMap(workspace.getVariableMap());\r\n\r\n  let deflets = [];\r\n  // Add developer letiables (not created or named by the user).\r\n  let devVarList = Blockly.Variables.allDeveloperVariables(workspace);\r\n  for (let i = 0; i < devVarList.length; i++) {\r\n    deflets.push(Blockly.Robot.letiableDB_.getName(devVarList[i],\r\n      Blockly.Names.DEVELOPER_VARIABLE_TYPE));\r\n  }\r\n\r\n  // Add user letiables, but only ones that are being used.\r\n  let letiables = Blockly.Variables.allUsedVarModels(workspace);\r\n  for (let i = 0; i < letiables.length; i++) {\r\n    deflets.push(Blockly.Robot.letiableDB_.getName(letiables[i].getId(),\r\n      Blockly.Variables.NAME_TYPE));\r\n  }\r\n\r\n  // Declare all of the letiables.\r\n  if (deflets.length) {\r\n    Blockly.Robot.definitions_['letiables'] =\r\n      'let ' + deflets.join(', ') + ';';\r\n  }\r\n};\r\n\r\n/**\r\n * Prepend the generated code with the letiable definitions.\r\n * @param {string} code Generated code.\r\n * @return {string} Completed code.\r\n */\r\nBlockly.Robot.finish = function(code) {\r\n  // Convert the definitions dictionary into a list.\r\n  let definitions = [];\r\n  for (let name in Blockly.Robot.definitions_) {\r\n    definitions.push(Blockly.Robot.definitions_[name]);\r\n  }\r\n  // Clean up temporary data.\r\n  delete Blockly.Robot.definitions_;\r\n  delete Blockly.Robot.functionNames_;\r\n  Blockly.Robot.letiableDB_.reset();\r\n  return definitions.join('\\n\\n') + '\\n\\n\\n' + code;\r\n};\r\n\r\n/**\r\n * Naked values are top-level blocks with outputs that aren't plugged into\r\n * anything.  A trailing semicolon is needed to make this legal.\r\n * @param {string} line Line of generated code.\r\n * @return {string} Legal line of code.\r\n */\r\nBlockly.Robot.scrubNakedValue = function(line) {\r\n  return line + ';\\n';\r\n};\r\n\r\n/**\r\n * Encode a string as a properly escaped Robot string, complete with\r\n * quotes.\r\n * @param {string} string Text to encode.\r\n * @return {string} Robot string.\r\n * @private\r\n */\r\nBlockly.Robot.quote_ = function(string) {\r\n  // Can't use goog.string.quote since Google's style guide recommends\r\n  // JS string literals use single quotes.\r\n  string = string.replace(/\\\\/g, '\\\\\\\\')\r\n    .replace(/\\n/g, '\\\\\\n')\r\n    .replace(/'/g, '\\\\\\'');\r\n  return '\\'' + string + '\\'';\r\n};\r\n\r\n/**\r\n * Common tasks for generating Robot from blocks.\r\n * Handles comments for the specified block and any connected value blocks.\r\n * Calls any statements following this block.\r\n * @param {!Blockly.Block} block The current block.\r\n * @param {string} code The Robot code created for this block.\r\n * @param {boolean=} opt_thisOnly True to generate code for only this statement.\r\n * @return {string} Robot code with comments and subsequent blocks added.\r\n * @private\r\n */\r\nBlockly.Robot.scrub_ = function(block, code, opt_thisOnly) {\r\n  let commentCode = '';\r\n  // Only collect comments for blocks that aren't inline.\r\n  if (!block.outputConnection || !block.outputConnection.targetConnection) {\r\n    // Collect comment for this block.\r\n    let comment = block.getCommentText();\r\n    comment = Blockly.utils.string.wrap(comment,\r\n      Blockly.Robot.COMMENT_WRAP - 3);\r\n    if (comment) {\r\n      if (block.getProcedureDef) {\r\n        // Use a comment block for function comments.\r\n        commentCode += '/**\\n' +\r\n          Blockly.Robot.prefixLines(comment + '\\n', ' * ') +\r\n          ' */\\n';\r\n      } else {\r\n        commentCode += Blockly.Robot.prefixLines(comment + '\\n', '// ');\r\n      }\r\n    }\r\n    // Collect comments for all value arguments.\r\n    // Don't collect comments for nested statements.\r\n    for (let i = 0; i < block.inputList.length; i++) {\r\n      if (block.inputList[i].type == Blockly.INPUT_VALUE) {\r\n        let childBlock = block.inputList[i].connection.targetBlock();\r\n        if (childBlock) {\r\n          let comment = Blockly.Robot.allNestedComments(childBlock);\r\n          if (comment) {\r\n            commentCode += Blockly.Robot.prefixLines(comment, '// ');\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  let nextBlock = block.nextConnection && block.nextConnection.targetBlock();\r\n  let nextCode = opt_thisOnly ? '' : Blockly.Robot.blockToCode(nextBlock);\r\n  return `${commentCode}${!!commentCode?'\\n':''}${code}${!!code?'\\n':''}${nextCode}`\r\n};\r\n\r\n/**\r\n * Gets a property and adjusts the value while taking into account indexing.\r\n * @param {!Blockly.Block} block The block.\r\n * @param {string} atId The property ID of the element to get.\r\n * @param {number=} opt_delta Value to add.\r\n * @param {boolean=} opt_negate Whether to negate the value.\r\n * @param {number=} opt_order The highest order acting on this value.\r\n * @return {string|number}\r\n */\r\nBlockly.Robot.getAdjusted = function(block, atId, opt_delta, opt_negate,\r\n                                          opt_order) {\r\n  let delta = opt_delta || 0;\r\n  let order = opt_order || Blockly.Robot.ORDER_NONE;\r\n  if (block.workspace.options.oneBasedIndex) {\r\n    delta--;\r\n  }\r\n  let defaultAtIndex = block.workspace.options.oneBasedIndex ? '1' : '0';\r\n  let at = ''\r\n  if (delta > 0) {\r\n    at = Blockly.Robot.valueToCode(block, atId,\r\n      Blockly.Robot.ORDER_ADDITION) || defaultAtIndex;\r\n  } else if (delta < 0) {\r\n    at = Blockly.Robot.valueToCode(block, atId,\r\n      Blockly.Robot.ORDER_SUBTRACTION) || defaultAtIndex;\r\n  } else if (opt_negate) {\r\n    at = Blockly.Robot.valueToCode(block, atId,\r\n      Blockly.Robot.ORDER_UNARY_NEGATION) || defaultAtIndex;\r\n  } else {\r\n    at = Blockly.Robot.valueToCode(block, atId, order) ||\r\n      defaultAtIndex;\r\n  }\r\n\r\n  if (Blockly.isNumber(at)) {\r\n    // If the index is a naked number, adjust it right now.\r\n    at = parseFloat(at) + delta;\r\n    if (opt_negate) {\r\n      at = -at;\r\n    }\r\n  } else {\r\n    // If the index is dynamic, adjust it in code.\r\n    let innerOrder = null\r\n    if (delta > 0) {\r\n      at = at + ' + ' + delta;\r\n      innerOrder = Blockly.Robot.ORDER_ADDITION;\r\n    } else if (delta < 0) {\r\n      at = at + ' - ' + -delta;\r\n      innerOrder = Blockly.Robot.ORDER_SUBTRACTION;\r\n    }\r\n    if (opt_negate) {\r\n      if (delta) {\r\n        at = '-(' + at + ')';\r\n      } else {\r\n        at = '-' + at;\r\n      }\r\n      innerOrder = Blockly.Robot.ORDER_UNARY_NEGATION;\r\n    }\r\n    innerOrder = Math.floor(innerOrder);\r\n    order = Math.floor(order);\r\n    if (innerOrder && order >= innerOrder) {\r\n      at = '(' + at + ')';\r\n    }\r\n  }\r\n  return at;\r\n};\r\n\r\n\r\n","import Blockly from \"blockly\"\r\n\r\nBlockly.Robot['robotcontrol_movejr'] = function(block) {\r\n  let dropdown_m_select = block.getFieldValue('M_SELECT');\r\n  let angle_jointangle = block.getFieldValue('JOINT_ANGLE');\r\n  let dropdown_dir = block.getFieldValue('DIR');\r\n  let cmd_str=\"moveJR -m=\"+dropdown_m_select+\" --pos=\"+angle_jointangle/180*3.14*dropdown_dir;\r\n  return `${block.id}${cmd_str}`;\r\n};\r\n\r\nBlockly.Robot['robotcontrol_movel'] = function(block) {\r\n  const endPQ = [0,1,2,3,4,5,6].map(i=>block.getFieldValue(`END_PQ${i}`)).join(',')\r\n  return `${block.id}mvl --pq={${endPQ}}`;\r\n};\r\n\r\n\r\nBlockly.Robot['robotcontrol_movej'] = function(block) {\r\n  const endPQ = [0,1,2,3,4,5,6].map(i=>block.getFieldValue(`END_PQ${i}`)).join(',')\r\n  return `${block.id}mvj --pq={${endPQ}}`;\r\n};\r\n\r\nBlockly.Robot['fcpressp'] = function(block) {\r\n  // let text_name = block.getFieldValue('name');\r\n  let text_p1 = block.getFieldValue('P1');\r\n  let text_p2 = block.getFieldValue('P2');\r\n  let text_p3 = block.getFieldValue('P3');\r\n  let text_p4 = block.getFieldValue('P4');\r\n  let text_p5 = block.getFieldValue('P5');\r\n  let Force = block.getFieldValue('FORCE');\r\n  let Tool = block.getFieldValue('TOOL');\r\n  let Wobj = block.getFieldValue('WOBJ');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = `FCPressP`;\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['fcpressl'] = function(block) {\r\n  let Force = block.getFieldValue('FORCE');\r\n  let Tool = block.getFieldValue('TOOL');\r\n  let Wobj = block.getFieldValue('WOBJ');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = `FCPressL`;\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['fcpresss'] = function(block) {\r\n  let Force = block.getFieldValue('FORCE');\r\n  let Tool = block.getFieldValue('TOOL');\r\n  let Wobj = block.getFieldValue('WOBJ');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = `FCPressS`;\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['math_function'] = function(block) {\r\n  let dropdown_dropdown1 = block.getFieldValue('DROPDOWN1');\r\n  let text_input1 = block.getFieldValue('INPUT1');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...';\r\n  // TODO: Change ORDER_NONE to the correct strength.\r\n  return [code, Blockly.JavaScript.ORDER_NONE];\r\n};\r\n\r\nBlockly.Robot['while'] = function(block) {\r\n  let value_value1 = Blockly.JavaScript.valueToCode(block, 'VALUE1', Blockly.JavaScript.ORDER_ATOMIC);\r\n  let code = 'while';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['wait'] = function(block) {\r\n  let text_num = block.getFieldValue('NUM');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = 'wait';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['pause'] = function(block) {\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = 'pause';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['wait_until'] = function(block) {\r\n  let value_name = Blockly.JavaScript.valueToCode(block, 'NAME', Blockly.JavaScript.ORDER_ATOMIC);\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = 'wait_until';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['setdo'] = function(block) {\r\n  let text_input1 = block.getFieldValue('INPUT1');\r\n  let dropdown_dropdown1 = block.getFieldValue('DROPDOWN1');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['movej'] = function(block) {\r\n  let dropdown_drowndown1 = block.getFieldValue('DROPDOWN1');\r\n  let dropdown_drowndown2 = block.getFieldValue('DROPDOWN2');\r\n  let dropdown_drowndown3 = block.getFieldValue('DROPDOWN3');\r\n  let dropdown_drowndown4 = block.getFieldValue('DROPDOWN4');\r\n  let dropdown_drowndown5 = block.getFieldValue('DROPDOWN5');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['moveabsj'] = function(block) {\r\n  let dropdown_dropdown1 = block.getFieldValue('DROPDOWN1');\r\n  let dropdown_dropdown2 = block.getFieldValue('DROPDOWN2');\r\n  let dropdown_dropdown3 = block.getFieldValue('DROPDOWN3');\r\n  let dropdown_dropdown4 = block.getFieldValue('DROPDOWN4');\r\n  let dropdown_dropdown5 = block.getFieldValue('DROPDOWN5');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['movel'] = function(block) {\r\n  let dropdown_dropdown1 = block.getFieldValue('DROPDOWN1');\r\n  let dropdown_dropdown2 = block.getFieldValue('DROPDOWN2');\r\n  let dropdown_dropdown3 = block.getFieldValue('DROPDOWN3');\r\n  let dropdown_dropdown4 = block.getFieldValue('DROPDOWN4');\r\n  let dropdown_dropdown5 = block.getFieldValue('DROPDOWN5');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['else'] = function(block) {\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['if'] = function(block) {\r\n  let value_input1 = Blockly.JavaScript.valueToCode(block, 'INPUT1', Blockly.JavaScript.ORDER_ATOMIC);\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['end_if'] = function(block) {\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['end_while'] = function(block) {\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['simple_arithmetic'] = function(block) {\r\n  let text_value1 = block.getFieldValue('VALUE1');\r\n  let dropdown_name = block.getFieldValue('NAME');\r\n  let text_value2 = block.getFieldValue('VALUE2');\r\n  // TODO: Assemble JavaScript into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Blockly from \"blockly\"\r\n\r\nBlockly.Robot['base_variate'] = function(block) {\r\n  let dropdown_dropdown1 = block.getFieldValue('DROPDOWN1');\r\n  if(dropdown_dropdown1 == 'array'){\r\n    let text_input1 = block.getFieldValue('INPUT1');\r\n    let text_input2 = block.getFieldValue('INPUT2');\r\n    let text_result = block.getFieldValue('RESULT');\r\n    // TODO: Assemble Robot into code variable.\r\n    let code = 'VAR ' + dropdown_dropdown1 + ' ' + text_input1 + ' ' + text_input2 + '=' +  text_result + '\\n';\r\n    return `${block.id}${code}`;\r\n  }\r\n  let text_input1 = block.getFieldValue('INPUT1');\r\n  let text_result = block.getFieldValue('RESULT');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR ' + dropdown_dropdown1 +' '+ text_input1 + '=' + text_result + '\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['load_variate'] = function(block) {\r\n  let text_variable = block.getFieldValue('VARIABLE');\r\n  let text_mass = block.getFieldValue('MASS');\r\n  let text_cogx = block.getFieldValue('COGX');\r\n  let text_cogy = block.getFieldValue('COGY');\r\n  let text_cogz = block.getFieldValue('COGZ');\r\n  let text_q1 = block.getFieldValue('Q1');\r\n  let text_q2 = block.getFieldValue('Q2');\r\n  let text_q3 = block.getFieldValue('Q3');\r\n  let text_q4 = block.getFieldValue('Q4');\r\n  let text_ix = block.getFieldValue('IX');\r\n  let text_iy = block.getFieldValue('IY');\r\n  let text_iz = block.getFieldValue('IZ');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR load ' + text_variable + '=' + '{' + text_mass + ',{' + text_cogx + ',' + text_cogy + ',' + text_cogz + '},{'\r\n    + text_q1 + ',' + text_q2 + ',' + text_q3 + ',' + text_q4 + '},{' + text_ix + ',' + text_iy + ',' + text_iz + '\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['pose_variate'] = function(block) {\r\n  let text_pose1 = block.getFieldValue('POSE1');\r\n  let text_x = block.getFieldValue('X');\r\n  let text_y = block.getFieldValue('Y');\r\n  let text_z = block.getFieldValue('Z');\r\n  let text_q1 = block.getFieldValue('Q1');\r\n  let text_q2 = block.getFieldValue('Q2');\r\n  let text_q3 = block.getFieldValue('Q3');\r\n  let text_q4 = block.getFieldValue('Q4');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR pose ' + text_pose1 + '=' + '{{' + text_x + ',' + text_y\r\n    + ',' + text_z + '},{'+ text_q1 + ',' + text_q2 + ',' + text_q3 + ',' + text_q4 + '}}' + ';\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['jointtarget_variate'] = function(block) {\r\n  let text_home = block.getFieldValue('HOME');\r\n  let text_j1 = block.getFieldValue('J1');\r\n  let text_j2 = block.getFieldValue('J2');\r\n  let text_j3 = block.getFieldValue('J3');\r\n  let text_j4 = block.getFieldValue('J4');\r\n  let text_j5 = block.getFieldValue('J5');\r\n  let text_j6 = block.getFieldValue('J6');\r\n  let text_ej = block.getFieldValue('EJ');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR jointtarget ' + text_home + '={{' + text_j1 + ',' + text_j2 +',' + text_j3 +',' + text_j4 +','\r\n    + 'text_j5' + ',' + text_j5 + ',' + text_j6 + '}{' + text_ej + '}}' + ';\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['robtarget_variate'] = function(block) {\r\n  let text_input1 = block.getFieldValue('INPUT1');\r\n  let text_x = block.getFieldValue('X');\r\n  let text_y = block.getFieldValue('Y');\r\n  let text_z = block.getFieldValue('Z');\r\n  let text_q1 = block.getFieldValue('Q1');\r\n  let text_q2 = block.getFieldValue('Q2');\r\n  let text_q3 = block.getFieldValue('Q3');\r\n  let text_q4 = block.getFieldValue('Q4');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR robtarget ' + text_input1 + '={{' + text_x + ',' + text_y + ','\r\n    +  text_z + '},{' + text_q1 + ',' + text_q2 + ',' + text_q3 + ',' + text_q4 + '}}' + ';\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['speed_variate'] = function(block) {\r\n  let text_v1 = block.getFieldValue('V1');\r\n  let text_ter = block.getFieldValue('TER');\r\n  let text_tcp = block.getFieldValue('TCP');\r\n  let text_ori = block.getFieldValue('ORI');\r\n  let text_exj_r = block.getFieldValue('EXJ_R');\r\n  let text_exj_l = block.getFieldValue('EXJ_L');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR speed ' + text_v1 + '={' + text_ter + ',' + text_tcp + ',' + text_ori + ',' + text_exj_r + ',' + text_exj_l + '}' + '\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['zone_variate'] = function(block) {\r\n  let text_input1 = block.getFieldValue('INPUT1');\r\n  let text_dis = block.getFieldValue('DIS');\r\n  let text_per = block.getFieldValue('PER');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR zone ' + text_input1 + '={' + text_dis + ',' + text_per + '}' + ';\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['tool_variate'] = function(block) {\r\n  let text_input1 = block.getFieldValue('INPUT1');\r\n  let dropdown_choose = block.getFieldValue('CHOOSE');\r\n  let text_x = block.getFieldValue('X');\r\n  let text_y = block.getFieldValue('Y');\r\n  let text_z = block.getFieldValue('Z');\r\n  let text_a1 = block.getFieldValue('A1');\r\n  let text_a2 = block.getFieldValue('A2');\r\n  let text_a3 = block.getFieldValue('A3');\r\n  let text_a4 = block.getFieldValue('A4');\r\n  let text_mass = block.getFieldValue('MASS');\r\n  let text_congx = block.getFieldValue('COGX');\r\n  let text_xongy = block.getFieldValue('COGY');\r\n  let text_congz = block.getFieldValue('COGZ');\r\n  let text_q1 = block.getFieldValue('Q1');\r\n  let text_q2 = block.getFieldValue('Q2');\r\n  let text_q3 = block.getFieldValue('Q3');\r\n  let text_q4 = block.getFieldValue('Q4');\r\n  let text_ix = block.getFieldValue('IX');\r\n  let text_iy = block.getFieldValue('IY');\r\n  let text_iz = block.getFieldValue('IZ');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = 'VAR tool ' + '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n\r\nBlockly.Robot['wobj_variate'] = function(block) {\r\n  let text_value = block.getFieldValue('VALUE');\r\n  let dropdown_dropdown1 = block.getFieldValue('DROPDOWN1');\r\n  let dropdown_dropdown2 = block.getFieldValue('DROPDOWN2');\r\n  let text_name_string = block.getFieldValue('NAME_STRING');\r\n  let text_x = block.getFieldValue('X');\r\n  let text_y = block.getFieldValue('Y');\r\n  let text_z = block.getFieldValue('Z');\r\n  let text_q1 = block.getFieldValue('Q1');\r\n  let text_q2 = block.getFieldValue('Q2');\r\n  let text_q3 = block.getFieldValue('Q3');\r\n  let text_q4 = block.getFieldValue('Q4');\r\n  let text_id = block.getFieldValue('ID');\r\n  // TODO: Assemble Robot into code variable.\r\n  let code = '...;\\n';\r\n  return `${block.id}${code}`;\r\n};\r\n","export const VARIABLES_TOOLBOX_CATEGORIES = \r\n[{\r\n      name: '基本指令',\r\n      blocks:[{\r\n        type: \"base_variate\",\r\n        fields: {\r\n          NAME: 'VAR',\r\n          DROPDOWN1: 'int',\r\n          INPUT1: 'p1',\r\n          RESULT: 'result',\r\n        }\r\n      }\r\n    ]\r\n},\r\n{\r\n  name: '结构体变量',\r\n  blocks:[{\r\n    type: 'load_variate',\r\n    fields:{\r\n      VARIABLE:'piece1',\r\n      MASS: 'mass',\r\n      COGX: 'cogx',\r\n      COGY: 'cogy',\r\n      COGZ: 'cogz',\r\n      Q1: 'q1',\r\n      Q2: 'q2',\r\n      Q3: 'q3',\r\n      Q4: 'q4',\r\n      IX: 'ix',\r\n      IY: 'iy',\r\n      IZ: 'iz'\r\n    }\r\n  },{\r\n    type: 'pose_variate',\r\n    fields: {\r\n      pose1: 'pose1',\r\n      X: 'x',\r\n      Y: 'y',\r\n      Z: 'z',\r\n      Q1: 'q1',\r\n      Q2: 'q2',\r\n      Q3: 'q3',\r\n      Q4: 'q4',\r\n    }\r\n  },{\r\n    type: 'jointtarget_variate',\r\n    fields:{\r\n      HOME: 'home',\r\n      J1:'J1',\r\n      J2: 'J2',\r\n      J3: 'J3',\r\n      J4: 'J4',\r\n      J5: 'J5',\r\n      J6: 'J6',\r\n      EJ: 'EJ',\r\n    }\r\n  },{\r\n    type: 'robtarget_variate', \r\n    fields:{\r\n    INPUT1: 'input1',\r\n    X: 'x',\r\n    Y: 'y',\r\n    Z: 'z',\r\n    Q1: 'q1',\r\n    Q2: 'q2',\r\n    Q3: 'q3',\r\n    Q4: 'q4',\r\n    }\r\n  },{\r\n    type: 'speed_variate',\r\n    fields:{\r\n      V1: 'v1',\r\n      TER: 'ter',\r\n      TCP: 'tcp',\r\n      ORI: 'ori',\r\n      EXJ_R: 'exj_r',\r\n      EXJ_L: 'exj_l' \r\n    }\r\n  },{\r\n    type: 'zone_variate',\r\n    fields:{\r\n      INPUT1: 'z100',\r\n      DIS: 'dis',\r\n      PER: 'per' \r\n    }\r\n  },{\r\n    type: 'tool_variate',\r\n    fields: {\r\n      INPUT1: 'tool2',\r\n      CHOOSE: 'true',\r\n      X: 'x',\r\n      Y: 'y',\r\n      Z: 'z',\r\n      A1: 'q1',\r\n      A2: 'q2',\r\n      A3: 'q3',\r\n      A4: 'q4',\r\n      MASS: 'mass',\r\n      COGX: 'cogx',\r\n      COGY: 'cogy',\r\n      COGZ: 'cogz',\r\n      Q1: 'q1',\r\n      Q2: 'q2',\r\n      Q3: 'q3',\r\n      Q4: 'q4',\r\n      IX: 'ix',\r\n      IY: 'iy',\r\n      IZ: 'iz'\r\n    }\r\n  },{\r\n    type: 'wobj_variate',\r\n    fields:{\r\n      VALUE: 'wobj2',\r\n      DROPDOWN1: 'FALSE',\r\n      DROPDOWN2: 'TRUE',\r\n      NAME_STRING: 'robot',\r\n      X: 'x',\r\n      Y: 'y',\r\n      Z: 'z',\r\n      Q1: 'q1',\r\n      Q2: 'q2',\r\n      Q3: 'q3',\r\n      Q4: 'q4',\r\n      ID: 'id'\r\n    }\r\n  }\r\n]\r\n},\r\n]\r\nexport const PROGRAM_TOOLBOX_CATEGORIES = \r\n[{\r\n    name: '数学指令',\r\n      blocks: [\r\n        {\r\n          type: 'math_function',\r\n          fields: {\r\n            FROPDOWN1: 'sin',\r\n            INPUT1: 'default'\r\n          }\r\n        }, {\r\n          type: \"simple_arithmetic\",\r\n          fields: {\r\n            VALUE1: \"value1\",\r\n            NAME: \"sum\",\r\n            VALUE2: \"value2\",\r\n          }\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      name: '逻辑指令',\r\n      blocks: [\r\n        { type: 'controls_if_self' },\r\n        { type: 'while' },\r\n        { type: 'end_while' },\r\n        { type: 'wait', fields: {NUM: 0} },\r\n      ]\r\n    },{\r\n      name: \"IO指令\",\r\n      blocks: [\r\n        {\r\n          type: 'wait_until'\r\n        },{\r\n            type: 'setdo',\r\n            fields:{\r\n              INPUT1: 'default',\r\n              DROPDOWN1: 'True'\r\n            }\r\n          }\r\n      ]\r\n    }, {\r\n    name: \"运动指令\",\r\n    blocks: [\r\n    {\r\n      type: 'moveabsj',\r\n      fields:{\r\n        DROPDOWN1: 'ToJointPos',\r\n        DROPDOWN2: 'Speed',\r\n        DROPDOWN3: 'Zone',\r\n        DROPDOWN4: 'Tool',\r\n        DROPDOWN5: 'Wobj'\r\n      }\r\n    },\r\n    {\r\n      type: 'movec',\r\n      fields:{\r\n        DROPDOWN1: 'AuxPoint',\r\n        DROPDOWN2: 'ToPoint',\r\n        DROPDOWN3: 'Speed',\r\n        DROPDOWN4: 'Zone',\r\n        DROPDOWN5: 'Tool',\r\n        DROPDOWN6: 'Wobj'\r\n      }\r\n    },\r\n    {\r\n      type: \"robotcontrol_movel\",\r\n      fields: {\r\n        \r\n      }\r\n    },{\r\n      type: \"robotcontrol_movej\",\r\n      fields: {\r\n        \r\n      }\r\n    },\r\n  ]\r\n  },{\r\n    name: '力控指令',\r\n    blocks:[{\r\n      type: 'fcpressp' ,\r\n      fields:{\r\n        NAME: 'name',\r\n        P1: 'p1',\r\n        P2: 'p2',\r\n        P3: 'p3',\r\n        P4: 'p4',\r\n        P5: 'p5',\r\n        DROPDOWN1: 'Force',\r\n        DROPDOWN2: 'Tool',\r\n        DROPDOWN5: 'Wobj'\r\n      }\r\n    },{\r\n      type: 'fcpressl',\r\n      fields:{\r\n        FCPressL: 'FCPressL',\r\n        NAME: 'name',\r\n        DROPDOWN1: 'Force',\r\n        DROPDOWN2: 'Tool',\r\n        DROPDOWN3: 'Wobj'\r\n      }\r\n    },\r\n    {\r\n      type: 'fcpresss',\r\n      fields:{\r\n        FCPressS: 'FCPressS',\r\n        NAME: 'name',\r\n        DROPDOWN1: 'Force',\r\n        DROPDOWN2: 'Tool',\r\n        DROPDOWN3: 'Wobj'\r\n      }\r\n    }\r\n  ]\r\n  }]\r\n\r\n\r\n\r\nconst ConfigFiles = {\r\n  VARIABLES_TOOLBOX_CATEGORIES,\r\n  PROGRAM_TOOLBOX_CATEGORIES,\r\n};\r\n\r\nexport default ConfigFiles;\r\n","import React, {Component, Fragment} from 'react'\r\nimport PropTypes from \"prop-types\"\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport CellBase from \"../CellBase\"\r\nimport Button from \"antd/lib/button\"\r\nimport Icon from \"antd/lib/icon\"\r\nimport Tooltip from \"antd/lib/tooltip\"\r\nimport {\r\n  getCurrentPlan,\r\n  getCurrentPlanId,\r\n  getResultByCell,\r\n  getEndPQ\r\n} from \"../../../selectors\"\r\nimport {\r\n  deleteResultByChannel,\r\n  loadPrograms,\r\n  loadProgram,\r\n  createProgram,\r\n  deleteProgram,\r\n  updateProgram,\r\n  renameProgram,\r\n  sendCmd\r\n} from \"../../../actions\"\r\nimport ReactBlocklyComponent from \"react-blockly\"\r\n// import parseWorkspaceXml from \"react-blockly/dist-modules/BlocklyHelper.js\"\r\n\r\nimport Blockly from 'blockly'\r\nimport { Resizable, ResizableBox } from 'react-resizable';\r\nimport {VARIABLES_TOOLBOX_CATEGORIES, PROGRAM_TOOLBOX_CATEGORIES} from \"./initContent\"\r\nimport \"./blocks/index\"\r\nimport \"./generators/index\"\r\nimport { withSize } from 'react-sizeme'\r\n\r\nclass Editors extends Component {\r\n  state = {\r\n    variablesToolboxCategories: VARIABLES_TOOLBOX_CATEGORIES,\r\n    programToolboxCategories: PROGRAM_TOOLBOX_CATEGORIES,\r\n    looping: false,\r\n  }\r\n  rowIdMap = {}\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if(prevProps.size.width !== this.props.size.width || prevProps.size.height !== this.props.size.height){\r\n      const self = this\r\n      clearTimeout(self.timer)\r\n      self.timer = setTimeout(()=>{\r\n        if(self.programWorkspace){\r\n          Blockly.svgResize(self.programWorkspace)\r\n        }\r\n        if(self.variablesWorkspace){\r\n          Blockly.svgResize(self.variablesWorkspace)\r\n        }\r\n      }, 50)\r\n    }\r\n    if(prevProps.currentPlanId !== this.props.currentPlanId){\r\n      if(this.rowIdMap[this.props.currentPlanId] && this.programWorkspace){\r\n        this.programWorkspace.highlightBlock(this.rowIdMap[this.props.currentPlanId], true)\r\n      }\r\n      if(this.rowIdMap[prevProps.currentPlanId] && this.programWorkspace){\r\n        this.programWorkspace.highlightBlock(this.rowIdMap[prevProps.currentPlanId], false)\r\n      }\r\n      if(this.props.currentPlanId>Object.keys(this.rowIdMap).length && this.state.looping){\r\n        this.tryStart()\r\n      }\r\n    }\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    if(nextProps.endPQ !== this.props.endPQ){\r\n      if(this.programWorkspace && nextProps.endPQ){\r\n        this.programWorkspace.endPQ = nextProps.endPQ\r\n        this.programWorkspace.getAllBlocks().forEach(block=> {\r\n          if(block.updateEndPQ && block.isEndPQEmpty && block.isEndPQEmpty()){\r\n            block.updateEndPQ(nextProps.endPQ)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  debug = () => {\r\n    const {sendCmd, cell, currentPlanId} = this.props\r\n    const isRunning = currentPlanId <= Object.keys(this.rowIdMap).length && currentPlanId > 0\r\n    if(!isRunning){\r\n      this.setState({\r\n        running: false,\r\n        debugging: true,\r\n        looping: false,\r\n      })\r\n      this.rowIdMap = {}\r\n      let cmds = []\r\n      if(this.variablesWorkspace){\r\n        let code = Blockly.Robot.workspaceToCode(this.variablesWorkspace);\r\n        if(code && code.trim() !== ''){\r\n          code.split('\\n').forEach(l=>{\r\n            if(l.slice(0,20).trim() !== ''){\r\n              cmds.push(`${cmds.length+1}:${l.slice(20)}\\\\r\\\\n `)\r\n              this.rowIdMap[cmds.length] = l.slice(0,20)\r\n            }\r\n          })\r\n        }\r\n      }\r\n      if(this.programWorkspace){\r\n        let code = Blockly.Robot.workspaceToCode(this.programWorkspace);\r\n        if(code && code.trim() !== ''){\r\n          code.split('\\n').forEach(l=>{\r\n            if(l.slice(0,20).trim() !== ''){\r\n              cmds.push(`${cmds.length+1}:${l.slice(20)}\\\\r\\\\n `)\r\n              this.rowIdMap[cmds.length] = l.slice(0,20)\r\n            }\r\n          })\r\n        }\r\n      }\r\n      if(cmds.length>0){\r\n        sendCmd(`collectcmd --cmdlist={${cmds.join('').trim()}}`, cell.i)\r\n        sendCmd(`run --forward`, cell.i)\r\n      }\r\n    }else{\r\n      if(this.state.debugging && isRunning){\r\n        sendCmd(`run --forward`, cell.i)\r\n      }\r\n    }\r\n  }\r\n\r\n  tryStart = () => {\r\n    const {sendCmd, cell, currentPlanId} = this.props\r\n    const isRunning = currentPlanId <= Object.keys(this.rowIdMap).length && currentPlanId > 0\r\n    if(isRunning){\r\n      return\r\n    }\r\n    const cmds = []\r\n    this.rowIdMap = {}\r\n    if(this.variablesWorkspace){\r\n      let code = Blockly.Robot.workspaceToCode(this.variablesWorkspace);\r\n      if(code && code.trim() !== ''){\r\n        code.split('\\n').forEach(l=>{\r\n          if(l.slice(0,20).trim() !== ''){\r\n            cmds.push(`${cmds.length+1}:${l.slice(20)}\\\\r\\\\n `)\r\n            this.rowIdMap[cmds.length] = l.slice(0,20)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    if(this.programWorkspace){\r\n      let code = Blockly.Robot.workspaceToCode(this.programWorkspace);\r\n      if(code && code.trim() !== ''){\r\n        code.split('\\n').forEach(l=>{\r\n          if(l.slice(0,20).trim() !== ''){\r\n            cmds.push(`${cmds.length+1}:${l.slice(20)}\\\\r\\\\n `)\r\n            this.rowIdMap[cmds.length] = l.slice(0,20)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    if(cmds.length>0){\r\n      sendCmd(`collectcmd --cmdlist={${cmds.join('').trim()}}`, cell.i)\r\n      sendCmd(`run --start`, cell.i)\r\n    }\r\n  }\r\n  tryStop = () => {\r\n    const {cell, currentPlanId,sendCmd} = this.props\r\n    const isRunning = currentPlanId <= Object.keys(this.rowIdMap).length && currentPlanId > 0\r\n    if(isRunning) {\r\n      sendCmd(`run --stop`, cell.i)\r\n    }\r\n  }\r\n\r\n  loop = () => {\r\n    const {sendCmd, cell, currentPlanId} = this.props\r\n    let isRunning = currentPlanId <= Object.keys(this.rowIdMap).length && currentPlanId > 0\r\n    if(!this.state.looping){\r\n      this.setState({\r\n        looping: true,\r\n        running: false,\r\n        debugging: false,\r\n      })\r\n      this.tryStart()\r\n    }else{\r\n      if(this.state.looping){\r\n        this.setState({\r\n          looping: false,\r\n        })\r\n        this.tryStop()\r\n      }\r\n    }\r\n  }\r\n\r\n  run = () => {\r\n    if(!this.state.running){\r\n      this.setState({\r\n        running: true,\r\n        debugging: false,\r\n        looping: false,\r\n      })\r\n      this.tryStart()\r\n    }else{\r\n      if(this.state.running){\r\n        this.setState({\r\n          running: false,\r\n        })\r\n        this.tryStop()\r\n      }\r\n    }\r\n  }\r\n\r\n  variablesWorkspaceDidChange = (workspace) => {\r\n    // console.log(Blockly.Robot.workspaceToCode(workspace))\r\n    let {program} = this.props\r\n    const newXml = Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(workspace));\r\n    if(!!program) {\r\n      let newProgram = {...program}\r\n      newProgram.files = [...newProgram.files]\r\n      newProgram.files.forEach((f, index)=>{\r\n        if(f.name === program.name+'.dat'){\r\n          newProgram.files[index] = {...f, content: newXml}\r\n        }\r\n      })\r\n      this.props.updateProgram(program.name, newProgram)\r\n    }\r\n  }\r\n  programWorkspaceDidChange = (workspace) => {\r\n    console.log(Blockly.Robot.workspaceToCode(workspace))\r\n    let {program} = this.props\r\n    const newXml = Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(workspace));\r\n    if(!!program) {\r\n      let newProgram = {...program}\r\n      newProgram.files = [...newProgram.files]\r\n      newProgram.files.forEach((f, index)=>{\r\n        if(f.name === program.name+'.pro'){\r\n          newProgram.files[index] = {...f, content: newXml}\r\n        }\r\n      })\r\n      this.props.updateProgram(program.name, newProgram)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const self = this\r\n    const {\r\n      prefixCls,\r\n      size: {width, height},\r\n      program,\r\n      options,\r\n      currentPlanId,\r\n    } = self.props\r\n    const {\r\n      running,\r\n      debugging,\r\n      looping,\r\n    } = this.state\r\n    let isRunning = currentPlanId <= Object.keys(this.rowIdMap).length && currentPlanId > 0\r\n    let proXml = ''\r\n    let datXml = ''\r\n    if(program && program.files) {\r\n      program.files.forEach(f=>{\r\n        if(f.name === program.name+'.dat'){\r\n          datXml = f.content\r\n        }\r\n        if(f.name === program.name+'.pro'){\r\n          proXml = f.content\r\n        }\r\n      })\r\n    }\r\n    let variablesHeight = !!options.variablesHeight?parseFloat(options.variablesHeight):200\r\n    if (variablesHeight <= 50) {\r\n      variablesHeight = 50;\r\n    }\r\n    let dividerHeight = 5\r\n    let programHeight = height - variablesHeight - dividerHeight\r\n    return <Fragment>\r\n      <div className={`${prefixCls}-editors`}>\r\n        {\r\n          !!datXml && !options.hideVariablesWorkspace &&\r\n          <ResizableBox\r\n            width={width}\r\n            height={variablesHeight}\r\n            minConstraints={[width, 100]}\r\n            maxConstraints={[width, height-30-100]}\r\n            className={`${prefixCls}-editors-variables`}\r\n            axis={'y'}\r\n            handle={<div className={`${prefixCls}-divider`}></div>}\r\n            onResize={(e, {size:{height,width}})=>{\r\n              self.props.updateOptions({\r\n                ...options, variablesHeight:height\r\n              })\r\n              if(self.programWorkspace){\r\n                Blockly.svgResize(self.programWorkspace)\r\n              }\r\n              if(self.variablesWorkspace){\r\n                Blockly.svgResize(self.variablesWorkspace)\r\n              }\r\n            }}\r\n          >\r\n            <ReactBlocklyComponent.BlocklyEditor\r\n              ref={(ref) => {\r\n                // this.variableEditor = ref\r\n                if(ref && ref.workspace && ref.workspace.state) {\r\n                  this.variablesWorkspace = ref.workspace.state.workspace\r\n                }\r\n              }}\r\n              toolboxCategories={this.state.variablesToolboxCategories}\r\n              initialXml={datXml}\r\n              workspaceConfiguration={{\r\n                grid: {\r\n                  spacing: 20,\r\n                  length: 3,\r\n                  colour: '#ccc',\r\n                  snap: true,\r\n                },\r\n              }}\r\n              wrapperDivClassName={`${prefixCls}-full-height`}\r\n              workspaceDidChange={this.variablesWorkspaceDidChange}\r\n            />\r\n          </ResizableBox>\r\n        }\r\n        {\r\n          !!proXml && <div\r\n            className={`${prefixCls}-editors-program ${options.hideVariablesWorkspace?`${prefixCls}-editors-program-full-height`:''}`}\r\n            style={{height:programHeight}}\r\n          >\r\n            <ReactBlocklyComponent.BlocklyEditor\r\n              ref={(ref) => {\r\n                // this.programEditor = ref\r\n                if(ref && ref.workspace && ref.workspace.state) {\r\n                  this.programWorkspace = ref.workspace.state.workspace\r\n                }\r\n              }}\r\n              toolboxCategories={this.state.programToolboxCategories}\r\n              initialXml={proXml}\r\n              workspaceConfiguration={{\r\n                grid: {\r\n                  spacing: 20,\r\n                  length: 3,\r\n                  colour: '#ccc',\r\n                  snap: true,\r\n                },\r\n              }}\r\n              wrapperDivClassName={`${prefixCls}-full-height`}\r\n              workspaceDidChange={this.programWorkspaceDidChange}\r\n            />\r\n            <Tooltip placement=\"bottom\" title={options.hideVariablesWorkspace?'显示变量定义':'隐藏变量定义'}>\r\n            <Icon\r\n              type=\"double-right\"\r\n              className={`${prefixCls}-editors-program-toggle`}\r\n              onClick={()=>{\r\n                this.props.updateOptions({...options, hideVariablesWorkspace:!options.hideVariablesWorkspace})\r\n              }}\r\n            />\r\n            </Tooltip>\r\n          </div>\r\n        }\r\n      </div>\r\n      <div className={`${prefixCls}-operations`}>\r\n        <div className={`${prefixCls}-operations-left`}>\r\n          {!!options.hideSidebar &&\r\n          <Icon\r\n            type=\"double-right\"\r\n            className={`${prefixCls}-sidebar-toggle`}\r\n            onClick={()=>{\r\n              this.props.updateOptions({...options, hideSidebar: \"\"})\r\n            }}\r\n          />\r\n          }\r\n          {!options.hideSidebar &&\r\n          <Icon\r\n            type=\"double-left\"\r\n            className={`${prefixCls}-sidebar-toggle`}\r\n            onClick={()=>{\r\n              this.props.updateOptions({...options, hideSidebar: \"true\"})\r\n            }}\r\n          />\r\n          }\r\n          <span className={`${prefixCls}-operations-left-name`}>{program.name}</span>\r\n        </div>\r\n        <Button\r\n          size={'small'}\r\n          type={'primary'}\r\n          disabled={(debugging || running) && isRunning}\r\n          onClick={this.loop}\r\n        >{looping?'停止循环':'循环运行'}</Button>\r\n        <Button\r\n          size={'small'}\r\n          type={'primary'}\r\n          onClick={this.debug}\r\n          disabled={(running && isRunning) || looping}\r\n        >{(debugging && isRunning)? '下一步' : '调试'}</Button>\r\n        {(debugging && isRunning)  &&\r\n        <Button\r\n          size={'small'}\r\n          type={'primary'}\r\n          onClick={()=>{\r\n            // this.setState({debugging:false})\r\n            this.tryStop()\r\n          }}\r\n        > 停止</Button>\r\n        }\r\n        {!(debugging && isRunning) &&\r\n        <Button\r\n          size={'small'}\r\n          type={'primary'}\r\n          onClick={this.run}\r\n          disabled={(debugging && isRunning) || looping}\r\n        >{(running && isRunning) ? '停止' : '运行'}</Button>\r\n        }\r\n      </div>\r\n    </Fragment>\r\n  }\r\n}\r\n\r\nEditors.propTypes = {\r\n  prefixCls: PropTypes.string.isRequired,\r\n  cell: PropTypes.object.isRequired,\r\n  program: PropTypes.object,\r\n  updateOptions: PropTypes.func.isRequired,\r\n}\r\n\r\nconst getState = createSelector(\r\n  getResultByCell,\r\n  getCurrentPlan,\r\n  getCurrentPlanId,\r\n  getEndPQ,\r\n  (result, currentPlan, currentPlanId, endPQ) => {\r\n    return {\r\n      result,\r\n      currentPlan,\r\n      currentPlanId,\r\n      endPQ,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getState(state, props)\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel,\r\n    loadPrograms,\r\n    loadProgram,\r\n    createProgram,\r\n    deleteProgram,\r\n    updateProgram,\r\n    renameProgram,\r\n    sendCmd,\r\n  }\r\n)(withSize({monitorHeight: true, refreshRate: 30})(Editors))\r\n\r\n\r\n\r\n","import React, {Component} from \"react\"\r\nimport PropTypes from 'prop-types'\r\nimport Form from \"antd/lib/form\"\r\nimport Modal from 'antd/lib/modal'\r\nimport Radio from 'antd/lib/radio'\r\nimport Icon from 'antd/lib/icon'\r\nimport Input from 'antd/lib/input'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport {createProgram} from \"../../../actions\";\r\n\r\nconst FormItem = Form.Item\r\nconst RadioGroup = Radio.Group\r\nconst RadioButton = Radio.Button\r\n\r\nclass CreateProgramModal extends  Component {\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const {createProgram} = this.props\r\n    this.props.form.validateFields((err, fieldsValue) => {\r\n      if (err) {\r\n        console.error(err)\r\n        return\r\n      }\r\n      createProgram(fieldsValue)\r\n    })\r\n  }\r\n  render() {\r\n    const {\r\n      toggleCreateProgramModal,\r\n      prefixCls,\r\n      creatingProgramStatus\r\n    } = this.props\r\n    const { getFieldDecorator } = this.props.form;\r\n    return <Modal\r\n      title=\"添加程序\"\r\n      visible={!!creatingProgramStatus.showCreateProgramModal}\r\n      okText={\"创建\"}\r\n      cancelText={\"取消\"}\r\n      onOk={this.handleSubmit}\r\n      onCancel={toggleCreateProgramModal}\r\n      wrapClassName={`${prefixCls}-create-program-modal`}\r\n    >\r\n      <Form>\r\n        <FormItem label=\"名称\" className={`${prefixCls}-input-col`}>\r\n          {getFieldDecorator('name', {\r\n            rules: [{ type: 'string', required: true, message: '请输入程序名称' }]\r\n          })(<Input size={\"small\"} disabled={!!creatingProgramStatus.creatingProgram}/>)}\r\n        </FormItem>\r\n      </Form>\r\n      <div className={`${prefixCls}-status`}>\r\n        {!!creatingProgramStatus.creatingProgram && <div className={\"info\"}>\r\n          创建中...\r\n        </div>}\r\n        {!!creatingProgramStatus.creatingProgramFailure && <div className={\"error\"}>\r\n          创建错误: {creatingProgramStatus.creatingProgramFailure}\r\n        </div>}\r\n        {!!creatingProgramStatus.creatingProgramSuccess && <div className={\"success\"}>\r\n          创建成功\r\n        </div>}\r\n      </div>\r\n    </Modal>\r\n  }\r\n}\r\n\r\n\r\nCreateProgramModal.propTypes = {\r\n  createProgram: PropTypes.func.isRequired,\r\n  toggleCreateProgramModal: PropTypes.func.isRequired,\r\n  prefixCls: PropTypes.string.isRequired,\r\n  creatingProgramStatus: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Form.create()(CreateProgramModal)\r\n","import React, {Component} from \"react\"\r\nimport PropTypes from 'prop-types'\r\nimport Modal from 'antd/lib/modal'\r\nimport {showCreateRobotModelModal} from \"../../../actions\";\r\n\r\n\r\nclass CreateProgramModal extends  Component {\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const {\r\n      deleteProgram,\r\n      deletingProgramStatus\r\n    } = this.props\r\n      deleteProgram(deletingProgramStatus.showDeleteProgramModal)\r\n  }\r\n  render() {\r\n    const {\r\n      toggleDeleteProgramModal,\r\n      prefixCls,\r\n      deletingProgramStatus\r\n    } = this.props\r\n    return <Modal\r\n      title=\"删除程序\"\r\n      visible={!!deletingProgramStatus.showDeleteProgramModal}\r\n      okText={\"删除\"}\r\n      cancelText={\"取消\"}\r\n      onOk={this.handleSubmit}\r\n      onCancel={()=>toggleDeleteProgramModal()}\r\n      wrapClassName={`${prefixCls}-delete-program-modal`}\r\n    >\r\n      <div className={\"info\"}>\r\n        是否确认删除{deletingProgramStatus.showDeleteProgramModal!==true?` \"${deletingProgramStatus.showDeleteProgramModal}\" `:''}!\r\n      </div>\r\n      <div className={`${prefixCls}-status`}>\r\n        {!!deletingProgramStatus.deletingProgram && <div className={\"info\"}>\r\n          删除中...\r\n        </div>}\r\n        {!!deletingProgramStatus.deletingProgramFailure && <div className={\"error\"}>\r\n          删除错误: {deletingProgramStatus.deletingProgramFailure}\r\n        </div>}\r\n        {!!deletingProgramStatus.deletingProgramSuccess && <div className={\"success\"}>\r\n          删除成功\r\n        </div>}\r\n      </div>\r\n    </Modal>\r\n  }\r\n}\r\n\r\n\r\nCreateProgramModal.propTypes = {\r\n  deleteProgram: PropTypes.func.isRequired,\r\n  toggleDeleteProgramModal: PropTypes.func.isRequired,\r\n  prefixCls: PropTypes.string.isRequired,\r\n  deletingProgramStatus: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default CreateProgramModal\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\"\r\nimport Row from \"antd/lib/row\"\r\nimport Col from \"antd/lib/col\"\r\nimport Button from \"antd/lib/button\"\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport Select from \"antd/lib/select\"\r\nimport Modal from \"antd/lib/modal\"\r\nimport Input from \"antd/lib/input\"\r\nimport CellBase from \"../CellBase\"\r\nimport Icon from \"antd/lib/icon\"\r\nimport Collapse from \"antd/lib/collapse\"\r\nimport {\r\n  getPrograms,\r\n  getResultByCell,\r\n  getCreatingProgramStatus,\r\n  getDeletingProgramStatus,\r\n  getEditingProgramNameStatus,\r\n} from \"../../../selectors\"\r\nimport {\r\n  deleteResultByChannel,\r\n  loadPrograms,\r\n  loadProgram,\r\n  createProgram,\r\n  toggleCreateProgramModal,\r\n  deleteProgram,\r\n  toggleDeleteProgramModal,\r\n  toggleEditProgramName,\r\n  renameProgram,\r\n  resetRenameProgramStatus,\r\n} from \"../../../actions\"\r\nimport \"./blocks/index\"\r\nimport \"./generators/index\"\r\nimport Editors from \"./Editors\";\r\nimport { withSize } from 'react-sizeme'\r\nimport { ResizableBox } from 'react-resizable';\r\nimport Tooltip from 'antd/lib/tooltip'\r\nimport CreateProgramModal from \"./CreateProgramModal\";\r\nimport DeleteProgramModal from \"./DeleteProgramModal\";\r\n\r\n\r\n\r\nconst { Panel } = Collapse\r\n\r\nclass Blockly extends CellBase {\r\n  state = {\r\n    selectedProgram: null,\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.loadPrograms()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timeout)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if(prevProps.creatingProgramStatus.creatingProgramSuccess !== this.props.creatingProgramStatus.creatingProgramSuccess && this.props.creatingProgramStatus.creatingProgramSuccess){\r\n      let options = this.getOptions()\r\n      let name = this.props.creatingProgramStatus.creatingProgramSuccess.name\r\n      if (!!options.selectedProgramName) {\r\n        this.updateOptions({...options, selectedProgramName: null})\r\n        clearTimeout(this.timeout)\r\n        this.timeout = setTimeout(() => {\r\n          this.updateOptions({...options, selectedProgramName: name})\r\n        }, 50)\r\n      } else {\r\n        this.updateOptions({...options, selectedProgramName: name})\r\n      }\r\n    }\r\n    if(prevProps.editingProgramNameStatus.renamingProgramSuccess !== this.props.editingProgramNameStatus.renamingProgramSuccess && this.props.editingProgramNameStatus.renamingProgramSuccess){\r\n      let options = this.getOptions()\r\n      let name = this.props.editingProgramNameStatus.renamingProgramSuccess.name\r\n      if (!!options.selectedProgramName) {\r\n        this.updateOptions({...options, selectedProgramName: null})\r\n        clearTimeout(this.timeout)\r\n        this.timeout = setTimeout(() => {\r\n          this.updateOptions({...options, selectedProgramName: name})\r\n        }, 50)\r\n      } else {\r\n        this.updateOptions({...options, selectedProgramName: name})\r\n      }\r\n    }\r\n  }\r\n\r\n  run = () => {\r\n    if(this.editors){\r\n      this.editors.run()\r\n    }\r\n  }\r\n\r\n  renderPrograms(prefixCls) {\r\n    const {\r\n      programs,\r\n      createProgram,\r\n      creatingProgramStatus,\r\n      toggleCreateProgramModal,\r\n      deleteProgram,\r\n      deletingProgramStatus,\r\n      toggleDeleteProgramModal,\r\n      toggleEditProgramName,\r\n      renameProgram,\r\n      resetRenameProgramStatus,\r\n      editingProgramNameStatus: {\r\n        renamingProgramFailure,\r\n        editingProgramName\r\n      }\r\n    } = this.props\r\n    const options = this.getOptions()\r\n    return <Fragment>\r\n      <div className={`${prefixCls}-program-header`}>\r\n       程序列表\r\n        <Tooltip placement=\"top\" title={'新建程序'}>\r\n          <Icon\r\n            type=\"plus-square\" theme=\"filled\"\r\n            className={`${prefixCls}-program-header-add`}\r\n            onClick={toggleCreateProgramModal}\r\n          />\r\n        </Tooltip>\r\n        <CreateProgramModal\r\n          createProgram={createProgram}\r\n          toggleCreateProgramModal={toggleCreateProgramModal}\r\n          creatingProgramStatus={creatingProgramStatus}\r\n          prefixCls={prefixCls}\r\n        />\r\n      </div>\r\n      {Object.keys(programs).length === 0 &&\r\n       <div style={{opacity: 0.5}}>\r\n         没有程序\r\n       </div>\r\n      }\r\n      {Object.keys(programs).length > 0 && <div className={`${prefixCls}-program-collapse`}>\r\n      <Collapse\r\n        accordion\r\n        activeKey={options.selectedProgramName}\r\n      >\r\n        {Object.keys(programs).sort().map(name => {\r\n          const header = <div\r\n            className={`${prefixCls}-program-name`}\r\n            onClick={()=>{\r\n              if (!!options.selectedProgramName && options.selectedProgramName !== name) {\r\n                this.updateOptions({...options, selectedProgramName: null})\r\n                clearTimeout(this.timeout)\r\n                this.timeout = setTimeout(() => {\r\n                  this.updateOptions({...options, selectedProgramName: name})\r\n                }, 50)\r\n              }else{\r\n                this.updateOptions({...options, selectedProgramName: name})\r\n              }\r\n            }}\r\n          >\r\n            {editingProgramName !== name &&\r\n            <span className={`${prefixCls}-program-name-text`} onDoubleClick={(e)=>{\r\n              e.preventDefault()\r\n              e.stopPropagation()\r\n              toggleEditProgramName(name)\r\n            }}>\r\n              {name}\r\n            </span>\r\n            }\r\n            {editingProgramName === name && <Input\r\n              size={\"small\"}\r\n              onKeyUp={(e)=>{\r\n                if(e.keyCode === 27){\r\n                  e.preventDefault()\r\n                  e.stopPropagation()\r\n                  toggleEditProgramName()\r\n                }\r\n              }}\r\n              onClick={(e)=>{\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n              }}\r\n              className={`${prefixCls}-program-name-input`}\r\n              defaultValue={name}\r\n              onPressEnter={(e)=>{\r\n                if(name !== e.target.value){\r\n                  renameProgram(name, e.target.value)\r\n                }else{\r\n                  toggleEditProgramName()\r\n                }\r\n              }}\r\n            />\r\n            }\r\n            {editingProgramName !== name &&\r\n            <span className={`${prefixCls}-program-name-actions`}>\r\n              <Icon\r\n                onClick={(e) => {\r\n                  e.preventDefault()\r\n                  e.stopPropagation()\r\n                  toggleEditProgramName(name)\r\n                }}\r\n                type=\"edit\" theme=\"filled\"\r\n              />\r\n              <Icon\r\n                type=\"copy\"\r\n                theme=\"filled\"\r\n                onClick={(e)=>{\r\n                  e.preventDefault()\r\n                  e.stopPropagation()\r\n                  let newName = name + ' copy'\r\n                  let getCopyName = false\r\n                  while(!getCopyName){\r\n                    getCopyName = true\r\n                    Object.keys(programs).forEach(key=>{\r\n                      if(key === newName){\r\n                        newName += ' copy'\r\n                        getCopyName = false\r\n                      }\r\n                    })\r\n                  }\r\n                  renameProgram(name, newName, true)\r\n                }}\r\n              />\r\n              <Icon\r\n                onClick={(e) => {\r\n                  e.preventDefault()\r\n                  e.stopPropagation()\r\n                  toggleDeleteProgramModal(name)\r\n                }}\r\n                type=\"delete\"\r\n                theme=\"filled\"\r\n              />\r\n            </span>\r\n            }\r\n          </div>\r\n          return <Panel header={header} key={name}\r\n          >\r\n            {programs[name].files && programs[name].files.map(file => {\r\n              return <p key={file.name}>{file.name}</p>\r\n            })}\r\n          </Panel>\r\n        })}\r\n      </Collapse>\r\n        </div>\r\n      }\r\n      <DeleteProgramModal\r\n        deleteProgram={deleteProgram}\r\n        toggleDeleteProgramModal={toggleDeleteProgramModal}\r\n        deletingProgramStatus={deletingProgramStatus}\r\n        prefixCls={prefixCls}\r\n      ></DeleteProgramModal>\r\n      { !!editingProgramName && !!renamingProgramFailure &&\r\n        <Modal\r\n          title=\"重命名错误\"\r\n          visible={!!editingProgramName && !!renamingProgramFailure}\r\n          onCancel={resetRenameProgramStatus}\r\n          onOk={resetRenameProgramStatus}\r\n          okText={\"确认\"}\r\n          cancelButtonProps={{style: {display: 'none'}}}\r\n        >\r\n          <div className={\"error\"}>\r\n            {!!renamingProgramFailure && renamingProgramFailure}\r\n          </div>\r\n        </Modal>\r\n      }\r\n      { !editingProgramName && !!renamingProgramFailure &&\r\n      <Modal\r\n        title=\"文件复制错误\"\r\n        visible={!editingProgramName && !!renamingProgramFailure}\r\n        onCancel={resetRenameProgramStatus}\r\n        onOk={resetRenameProgramStatus}\r\n        okText={\"确认\"}\r\n        cancelButtonProps={{style: {display: 'none'}}}\r\n      >\r\n        <div className={\"error\"}>\r\n          {!!renamingProgramFailure && renamingProgramFailure}\r\n        </div>\r\n      </Modal>\r\n      }\r\n    </Fragment>\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const self = this\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      size: {width, height},\r\n      programs,\r\n    } = self.props\r\n    const {\r\n      running,\r\n    } = this.state\r\n    const prefixCls = getPrefixCls('blockly', customizePrefixCls);\r\n    this.prefixCls = prefixCls\r\n    const options = this.getOptions()\r\n    const sidebarWidth = options.sidebarWidth || 200\r\n    let selectedProgram = programs[options.selectedProgramName]\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      {(!options.hideSidebar || !selectedProgram) && <ResizableBox\r\n        width={sidebarWidth}\r\n        height={height}\r\n        minConstraints={[100, height]}\r\n        maxConstraints={[width/2, height]}\r\n        className={`${prefixCls}-left-col`}\r\n        axis={'x'}\r\n        handle={<div className={`${prefixCls}-hdivider`}></div>}\r\n        onResize={(e, {size:{width, height}})=>{\r\n          self.updateOptions({...options, sidebarWidth: width})\r\n        }}\r\n      >\r\n        {this.renderPrograms(prefixCls)}\r\n      </ResizableBox>\r\n      }\r\n      <div\r\n        className={`${prefixCls}-right-col`}\r\n        style={{\r\n          width: !options.hideSidebar?width-sidebarWidth:width\r\n        }}\r\n      >\r\n        {!!selectedProgram && <Editors\r\n          program={selectedProgram}\r\n          cell={cell}\r\n          prefixCls={prefixCls}\r\n          updateOptions={(options)=>this.updateOptions(options)}\r\n          options={this.getOptions()}\r\n        ></Editors>\r\n        }\r\n        {!selectedProgram && <div\r\n          className={`${prefixCls}-no-program`}\r\n        >\r\n          <span>没有程序, 请选中或新建.</span>\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nBlockly.propTypes = {\r\n}\r\n\r\nconst getBlocklyState = createSelector(\r\n  getPrograms,\r\n  getResultByCell,\r\n  getCreatingProgramStatus,\r\n  getDeletingProgramStatus,\r\n  getEditingProgramNameStatus,\r\n  (programs, result, creatingProgramStatus, deletingProgramStatus, editingProgramNameStatus) => {\r\n    return {\r\n      programs,\r\n      result,\r\n      creatingProgramStatus,\r\n      deletingProgramStatus,\r\n      editingProgramNameStatus,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getBlocklyState(state, props)\r\n}\r\n\r\nconst ConnectedBlockly = connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteResultByChannel,\r\n    loadPrograms,\r\n    loadProgram,\r\n    toggleCreateProgramModal,\r\n    createProgram,\r\n    toggleDeleteProgramModal,\r\n    deleteProgram,\r\n    toggleEditProgramName,\r\n    renameProgram,\r\n    resetRenameProgramStatus,\r\n  }\r\n)(withSize({monitorHeight: true, refreshRate: 30})(Blockly))\r\n\r\nConnectedBlockly.NAME = '可视化编程'\r\nConnectedBlockly.WIDTH = 24\r\nConnectedBlockly.HEIGHT = 12\r\nConnectedBlockly.ICON = (props) => <Icon type={\"codepen\"} {...props} />\r\n\r\n\r\nexport default ConnectedBlockly\r\n","import React from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from 'react-redux'\r\nimport CellBase from \"./CellBase\";\r\nimport Icon from \"antd/lib/icon\"\r\nimport {\r\n  getResultByChannel\r\n} from \"../../selectors\";\r\n\r\nclass ExampleCell extends CellBase {\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      get,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('example-cell', customizePrefixCls);\r\n    {/**/}\r\n    return <div className={prefixCls}>\r\n      <p>\r\n      {!!get && JSON.stringify(get, null, \"\\n\")}\r\n      </p>\r\n    </div>\r\n  }\r\n}\r\n\r\nExampleCell.propTypes = {\r\n  get: PropTypes.object\r\n}\r\n\r\n// redux与react关联状态\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    get: getResultByChannel(state, 'get'),\r\n  }\r\n}\r\n// 关联redux和react\r\nconst ConnectedExampleCell = connect(\r\n  mapStateToProps,\r\n)(ExampleCell)\r\n\r\nConnectedExampleCell.NAME = '面板示例'\r\nConnectedExampleCell.WIDTH = 24\r\nConnectedExampleCell.HEIGHT = 12\r\nConnectedExampleCell.ICON = (props) => <Icon type={\"codepen\"} {...props} />\r\n// ConnectedExampleCell.CONFIG = config\r\n\r\n\r\nexport default ConnectedExampleCell\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport Icon from 'antd/lib/icon';\r\nimport {getResultByChannel} from '../../selectors'; \r\nimport CellBase from './CellBase';\r\n\r\n\r\nclass ShowGetContentCell extends CellBase{\r\n    renderContent = ({getPrefixCls}) => {\r\n        const {\r\n          prefixCls: customizePrefixCls,\r\n          get,\r\n        } = this.props\r\n        const prefixCls = getPrefixCls('ShowGetContent-cell', customizePrefixCls);\r\n        return <div className={prefixCls}>\r\n          <p>\r\n          {!!get && JSON.stringify(get, null, \"\\n\")}\r\n          </p>\r\n        </div>\r\n      }\r\n    }\r\n    \r\n    ShowGetContentCell.propTypes = {\r\n      get: PropTypes.object\r\n    }\r\n    \r\n    // redux与react关联状态\r\n    const mapStateToProps = (state, props) => {\r\n      return {\r\n        get: getResultByChannel(state, 'get'),\r\n      }\r\n    }\r\n    // 关联redux和react\r\n    const ConnectedShowGetContentCell = connect(\r\n      mapStateToProps,\r\n    )(ShowGetContentCell)\r\n    \r\n    ConnectedShowGetContentCell.NAME = 'GET数据显示'\r\n    ConnectedShowGetContentCell.WIDTH =  12\r\n    ConnectedShowGetContentCell.HEIGHT = 12\r\n    // ConnectedShowGetContentCell.ICON = (props) => <Icon type={\"codepen\"} {...props} />\r\n    // ConnectedExampleCell.CONFIG = config\r\n    \r\n    \r\n    export default ConnectedShowGetContentCell\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {Fragment} from \"react\"\r\nimport ConfigBase from \"../ConfigBase\";\r\nimport Form from \"antd/lib/form\"\r\nimport Modal from 'antd/lib/modal'\r\nimport Radio from 'antd/lib/radio'\r\nimport Select from 'antd/lib/select'\r\nimport Button from 'antd/lib/button'\r\nimport Icon from 'antd/lib/icon'\r\nimport Row from 'antd/lib/row'\r\nimport Col from 'antd/lib/col'\r\nimport Input from 'antd/lib/input'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport isArray from 'lodash/isArray'\r\nimport isEqual from 'lodash/isEqual'\r\nimport {\r\n  getMemoizeDataSources,\r\n  getMemoizeDataIndexesBySource,\r\n} from \"../../../selectors\";\r\nimport {\r\n  sendCmd,\r\n  deleteResultByChannel\r\n} from \"../../../actions\";\r\n\r\nconst { Search } = Input;\r\n\r\n\r\nconst RadioGroup = Radio.Group\r\nconst FormItem = Form.Item\r\nconst Option = Select.Option\r\n\r\n\r\nclass Config extends ConfigBase {\r\n  state = {\r\n    sources: []\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {cell:oldCell,dataSources:oldDataSources} = prevProps\r\n    const {cell:newCell,dataSources:dataSources} = this.props\r\n    if(!isEqual(oldCell, newCell) && newCell && newCell.options){\r\n      if(newCell.options && newCell.options.sources){\r\n        try{\r\n          this.setState({sources: newCell.options.sources})\r\n        }catch (e) {\r\n          \r\n        }\r\n      }\r\n    }\r\n    if(!isEqual(oldDataSources, dataSources)){\r\n      this.setState({sources: this.state.sources.filter(s=>{\r\n          if(s.source && dataSources.indexOf(s.source) === -1){\r\n            return false\r\n          }\r\n          return true\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, fieldsValue) => {\r\n      if (err) {\r\n        return;\r\n      }\r\n      let options = this.getOptions()\r\n      this.updateOptions({\r\n        ...options,\r\n        ...fieldsValue,\r\n        sources: fieldsValue.sources,\r\n        showConfig: false\r\n      })\r\n    })\r\n  }\r\n\r\n  remove = k => {\r\n    this.setState({\r\n      sources: this.state.sources.filter((s, i)=> i!==k)\r\n    })\r\n  };\r\n\r\n  add = () => {\r\n    this.setState({\r\n      sources: [...this.state.sources, {}]\r\n    })\r\n  };\r\n\r\n  renderDataSources(options){\r\n    const { getFieldDecorator, getFieldValue, getFieldsValue} = this.props.form;\r\n    const {dataSources, dataIndexes} = this.props\r\n    let selectedSources = options.sources || []\r\n    selectedSources.forEach((source, index)=>{\r\n      getFieldDecorator(`sources[${index}].source`, {\r\n        initialValue: source.source\r\n      });\r\n    })\r\n    const {sources} = this.state\r\n    if(!dataSources || !dataIndexes){\r\n      return <div>\r\n        数据等待中...\r\n      </div>\r\n    }\r\n    if(Object.keys(dataSources).length === 0){\r\n      return <div style={{textAlign: \"center\"}} className={\"error\"}>\r\n        无可添加数据项，请输入并运行指令，并确认返回结果中包含数值。\r\n      </div>\r\n    }\r\n    let {sources:formSources} = getFieldsValue()\r\n    if(!formSources){\r\n      formSources=[]\r\n    }\r\n    const sourceItems = sources.map((source, index)=>{\r\n      return <Row key={index}>\r\n        <Col span={10}>\r\n        <FormItem\r\n          label={'数据项'}\r\n          labelCol={{span:8}}\r\n          wrapperCol={{span:16}}\r\n        >\r\n          {getFieldDecorator(`sources[${index}].source`, {\r\n            initialValue: source.source,\r\n            rules: [{\r\n              type: 'string',\r\n              required: true,\r\n              message: '请选择数据项'\r\n            }]\r\n          })(<Select\r\n            style={{width: \"100%\"}}\r\n            size={\"small\"}\r\n            placeholder={\"选择数据项\"}\r\n          >\r\n            {\r\n              dataSources.map(c => <Option key={c} value={c}>{c}</Option>)\r\n            }\r\n          </Select>)\r\n          }\r\n        </FormItem>\r\n        </Col>\r\n        <Col span={10}>\r\n        {!!formSources[index] && !!dataIndexes[formSources[index].source] &&\r\n        <FormItem\r\n          label={'index'}\r\n          labelCol={{span:8}}\r\n          wrapperCol={{span:16}}\r\n        >\r\n          {getFieldDecorator(`sources[${index}].index`, {\r\n            initialValue: source.index,\r\n            rules: [{\r\n              type: 'number',\r\n              required: true,\r\n              message: '请选择index'\r\n            }]\r\n          })(<Select\r\n            style={{width: \"100%\"}}\r\n            size={\"small\"}\r\n            placeholder={\"选择index\"}\r\n          >\r\n            {\r\n              dataIndexes[formSources[index].source].map(c => <Option key={c.toString()} value={c}>{c}</Option>)\r\n            }\r\n          </Select>)\r\n          }\r\n        </FormItem>\r\n        }\r\n        </Col>\r\n        <Col span={4}>\r\n          <Form.Item style={{paddingLeft:20}}>\r\n            <Button onClick={this.remove.bind(this, index)} type={\"danger\"}>\r\n              <Icon type=\"minus\" /> 移除\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    })\r\n    return <Fragment>\r\n      {sourceItems}\r\n      <Form.Item wrapperCol={{span:24}} style={{textAlign:'center'}}>\r\n        <Button type=\"dashed\" onClick={this.add}>\r\n          <Icon type=\"plus\" /> 添加数据项\r\n        </Button>\r\n      </Form.Item>\r\n    </Fragment>\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      sendCmd\r\n    } = this.props\r\n    const options = this.getOptions()\r\n    const { getFieldDecorator} = this.props.form;\r\n    const prefixCls = getPrefixCls('realtime-data-config', customizePrefixCls);\r\n    const interval = options.interval || 1000\r\n    return <Modal\r\n      title=\"添加数据\"\r\n      visible={!!options.showConfig}\r\n      maskClosable={false}\r\n      okText={\"保存\"}\r\n      cancelText={\"取消\"}\r\n      width={\"80%\"}\r\n      onOk={this.handleSubmit}\r\n      onCancel={this.hideConfig}\r\n      wrapClassName={`${prefixCls}`}\r\n    >\r\n      <Form layout={\"horizontal\"}>\r\n        <FormItem label=\"数据来源\">\r\n          {getFieldDecorator('channel', {\r\n            initialValue: options.channel === \"command\"?\"command\":\"get\",\r\n            rules: [{\r\n              type: 'string',\r\n              required: true,\r\n              message: '请选择数据来源'\r\n            }]\r\n          })(\r\n            <RadioGroup\r\n              onChange={e=>{\r\n                this.updateOptions({...options, channel:e.target.value})\r\n              }}\r\n            >\r\n              <Radio value={\"get\"}>默认GET</Radio>\r\n              <Radio value={\"command\"}>自定义命令</Radio>\r\n            </RadioGroup>,\r\n          )}\r\n        </FormItem>\r\n        {options.channel===\"command\" && <Row>\r\n          <Col span={20}>\r\n            <FormItem\r\n              label={'运行指令'}\r\n              labelCol={{span:4}}\r\n              wrapperCol={{span:20}}\r\n            >\r\n              {getFieldDecorator('command', {\r\n                initialValue: options.command,\r\n                rules: [{\r\n                  type: 'string',\r\n                  required: true,\r\n                  message: '请输入指令'\r\n                }]\r\n              })(\r\n                <Search\r\n                  onSearch={value => {\r\n                    sendCmd(value, cell.i)\r\n                  }}\r\n                  enterButton={\"运行\"}\r\n                />\r\n              )}\r\n            </FormItem>\r\n          </Col>\r\n          <Col span={4}>\r\n            <FormItem\r\n              label={'运行间隔'}\r\n              labelCol={{span:12}}\r\n              wrapperCol={{span:12}}\r\n            >\r\n              {getFieldDecorator('interval', {\r\n                initialValue: interval,\r\n                rules: [{\r\n                  required: true,\r\n                  message: '请输入指令'\r\n                }]\r\n              })(\r\n                <InputNumber\r\n                  min={30} step={1}\r\n                  formatter={value => `${value}毫秒`}\r\n                  parser={value => value.replace('毫秒', '')}\r\n                />\r\n              )}\r\n            </FormItem>\r\n          </Col>\r\n        </Row>\r\n          }\r\n        {this.renderDataSources(options)}\r\n      </Form>\r\n    </Modal>\r\n  }\r\n\r\n}\r\n\r\n\r\nconst getState = createSelector(\r\n  getMemoizeDataSources,\r\n  getMemoizeDataIndexesBySource,\r\n  (dataSources, dataIndexes) => {\r\n    return {\r\n      dataSources,\r\n      dataIndexes,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return getState(state, props)\r\n}\r\n\r\nconst transform = obj => {\r\n  return Object.keys(obj).reduce((acc, cv) => {\r\n    return {\r\n      ...acc,\r\n      [cv]:\r\n        typeof obj[cv] === \"object\" && !(\"value\" in obj[cv])\r\n          ? isArray(obj[cv])\r\n          ? obj[cv].map(item => transform(item))\r\n          : transform(obj[cv])\r\n          : Form.createFormField({\r\n            ...obj[cv],\r\n            value: obj[cv] && obj[cv].value\r\n          })\r\n    };\r\n  }, {});\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    sendCmd,\r\n    deleteResultByChannel,\r\n  }\r\n)(Form.create({\r\n  mapPropsToFields(props) {\r\n    let { sources, cell } = props;\r\n    const transformed = transform({ sources });\r\n    return transformed;\r\n  },\r\n  onValuesChange(_, values) {\r\n  }\r\n})(Config))\r\n\r\n","import React, {Fragment} from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport CellBase from \"../CellBase\";\r\nimport { connect } from 'react-redux'\r\nimport Button from \"antd/lib/button\"\r\nimport isEqual from 'lodash/isEqual'\r\nimport Icon from \"antd/lib/icon\"\r\nimport {deleteResultByChannel} from \"../../../actions\"\r\nimport {\r\n  makeGetResultsByCellChannel,\r\n} from \"../../../selectors\";\r\nimport Config from \"./Config\"\r\n\r\nclass RealtimeData extends CellBase {\r\n\r\n  interval = null\r\n\r\n  state = {playing: true}\r\n\r\n  resetInterval = () => {\r\n    clearInterval(this.interval)\r\n    const {cell, sendCmd} = this.props\r\n    if(cell.options && !cell.options.showConfig && cell.options.channel === \"command\" && cell.options.command && cell.options.interval && !cell.options.paused){\r\n      const command = cell.options.command\r\n      const channel = cell.i\r\n      this.interval = setInterval(()=>{\r\n        sendCmd(command, channel)\r\n      }, cell.options.interval)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.resetInterval()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {cell: oldCell} = prevProps\r\n    const {cell: newCell} = this.props\r\n    if (!isEqual(oldCell, newCell)) {\r\n      this.resetInterval()\r\n    }\r\n    if(newCell.options.showConfig !== oldCell.options.showConfig && newCell.options.showConfig){\r\n      this.props.deleteResultByChannel(newCell.i)\r\n    }\r\n  }\r\n\r\n  handleChange = (value) => {\r\n     const options = this.getOptions()\r\n     this.updateOptions({...options, channel: value})\r\n  }\r\n\r\n  renderContent = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cell,\r\n      results,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('realtime-data', customizePrefixCls);\r\n    const hasDataSources = cell.options && cell.options.channel && cell.options.sources && cell.options.sources.length > 0\r\n    const dataChannel = `${cell.options.channel==='get'?'get':cell.options.command}`\r\n    return <div\r\n      className={`${prefixCls} ${!hasDataSources && prefixCls+\"-no-data\"}`}\r\n    >\r\n      {!hasDataSources && <div>\r\n        <span>实时绘图数据配置</span>\r\n        <div style={{marginTop: 20}}>\r\n          <Button type={\"primary\"} onClick={()=>{\r\n            this.updateOptions({showConfig:true})\r\n          }}>配置</Button>\r\n        </div>\r\n      </div>}\r\n      \r\n      {hasDataSources && <Fragment>\r\n        <div>数据来源：{dataChannel}</div>\r\n        <div>时间：{Object.keys(results).map(key => (results[key][results[key].length-1].value[0]))}</div>\r\n        <div>{Object.keys(results)}数值为:</div>\r\n        <div>{Object.keys(results).map(key => (results[key][results[key].length-1].value[1]))}</div>\r\n      </Fragment>\r\n      }\r\n      </div>\r\n  }\r\n}\r\n\r\nRealtimeData.propTypes = {\r\n  results: PropTypes.object.isRequired\r\n}\r\n\r\nconst makeMapStateToProps = () => {\r\n  const getResultsByCellChannel = makeGetResultsByCellChannel(1000)\r\n  const mapStateToProps = (state, props) => {\r\n    return {\r\n      results: getResultsByCellChannel(state, props),\r\n    }\r\n  }\r\n  return mapStateToProps\r\n}\r\n\r\n\r\nconst ConnectedRealtimeData = connect(\r\n  makeMapStateToProps,\r\n  {deleteResultByChannel}\r\n)(RealtimeData)\r\n\r\nConnectedRealtimeData.NAME = '实时绘图数据显示'\r\nConnectedRealtimeData.CONFIG = Config\r\n\r\nexport default ConnectedRealtimeData\r\n\r\n","import Logger from \"./Logger\";\r\nimport Unknown from \"./Unknown\";\r\nimport View3D from \"./View3D\";\r\nimport JogCoordinate from \"./JogCoordinate/JogCoordinate\";\r\nimport JogJoint from \"./JogJoint/JogJoint\";\r\nimport RobotStatus from \"./RobotStatus\";\r\nimport ManualSwitch from \"./ManualSwitch\";\r\nimport CodeEditor from \"./CodeEditor\";\r\nimport Debugger from \"./Debugger\";\r\nimport RealtimeChart from \"./RealtimeChart/RealtimeChart\";\r\nimport ToolCalib from \"./ToolCalib\";\r\nimport ZeroCalib from \"./ZeroCalib\";\r\nimport MotionCalib from \"./MotionCalib\";\r\nimport LoadCalib from \"./LoadCalib\";\r\nimport SetDH from \"./SetDH\";\r\nimport ModelConfiguration from \"./ModelConfigeration\";\r\nimport EthercatConfiguration from \"./EthercatConfiguration\";\r\nimport Blockly from \"./BlocklyEditor/Blockly\";\r\nimport ExampleCell from \"./ExampleCell\";\r\nimport ShowGetContentCell from \"./ShowGetContent\"\r\nimport RealTimeData from \"./RealTimeData/RealTimeData\"\r\n\r\nexport default {\r\n  Blockly,\r\n  MotionCalib,\r\n  RealtimeChart,\r\n  Debugger,\r\n  CodeEditor,\r\n  Logger,\r\n  View3D,\r\n  SetDH,\r\n  \"3DView\": View3D,\r\n  ModelConfiguration,\r\n  ZeroCalib,\r\n  LoadCalib,\r\n  JogCoordinate,\r\n  JogJoint,\r\n  RobotStatus,\r\n  ManualSwitch,\r\n  ToolCalib,\r\n  Unknown,\r\n  EthercatConfiguration,\r\n  ExampleCell,\r\n  ShowGetContentCell,\r\n  RealTimeData\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Menu from 'antd/lib/menu'\r\nimport Dropdown from 'antd/lib/dropdown'\r\nimport Icon from 'antd/lib/icon'\r\nimport CellByTypes from \"../cells\";\r\nconst MenuItem = Menu.Item\r\n\r\nclass LayoutCellMenu extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      subMenuIsOpen: false,\r\n    }\r\n    const self = this\r\n    self.cellByTypes = {}\r\n    Object.keys(CellByTypes).forEach(key=>{\r\n      self.cellByTypes[key.toLowerCase()]=CellByTypes[key]\r\n    })\r\n  }\r\n\r\n  getOptions = () => {\r\n    let {cell} = this.props\r\n    return {...cell.options}\r\n  }\r\n  updateOptions = options => {\r\n    let cell = {...this.props.cell}\r\n    cell.options = {...cell.options, ...options}\r\n    this.props.onCellUpdate(cell)\r\n  }\r\n\r\n\r\n  handleConfigCell = () => {\r\n    this.updateOptions({\r\n      ...this.getOptions(),\r\n      showConfig: true,\r\n    })\r\n  }\r\n\r\n  handleDeleteCell = () => {\r\n    const {onDelete, cell} = this.props\r\n    onDelete(cell.i)\r\n  }\r\n\r\n  handleCloneCell = () => {\r\n    let {onClone, cell} = this.props\r\n    cell = {...cell}\r\n    cell['y'] = cell['y'] + 1\r\n    onClone(cell)\r\n  }\r\n\r\n  editMenu = (prefixCls) => {\r\n    const self = this\r\n    const {\r\n      cell,\r\n      onCellUpdate,\r\n    } = this.props\r\n    const Config = (cell && cell.type && this.cellByTypes[cell.type.toLowerCase()])?this.cellByTypes[cell.type.toLowerCase()].CONFIG:null\r\n    const menu = <Menu onClick={(e)=>{\r\n      switch (e.key) {\r\n        case 'config':\r\n          self.handleConfigCell()\r\n          break\r\n        case 'clone':\r\n          self.handleCloneCell()\r\n          break\r\n        case 'delete':\r\n          self.handleDeleteCell()\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    }}>\r\n      {!!Config &&\r\n      <MenuItem key=\"config\">\r\n        配置\r\n        <Config cell={cell} onCellUpdate={onCellUpdate}/>\r\n      </MenuItem>\r\n      }\r\n      <MenuItem key=\"clone\">\r\n        克隆\r\n      </MenuItem>\r\n      <MenuItem key=\"delete\">\r\n        删除\r\n      </MenuItem>\r\n    </Menu>\r\n    return <Dropdown\r\n      overlay={menu}\r\n      trigger={['click']}\r\n      placement={'bottomRight'}\r\n      className={`${prefixCls}--button`}\r\n      overlayClassName={`${prefixCls}--dropdown-menu`}\r\n      getPopupContainer={self.props.getPopupContainer}\r\n    >\r\n      <Icon type=\"edit\" />\r\n    </Dropdown>\r\n  }\r\n\r\n  renderMenu = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      isEditable,\r\n    } = this.props\r\n    if (!isEditable) {\r\n      return\r\n    }\r\n    const prefixCls = getPrefixCls('layout-cell-context', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n    >\r\n      {this.editMenu(prefixCls)}\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderMenu}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLayoutCellMenu.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  isEditable: PropTypes.bool.isRequired,\r\n  getPopupContainer: PropTypes.func.isRequired,\r\n  onClone: PropTypes.func.isRequired,\r\n  onDelete: PropTypes.func.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default LayoutCellMenu","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport classnames from 'classnames'\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass LayoutCellHeader extends Component {\r\n\r\n  renderLayoutCellHeader = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      isEditable,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('layout-cell-header', customizePrefixCls);\r\n    const cellPrefixCls = getPrefixCls('layout-cell', customizePrefixCls);\r\n    const draggable= `${cellPrefixCls}--draggable`\r\n    const headerDraggable= `${prefixCls}--draggable`\r\n    const extraClassname = {}\r\n    extraClassname[draggable] = isEditable\r\n    extraClassname[headerDraggable] = isEditable\r\n    return <div\r\n      className={classnames(`${prefixCls}`, { ...extraClassname })}\r\n    >\r\n        {this.cellName(prefixCls)}\r\n        {this.headingBar(prefixCls)}\r\n    </div>\r\n  }\r\n\r\n  cellName = (prefixCls) => {\r\n    const {\r\n      cellName,\r\n    } = this.props\r\n    const isDefault= `${prefixCls}-name__default`\r\n    const extraClassname = {}\r\n    extraClassname[isDefault] = !cellName || cellName.trim() === ''\r\n    const className = classnames(`${prefixCls}-name`, {...extraClassname})\r\n    return (\r\n      <span className={className}>\r\n        {cellName || '未命名'}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  headingBar = (prefixCls) => {\r\n    const {isEditable} = this.props\r\n    if (isEditable) {\r\n      return (\r\n        <Fragment>\r\n          <div className={`${prefixCls}--header-bar`} />\r\n          <div className={`${prefixCls}--header-dragger`} />\r\n        </Fragment>\r\n      )\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderLayoutCellHeader}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLayoutCellHeader.propTypes = {\r\n  cellName: PropTypes.string,\r\n  isEditable: PropTypes.bool.isRequired,\r\n  cell: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default LayoutCellHeader","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport LayoutCellMenu from \"./LayoutCellMenu\";\r\nimport LayoutCellHeader from \"./LayoutCellHeader\";\r\n\r\nclass LayoutCell extends Component {\r\n\r\n  renderLayoutCell = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      isEditable,\r\n      cell,\r\n      onCloneCell,\r\n      onCellUpdate,\r\n      onDeleteCell,\r\n      children,\r\n    } = this.props\r\n    const self = this\r\n    const prefixCls = getPrefixCls('layout-cell', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n      ref={(ref)=>{self.container=ref}}\r\n    >\r\n      <LayoutCellMenu\r\n        cell={cell}\r\n        isEditable={isEditable}\r\n        dataExists={false}\r\n        onClone={onCloneCell}\r\n        onDelete={onDeleteCell}\r\n        onCellUpdate={onCellUpdate}\r\n        getPopupContainer={()=>{\r\n          return self.container\r\n        }}\r\n      />\r\n      <LayoutCellHeader cell={cell} cellName={cell.name} isEditable={isEditable} />\r\n      <div className={`${prefixCls}-body`}>{children}</div>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    // console.log('LayoutCell render()')\r\n    return <ConfigConsumer>{this.renderLayoutCell}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLayoutCell.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n  onDeleteCell: PropTypes.func.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n  onCloneCell: PropTypes.func.isRequired,\r\n  isEditable: PropTypes.bool.isRequired,\r\n}\r\n\r\nexport default LayoutCell","import React, {Component, Fragment} from 'react'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport LayoutCell from \"./LayoutCell\";\r\nimport CellByTypes from \"../cells\";\r\nimport { connect } from 'react-redux'\r\nimport {getCommandSendDelay, getCommandSendInterval} from \"../../selectors\";\r\nconst Unknown = CellByTypes.Unknown\r\nclass Layout extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.cellByTypes = {}\r\n    let self = this\r\n    Object.keys(CellByTypes).forEach(key=>{\r\n      self.cellByTypes[key.toLowerCase()]=CellByTypes[key]\r\n    })\r\n  }\r\n  renderLayout = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      isEditable,\r\n      cell,\r\n      onCloneCell,\r\n      onDeleteCell,\r\n      sendCmd,\r\n      onCellUpdate,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('layout', customizePrefixCls);\r\n    return <LayoutCell\r\n      cell={cell}\r\n      onCellUpdate={onCellUpdate}\r\n      onDeleteCell={onDeleteCell}\r\n      sendCmd={sendCmd}\r\n      onCloneCell={onCloneCell}\r\n      isEditable={isEditable}\r\n    >\r\n      {this.renderLayoutBody(prefixCls)}\r\n    </LayoutCell>\r\n  }\r\n\r\n  renderLayoutBody(prefixCls){\r\n    const {\r\n      cell,\r\n      onCellUpdate,\r\n      sendCmd,\r\n      commandSendInterval,\r\n      commandSendDelay\r\n    } = this.props\r\n    if(!cell.type || !this.cellByTypes[cell.type.toLowerCase()]){\r\n      return <Unknown cell={cell} onCellUpdate={onCellUpdate} sendCmd={sendCmd}/>\r\n    }else{\r\n      const CellComponent = this.cellByTypes[cell.type.toLowerCase()]\r\n      if(!CellComponent.CONFIG){\r\n        return <CellComponent\r\n          cell={cell}\r\n          onCellUpdate={onCellUpdate}\r\n          sendCmd={sendCmd}\r\n          commandSendInterval={commandSendInterval}\r\n          commandSendDelay={commandSendDelay}\r\n        />\r\n      }else{\r\n        return <Fragment>\r\n          <CellComponent\r\n            cell={cell}\r\n            onCellUpdate={onCellUpdate}\r\n            sendCmd={sendCmd}\r\n            commandSendInterval={commandSendInterval}\r\n            commandSendDelay={commandSendDelay}\r\n          />\r\n          <CellComponent.CONFIG cell={cell} onCellUpdate={onCellUpdate} />\r\n        </Fragment>\r\n      }\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return <ConfigConsumer>{this.renderLayout}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLayout.propTypes = {\r\n  cell: PropTypes.object.isRequired,\r\n  onDeleteCell: PropTypes.func.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n  onCloneCell: PropTypes.func.isRequired,\r\n  onZoom: PropTypes.func.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  isEditable: PropTypes.bool.isRequired,\r\n}\r\n\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return {\r\n    commandSendInterval: getCommandSendInterval(state),\r\n    commandSendDelay: getCommandSendDelay(state)\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n)(Layout)\r\n\r\n","import React, {Component} from 'react'\r\nimport ReactGridLayout, {WidthProvider} from 'react-grid-layout'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport PropTypes from \"prop-types\";\r\nimport Layout from \"../components/Layout\";\r\nimport windowSize from 'react-window-size';\r\n\r\n\r\nconst GridLayout = WidthProvider(ReactGridLayout)\r\n\r\nclass LayoutRenderer extends Component {\r\n  componentDidMount() {\r\n    // console.error(\"LayoutRenderer componentDidMount\")\r\n  }\r\n\r\n  handleLayoutChange = (layout) => {\r\n    if (!this.props.onPositionChange) {\r\n      return\r\n    }\r\n    const self = this\r\n    let changed = false\r\n    const newCells = self.props.cells.map(cell => {\r\n      const l = layout.find(ly => {\r\n        return ly.i == cell.i\r\n      })\r\n      if(!l){\r\n        return\r\n      }\r\n      if (\r\n        cell.x !== l.x ||\r\n        cell.y !== l.y ||\r\n        cell.h !== l.h ||\r\n        cell.w !== l.w\r\n      ) {\r\n        changed = true\r\n      }\r\n      const newLayout = {\r\n        x: l.x,\r\n        y: l.y,\r\n        h: l.h,\r\n        w: l.w,\r\n      }\r\n      return {\r\n        ...cell,\r\n        ...newLayout,\r\n      }\r\n    })\r\n\r\n    if (changed) {\r\n      this.props.onPositionChange(newCells)\r\n    }\r\n  }\r\n\r\n  renderLayoutRender = ({getPrefixCls}) => {\r\n    const {\r\n      prefixCls: customizePrefixCls,\r\n      cells,\r\n      onZoom,\r\n      isEditable,\r\n      onDeleteCell,\r\n      onCloneCell,\r\n      sendCmd,\r\n      onCellUpdate,\r\n      layoutCols,\r\n      layoutMargin,\r\n      layoutContainerPadding,\r\n      layoutRowHeight,\r\n      windowWidth,\r\n      windowHeight,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('layout-renderer', customizePrefixCls)\r\n    const draggableCls = `.${getPrefixCls('layout-cell', customizePrefixCls)}--draggable`\r\n    let rowHeight = Math.floor(windowWidth/layoutCols)\r\n    let rowCount = Math.floor((windowHeight-50-40)/rowHeight)\r\n    // if(rowCount <= 1){\r\n    //   rowCount = 1\r\n    // }\r\n    // rowHeight = Math.floor((windowHeight-50-40)/rowCount)\r\n    return <div className={`${prefixCls} ${isEditable?'editable':\"\"}`}>\r\n      <GridLayout\r\n        layout={cells}\r\n        cols={layoutCols}\r\n        rowHeight={rowHeight}\r\n        margin={[layoutMargin, layoutMargin]}\r\n        containerPadding={[layoutContainerPadding, layoutContainerPadding]}\r\n        useCSSTransforms={false}\r\n        onLayoutChange={this.handleLayoutChange}\r\n        draggableHandle={draggableCls}\r\n        isDraggable={true}\r\n        isResizable={true}\r\n      >\r\n        {cells.map(cell=>(<div\r\n          key={cell.i}\r\n          className={isEditable?\"editable\":\"\"}\r\n        >\r\n          <Layout\r\n            cell={cell}\r\n            onDeleteCell={onDeleteCell}\r\n            onCloneCell={onCloneCell}\r\n            onCellUpdate={onCellUpdate}\r\n            onZoom={onZoom}\r\n            sendCmd={sendCmd}\r\n            isEditable={isEditable}\r\n          />\r\n        </div>))}\r\n      </GridLayout>\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    // console.log('LayoutRenderer render()')\r\n    return <ConfigConsumer>{this.renderLayoutRender}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nLayoutRenderer.propTypes = {\r\n  cells: PropTypes.array.isRequired,\r\n  layoutCols: PropTypes.number.isRequired,\r\n  windowWidth: PropTypes.number.isRequired,\r\n  windowHeight: PropTypes.number.isRequired,\r\n  layoutRowHeight: PropTypes.number.isRequired,\r\n  layoutMargin: PropTypes.number.isRequired,\r\n  layoutContainerPadding: PropTypes.number.isRequired,\r\n  isEditable: PropTypes.bool.isRequired,\r\n  onZoom: PropTypes.func.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  onCloneCell: PropTypes.func.isRequired,\r\n  onDeleteCell: PropTypes.func.isRequired,\r\n  onPositionChange: PropTypes.func.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default windowSize(LayoutRenderer)","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { withSize } from 'react-sizeme'\r\n\r\n\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport DashboardEmpty from \"./DashboardEmpty\";\r\nimport LayoutRenderer from \"../shared/containers/LayoutRenderer\";\r\nimport {sendCmd} from \"../actions\";\r\n\r\nclass Dashboard extends Component {\r\n  renderDashboard = ({getPrefixCls}) => {\r\n    let {\r\n      dashboard,\r\n      prefixCls: customizePrefixCls,\r\n      onZoom,\r\n      onCloneCell,\r\n      onDeleteCell,\r\n      onPositionChange,\r\n      sendCmd,\r\n      onCellUpdate,\r\n      layoutCols,\r\n      layoutRowHeight,\r\n      layoutMargin,\r\n      layoutContainerPadding,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('dashboard', customizePrefixCls);\r\n    return <div\r\n      className={`${prefixCls}`}\r\n      id={'dashboard'}\r\n    >\r\n      {!!dashboard.cells && dashboard.cells.length ?(<LayoutRenderer\r\n        layoutCols={layoutCols}\r\n        layoutRowHeight={layoutRowHeight}\r\n        layoutMargin={layoutMargin}\r\n        layoutContainerPadding={layoutContainerPadding}\r\n\r\n        cells={dashboard.cells}\r\n        templates={[]}\r\n        manualRefresh={10}\r\n        onCellUpdate={onCellUpdate}\r\n        isEditable={!!dashboard.editable}\r\n        onZoom={onZoom}\r\n        sendCmd={sendCmd}\r\n        onCloneCell={onCloneCell}\r\n        onDeleteCell={onDeleteCell}\r\n        onPositionChange={onPositionChange}\r\n      />) : (<DashboardEmpty\r\n        dashboard={dashboard}\r\n        onAddCell={()=>{}}\r\n      />)\r\n      }\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    // console.log('Dashboard render()')\r\n    return <ConfigConsumer>{this.renderDashboard}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nDashboard.propTypes = {\r\n  layoutCols: PropTypes.number.isRequired,\r\n  layoutRowHeight: PropTypes.number.isRequired,\r\n  layoutMargin: PropTypes.number.isRequired,\r\n  layoutContainerPadding: PropTypes.number.isRequired,\r\n  dashboard: PropTypes.object.isRequired,\r\n  inPresentationMode: PropTypes.bool.isRequired,\r\n  onPositionChange: PropTypes.func.isRequired,\r\n  onCellUpdate: PropTypes.func.isRequired,\r\n  onDeleteCell: PropTypes.func.isRequired,\r\n  onCloneCell: PropTypes.func.isRequired,\r\n  onAddCell: PropTypes.func.isRequired,\r\n  sendCmd: PropTypes.func.isRequired,\r\n  manualRefresh: PropTypes.number.isRequired,\r\n  timeRange: PropTypes.object.isRequired,\r\n  onZoom: PropTypes.func.isRequired,\r\n  setScrollTop: PropTypes.func.isRequired,\r\n  inView: PropTypes.func.isRequired,\r\n}\r\n\r\n// export default withSize({monitorHeight:true})(Dashboard)\r\nexport default Dashboard\r\n\r\n","import React, {Component} from 'react';\r\nimport Dashboard from \"../components/Dashboard\";\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  getDashboard,\r\n  getDashboardCells,\r\n  getLayoutCols, getLayoutContainerPadding,\r\n  getLayoutMargin,\r\n  getLayoutRowHeight\r\n} from \"../reducers/selectors\";\r\nimport {updateDashboard, createCell, deleteCell, sendCmd} from \"../actions\";\r\nimport PropTypes from \"prop-types\";\r\nimport {getCurrentDashboardAndCells} from \"../selectors\";\r\n\r\nclass DashboardPage extends Component {\r\n\r\n  onPositionChange = (cells) =>{\r\n    //此处一定要做复制操作，不能直接Return原dashboard和cells\r\n    let {dashboard, updateDashboard} = this.props\r\n    dashboard = {...dashboard, cells:[...cells]}\r\n    updateDashboard(dashboard)\r\n  }\r\n  onCellUpdate = (cell) => {\r\n    //此处一定要做复制操作，不能直接Return原dashboard和cells\r\n    let {dashboard, updateDashboard} = this.props\r\n    let cells = [...dashboard.cells]\r\n    cells.forEach((c, i)=>{\r\n      if(cell.i === c.i){\r\n        cells[i] = {...cell}\r\n      }\r\n    })\r\n    dashboard = {...dashboard, cells}\r\n    updateDashboard(dashboard)\r\n  }\r\n  onAddCell = (cell) => {\r\n    console.log(cell)\r\n    cell = {...cell}\r\n    delete cell['i']\r\n    this.props.createCell(this.props.dashboard.i, cell)\r\n  }\r\n  onDeleteCell = (cellId) => {\r\n    this.props.deleteCell(this.props.dashboard.i, cellId)\r\n  }\r\n  render(){\r\n    // console.log('DashboardPage render()')\r\n    const {\r\n      dashboard,\r\n      cells,\r\n      layoutCols,\r\n      layoutRowHeight,\r\n      layoutMargin,\r\n      layoutContainerPadding,\r\n      sendCmd,\r\n    } = this.props\r\n    return <Dashboard\r\n      dashboard={dashboard}\r\n      layoutCols={layoutCols}\r\n      layoutRowHeight={layoutRowHeight}\r\n      layoutMargin={layoutMargin}\r\n      layoutContainerPadding={layoutContainerPadding}\r\n\r\n      inPresentationMode={false}\r\n      onPositionChange={this.onPositionChange}\r\n      onCellUpdate={this.onCellUpdate}\r\n      onDeleteCell={this.onDeleteCell}\r\n      onCloneCell={this.onAddCell}\r\n      onAddCell={this.onAddCell}\r\n      sendCmd={sendCmd}\r\n      onSummonOverlayTechnologies={()=>{}}\r\n      manualRefresh={0}\r\n      timeRange={{}}\r\n      onZoom={()=>{}}\r\n      setScrollTop={()=>{}}\r\n      inView={()=>{}}\r\n    />\r\n  }\r\n}\r\n\r\nconst makeMapStateToProps = () => {\r\n\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n  const {match:{params:{id}}} = props\r\n  return {\r\n    dashboard: getCurrentDashboardAndCells(state),\r\n    layoutCols: getLayoutCols(state),\r\n    layoutRowHeight: getLayoutRowHeight(state),\r\n    layoutMargin: getLayoutMargin(state),\r\n    layoutContainerPadding: getLayoutContainerPadding(state)\r\n  }\r\n}\r\n\r\n\r\nDashboard.propTypes = {\r\n  dashboard: PropTypes.object.isRequired,\r\n  // cells: PropTypes.array.isRequired,\r\n  // inPresentationMode: PropTypes.bool.isRequired,\r\n  // onPositionChange: PropTypes.func.isRequired,\r\n  // onDeleteCell: PropTypes.func.isRequired,\r\n  // onCloneCell: PropTypes.func.isRequired,\r\n  // onAddCell: PropTypes.func.isRequired,\r\n  // onSummonOverlayTechnologies: PropTypes.func.isRequired,\r\n  // manualRefresh: PropTypes.number.isRequired,\r\n  // timeRange: PropTypes.object.isRequired,\r\n  // onZoom: PropTypes.func.isRequired,\r\n  // setScrollTop: PropTypes.func.isRequired,\r\n  // inView: PropTypes.func.isRequired,\r\n  layoutCols: PropTypes.number.isRequired,\r\n  layoutRowHeight: PropTypes.number.isRequired,\r\n  layoutMargin: PropTypes.number.isRequired,\r\n  layoutContainerPadding: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    updateDashboard,\r\n    sendCmd,\r\n    createCell,\r\n    deleteCell\r\n  }\r\n)(DashboardPage)\r\n","import React from 'react';\r\n\r\nfunction ConfigurationPage() {\r\n  return (\r\n    <div className=\"App\">\r\n      Configuration\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConfigurationPage;\r\n","import React from 'react'\r\nimport { Route, Switch } from 'react-router'\r\nimport DashboardPage from './containers/DashboardPage'\r\nimport ConfigurationPage from './containers/ConfigurationPage'\r\n\r\nexport default (\r\n  <Switch>\r\n    <Route exact path=\"/\"\r\n           component={DashboardPage} />\r\n    <Route path=\"/configuration\"\r\n           component={ConfigurationPage} />\r\n    <Route path=\"/dashboards/:id\"\r\n           component={DashboardPage} />\r\n  </Switch>\r\n)","import React, {Component} from \"react\"\r\nimport PropTypes from 'prop-types'\r\nimport Form from \"antd/lib/form\"\r\nimport Modal from 'antd/lib/modal'\r\nimport Radio from 'antd/lib/radio'\r\nimport Icon from 'antd/lib/icon'\r\nimport Input from 'antd/lib/input'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport Cells from '../shared/cells/index'\r\n\r\nconst FormItem = Form.Item\r\nconst RadioGroup = Radio.Group\r\nconst RadioButton = Radio.Button\r\n\r\nclass CreateCellModal extends  Component {\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const {createCell} = this.props\r\n    this.props.form.validateFields((err, fieldsValue) => {\r\n      if (err) {\r\n        console.error(err)\r\n        return\r\n      }\r\n      createCell(fieldsValue)\r\n    })\r\n  }\r\n  render() {\r\n    const {\r\n      visible,\r\n      toggleCreateCellModal,\r\n      prefixCls,\r\n      creatingCellStatus\r\n    } = this.props\r\n    const { getFieldDecorator, getFieldValue } = this.props.form;\r\n    const selectType = getFieldValue('type')\r\n    return <Modal\r\n      title=\"添加面板\"\r\n      visible={!!visible}\r\n      width={\"75%\"}\r\n      okText={\"创建\"}\r\n      cancelText={\"取消\"}\r\n      onOk={this.handleSubmit}\r\n      onCancel={toggleCreateCellModal}\r\n      wrapClassName={`${prefixCls}-create-cell-modal`}\r\n    >\r\n      <Form>\r\n        <FormItem label=\"类型\" className={`${prefixCls}-type-selector`}>\r\n          {getFieldDecorator('type', {\r\n            rules: [{ type: 'string', required: true, message: '请选择面板类型!' }]\r\n          })(\r\n            <RadioGroup disabled={!!creatingCellStatus.creatingCell}>\r\n              {Object.keys(Cells).map(key=>{\r\n                if(key !== \"Unknown\"){\r\n                  const ICON = Cells[key].ICON?Cells[key].ICON:(props)=><Icon type=\"block\" {...props}/>\r\n                  return <RadioButton value={key} key={key}>\r\n                    <div>\r\n                      <div>\r\n                      <ICON/>\r\n                      </div>\r\n                      <div className={`${prefixCls}-type-name`}>\r\n                        {!!Cells[key].NAME?Cells[key].NAME:key}\r\n                      </div>\r\n                    </div>\r\n                  </RadioButton>\r\n                }\r\n              })}\r\n            </RadioGroup>,\r\n          )}\r\n        </FormItem>\r\n        <FormItem label=\"名称\" className={`${prefixCls}-input-col`}>\r\n          {getFieldDecorator('name', {\r\n            rules: [{ type: 'string', required: true, message: '请输入面板名称' }]\r\n          })(<Input size={\"small\"} disabled={!!creatingCellStatus.creatingCell}/>)}\r\n        </FormItem>\r\n        <FormItem label=\"宽度\" className={`${prefixCls}-input-col`}>\r\n          {getFieldDecorator('w', {\r\n            initialValue: (!!Cells[selectType] && !!Cells[selectType].WIDTH)?Cells[selectType].WIDTH:24,\r\n            rules: [{ type: 'integer', required: true, message: '请输入面板宽度' }]\r\n          })(<InputNumber  max={48} min={3} step={1}  size={\"small\"} disabled={!!creatingCellStatus.creatingCell}/>)}\r\n        </FormItem>\r\n        <FormItem label=\"高度\" className={`${prefixCls}-input-col`}>\r\n          {getFieldDecorator('h', {\r\n            initialValue: (!!Cells[selectType] && !!Cells[selectType].HEIGHT)?Cells[selectType].HEIGHT:12,\r\n            rules: [{ type: 'integer', required: true, message: '请输入面板高度' }]\r\n          })(<InputNumber max={48} min={3} step={1} size={\"small\"} disabled={!!creatingCellStatus.creatingCell}/>)}\r\n        </FormItem>\r\n      </Form>\r\n      <div className={`${prefixCls}-status`}>\r\n      {!!creatingCellStatus.creatingCell && <div className={\"info\"}>\r\n       创建中...\r\n      </div>}\r\n      {!!creatingCellStatus.creatingCellFailure && <div className={\"error\"}>\r\n        创建错误: {creatingCellStatus.creatingCellFailure}\r\n      </div>}\r\n      {!!creatingCellStatus.creatingCellSuccess && <div className={\"success\"}>\r\n        创建成功\r\n      </div>}\r\n      </div>\r\n    </Modal>\r\n  }\r\n}\r\n\r\n\r\nCreateCellModal.propTypes = {\r\n  createCell: PropTypes.func.isRequired,\r\n  toggleCreateCellModal: PropTypes.func.isRequired,\r\n  visible: PropTypes.bool,\r\n  prefixCls: PropTypes.string.isRequired,\r\n  creatingCellStatus: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Form.create()(CreateCellModal)\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport Select from \"antd/lib/select\"\r\nimport Checkbox from \"antd/lib/checkbox\"\r\nimport throttle from \"lodash/throttle\"\r\nimport {\r\n  updateMotionVelPercent,\r\n  updateToolId,\r\n  updateWorkObjectId,\r\n  updateCoordinateId,\r\n  updateDashboard,\r\n  createCell,\r\n  navigate,\r\n  sendCmd,\r\n  toggleCreateCellModal\r\n} from '../actions'\r\n\r\nimport {\r\n  getCommandSendInterval,\r\n\r\n  getWorkObjectIds,\r\n  getToolIds,\r\n  getCurrentMotionVelPercent,\r\n\r\n  getCurrentWorkObjectId,\r\n  getCurrentCoordinateId,\r\n  getCurrentToolId,\r\n  getDashboards,\r\n  getPathname,\r\n  getCreatingCellStatus\r\n} from \"../selectors\";\r\n\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport Menu from 'antd/lib/menu';\r\nimport Icon from 'antd/lib/icon';\r\nimport Slider from 'antd/lib/slider'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport CreateCellModal from \"../components/CreateCellModal\";\r\n\r\n\r\nconst MenuItem = Menu.Item\r\nconst Option = Select.Option\r\nconst OptGroup = Select.OptGroup\r\n\r\n\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    fullscreen: false\r\n  }\r\n  escFunction = (event) =>{\r\n    if(event.keyCode === 27) {\r\n      if(!!document.fullscreenElement){\r\n        document.exitFullscreen()\r\n      }\r\n    }\r\n  }\r\n  onFullscreenChange = (event) => {\r\n    if(!!document.fullscreenElement){\r\n      this.setState({fullscreen: true})\r\n    }else{\r\n      this.setState({fullscreen: false})\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    const {interval, sendCmd} = this.props\r\n    this.throttleSendCmd = throttle(sendCmd, interval)\r\n    document.addEventListener(\"fullscreenchange\", this.onFullscreenChange, false)\r\n    document.addEventListener(\"keydown\", this.escFunction, false);\r\n  }\r\n  componentWillUnmount(){\r\n    document.removeEventListener(\"keydown\", this.escFunction, false);\r\n    document.removeEventListener(\"fullscreenchange\", this.onFullscreenChange, false)\r\n  }\r\n\r\n  handleClick = e => {\r\n    this.props.navigate(e.key)\r\n  }\r\n\r\n  createCell = (cell) => {\r\n    let {createCell, pathname, dashboard} =  this.props\r\n    if(dashboard){\r\n      createCell(dashboard.i, cell)\r\n    }\r\n  }\r\n\r\n  toggleLock = () => {\r\n    let {updateDashboard, dashboard} = this.props\r\n    if(dashboard){\r\n      dashboard = {...dashboard, editable: !dashboard.editable}\r\n      updateDashboard(dashboard)\r\n    }\r\n  }\r\n\r\n  renderContent = ({getPrefixCls})=>{\r\n    let {\r\n      prefixCls: customizePrefixCls,\r\n      pathname,\r\n      dashboards,\r\n      dashboard,\r\n\r\n      workObjectIds,\r\n      toolIds,\r\n\r\n      updateMotionVelPercent,\r\n      updateToolId,\r\n      updateCoordinateId,\r\n      updateWorkObjectId,\r\n\r\n      toolId,\r\n      coordinateId,\r\n      workObjectId,\r\n\r\n      motionVelPercent,\r\n      toggleCreateCellModal,\r\n      creatingCellStatus\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('header', customizePrefixCls)\r\n    if(pathname === '/' && dashboards.length > 0){\r\n      pathname = `/dashboards/${dashboards[0].i}`\r\n    }\r\n    return <div\r\n      className={prefixCls}\r\n    >\r\n\r\n      <Menu\r\n        onClick={this.handleClick}\r\n        selectedKeys={[pathname]}\r\n        mode=\"horizontal\"\r\n      >\r\n        {dashboards.map(d=>(\r\n          <MenuItem key={`/dashboards/${d.i}`}>\r\n            {d.name}\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n      <div\r\n        className={`${prefixCls}-actions`}\r\n        style={{\r\n          position: 'absolute',\r\n          right: 0,\r\n          top: 0,\r\n          display: 'inline-block'\r\n        }}\r\n      >\r\n        <Slider\r\n          tooltipVisible={false}\r\n          min={0}\r\n          max={100}\r\n          tipFormatter={(value)=>`${value}%`}\r\n          value={motionVelPercent}\r\n        onChange={(value)=>{\r\n            this.throttleSendCmd(`setvel --vel_percent=${value}`, 'setvel')\r\n            updateMotionVelPercent(value)\r\n          }}\r\n        />\r\n        <InputNumber\r\n          min={0}\r\n          max={100}\r\n          size={\"small\"}\r\n          value={motionVelPercent}\r\n          onChange={(value)=>{\r\n            this.throttleSendCmd(`setvel --vel_percent=${value}`, 'setvel')\r\n            updateMotionVelPercent(value)\r\n          }}\r\n        />\r\n        <Checkbox\r\n          checked={!!coordinateId}\r\n          onChange={(e)=>{\r\n            updateCoordinateId(e.target.checked?1:0)\r\n          }}\r\n        >外部工具</Checkbox>\r\n        <Select\r\n          size={\"small\"}\r\n          placeholder={\"选择工具坐标\"}\r\n          onChange={updateToolId}\r\n          value={toolId}\r\n        >\r\n          <OptGroup label={\"选择工具坐标系\"}>\r\n            {toolIds.map(id=> {\r\n              return <Option value={id} key={id}>工具坐标系{id}</Option>\r\n            })}\r\n          </OptGroup>\r\n        </Select>\r\n        <Select\r\n          size={\"small\"}\r\n          placeholder={\"选择工件坐标系\"}\r\n          onChange={updateWorkObjectId}\r\n          value={workObjectId}\r\n        >\r\n          <OptGroup label={\"选择工件坐标系\"}>\r\n          {workObjectIds.map(id=> {\r\n            return <Option value={id} key={id}>工件坐标系{id}</Option>\r\n          })}\r\n          </OptGroup>\r\n        </Select>\r\n        <Icon\r\n          className={`${(dashboard && dashboard.editable)?\"\":\"disabled\"}`}\r\n          type=\"block\" onClick={()=>{\r\n            if(dashboard && dashboard.editable){\r\n              toggleCreateCellModal()\r\n            }\r\n          }}\r\n        />\r\n        <Icon\r\n          type=\"lock\"\r\n          className={`${(dashboard && dashboard.editable)?\"\":\"info\"}`}\r\n          onClick={this.toggleLock}\r\n        />\r\n        {\r\n          !this.state.fullscreen && <Icon type=\"fullscreen\" onClick={()=>{\r\n            document.getElementById(\"body\").requestFullscreen()\r\n          }}/>\r\n        }\r\n        {\r\n          !!this.state.fullscreen && <Icon type=\"fullscreen-exit\" onClick={()=>{\r\n            document.exitFullscreen()\r\n          }}/>\r\n        }\r\n        <Icon type=\"sync\" onClick={()=>{\r\n          window.location.reload()\r\n        }}/>\r\n      </div>\r\n      <CreateCellModal\r\n        visible={creatingCellStatus.showCreateCellModal}\r\n        toggleCreateCellModal={toggleCreateCellModal}\r\n        createCell={this.createCell}\r\n        creatingCellStatus={creatingCellStatus}\r\n        prefixCls={prefixCls}\r\n      >\r\n      </CreateCellModal>\r\n    </div>\r\n  }\r\n  render(){\r\n    // console.log('Header render()')\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n\r\n}\r\n\r\nHeader.propTypes = {\r\n  className: PropTypes.string,\r\n  pathname: PropTypes.string.isRequired,\r\n  dashboard: PropTypes.object.isRequired,\r\n  toolIds: PropTypes.array.isRequired,\r\n  workObjectIds: PropTypes.array.isRequired,\r\n\r\n  toolId: PropTypes.number,\r\n  workObjectId: PropTypes.number,\r\n  coordinateId: PropTypes.number,\r\n\r\n  navigate: PropTypes.func.isRequired,\r\n  createCell: PropTypes.func.isRequired,\r\n  updateDashboard: PropTypes.func.isRequired,\r\n  updateMotionVelPercent: PropTypes.func.isRequired,\r\n  updateToolId: PropTypes.func.isRequired,\r\n  updateCoordinateId: PropTypes.func.isRequired,\r\n}\r\n\r\n\r\nexport const getHeaderState = createSelector(\r\n  getDashboards,\r\n  getPathname,\r\n  getToolIds,\r\n  getWorkObjectIds,\r\n\r\n  getCurrentToolId,\r\n  getCurrentWorkObjectId,\r\n  getCurrentCoordinateId,\r\n  getCurrentMotionVelPercent,\r\n  getCommandSendInterval,\r\n  getCreatingCellStatus,\r\n  (dashboards, pathname, toolIds, workObjectIds, toolId, workObjectId, coordinateId, motionVelPercent, interval, creatingCellStatus) => {\r\n    let dashboard = null\r\n    if(pathname !== '/' && pathname.indexOf('/dashboards/') !== -1){\r\n      const id = pathname.replace(\"/dashboards/\", \"\")\r\n      dashboard = dashboards && dashboards.filter(d=>d.i === id)[0]\r\n    }\r\n    return {\r\n      dashboards,\r\n      pathname,\r\n      toolIds,\r\n      workObjectIds,\r\n      toolId,\r\n      workObjectId,\r\n      coordinateId,\r\n      motionVelPercent,\r\n      interval,\r\n      dashboard: dashboard || (dashboards && dashboards[0]),\r\n      creatingCellStatus,\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state) {\r\n  return getHeaderState(state)\r\n}\r\n\r\nexport default  connect(mapStateToProps, {\r\n  createCell,\r\n  navigate,\r\n  updateDashboard,\r\n  updateMotionVelPercent,\r\n  updateToolId,\r\n  updateCoordinateId,\r\n  updateWorkObjectId,\r\n  sendCmd,\r\n  toggleCreateCellModal\r\n})(Header)\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport Select from \"antd/lib/select\"\r\n\r\nimport {\r\n  getCurrentCommand, getWebsocketConnected, getStateCode, getCurrentPlan\r\n} from \"../selectors\";\r\n\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport Menu from 'antd/lib/menu';\r\nimport Icon from 'antd/lib/icon';\r\nimport Slider from 'antd/lib/slider'\r\nimport InputNumber from 'antd/lib/input-number'\r\nimport Tooltip from 'antd/lib/tooltip'\r\n\r\nconst MenuItem = Menu.Item\r\nconst Option = Select.Option\r\nconst OptGroup = Select.OptGroup\r\n\r\n\r\n\r\nclass Footer extends Component {\r\n\r\n  renderContent = ({getPrefixCls})=>{\r\n    let {\r\n      prefixCls: customizePrefixCls,\r\n      currentCommand,\r\n      websocketConnected,\r\n      stateCode,\r\n      currentPlan,\r\n    } = this.props\r\n    const prefixCls = getPrefixCls('footer', customizePrefixCls)\r\n    const colors = {\r\n      100:\"#AAAAAA\",\r\n      200:\"#FF851B\",\r\n      300:\"#FF4136\",\r\n      400:\"#0074D9\",\r\n      500:\"#01FF70\"\r\n    }\r\n    const names = {\r\n      100:\"去使能\",\r\n      200:\"手动\",\r\n      300:\"准备自动\",\r\n      400:\"自动\",\r\n      500:\"错误停目\"\r\n    }\r\n    const color = colors[stateCode || 100]\r\n    const name = names[stateCode]\r\n    let commandClass = 'success'\r\n    if(currentCommand.return_code===0){\r\n      commandClass='success'\r\n    }else if(!!currentCommand.return_code){\r\n      commandClass='error'\r\n    }\r\n    currentPlan = !!currentPlan && currentPlan !== 'none'\r\n    return <div\r\n      className={prefixCls}\r\n    >\r\n      <div\r\n        className={`${prefixCls}-command ${commandClass}`}\r\n      >\r\n        {!!currentCommand.cmd && <div\r\n          className={`${prefixCls}-cmd ${currentCommand.isRunning && `${prefixCls}-cmd-running`}`}\r\n        >\r\n          <Tooltip placement=\"top\" title={'运行命令'}>\r\n            <Icon type=\"code\" />\r\n          </Tooltip>\r\n          <span>{currentCommand.cmd}</span>\r\n        </div>\r\n        }\r\n        {!!currentCommand.cmd_response_time && <div className={`${prefixCls}-cmd-response-time`}>\r\n          <Tooltip placement=\"top\" title={'返回时间'}>\r\n            <Icon type=\"clock-circle\" />\r\n          </Tooltip>\r\n          <span>{currentCommand.cmd_response_time}ms</span>\r\n        </div>\r\n        }\r\n        {currentCommand.return_code !== undefined && <div className={`${prefixCls}-return-code`}>\r\n          <Tooltip placement=\"top\" title={'返回代码'}>\r\n            <Icon type=\"bulb\"/>\r\n          </Tooltip>\r\n          <span>{currentCommand.return_code}</span>\r\n        </div>\r\n        }\r\n        {!!currentCommand.return_message && <div className={`${prefixCls}-return-message`}>\r\n          <Tooltip placement=\"top\" title={'返回消息'}>\r\n            <Icon type=\"message\"/>\r\n          </Tooltip>\r\n          <span>{currentCommand.return_message}</span>\r\n        </div>\r\n        }\r\n      </div>\r\n      <div\r\n        className={`${prefixCls}-status`}\r\n      >\r\n        <div>\r\n          {!!websocketConnected && <Tooltip placement=\"top\" title={'Websocket'}>\r\n            <Icon type=\"wifi\" className={\"success\"} />\r\n          </Tooltip>\r\n          }\r\n          {!!websocketConnected &&\r\n          <span>已连接</span>\r\n          }\r\n          {!websocketConnected && <Tooltip placement=\"top\" title={'Websocket'}>\r\n            <Icon type=\"wifi\" className={\"danger\"} />\r\n          </Tooltip>\r\n          }\r\n          {!websocketConnected &&\r\n          <span>未连接</span>\r\n          }\r\n        </div>\r\n        <div\r\n          className={!!name ? \"info\": \"disabled\"}\r\n        >\r\n          <Tooltip placement=\"top\" title={'State Code'}>\r\n          <Icon\r\n            style={{\r\n              color: color,\r\n              fill: color\r\n            }}\r\n            fill={color}\r\n            type=\"check-circle\" className=\"info\" theme=\"filled\"\r\n          >\r\n          </Icon>\r\n          </Tooltip>\r\n          <span>{name || \"无状态\"}</span>\r\n        </div>\r\n        <div\r\n          className={!!currentPlan ? \"success\": \"disabled\"}\r\n        >\r\n          <Tooltip placement=\"top\" title={'Current Plan'}>\r\n            <Icon\r\n              style={{\r\n                color: color,\r\n                fill: color\r\n              }}\r\n              fill={color}\r\n              type=\"setting\"\r\n              theme=\"filled\"\r\n              spin={!!currentPlan}\r\n            >\r\n            </Icon>\r\n          </Tooltip>\r\n          <span>{!!currentPlan?'运动中':'停止'}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n  render(){\r\n    // console.log('Footer render()')\r\n    return <ConfigConsumer>{this.renderContent}</ConfigConsumer>\r\n  }\r\n\r\n}\r\n\r\nFooter.propTypes = {\r\n  currentCommand: PropTypes.object.isRequired,\r\n}\r\n\r\n\r\nexport const getFooterState = createSelector(\r\n  getCurrentCommand,\r\n  getWebsocketConnected,\r\n  getStateCode,\r\n  getCurrentPlan,\r\n  (currentCommand, websocketConnected, stateCode, currentPlan) => {\r\n    return {\r\n      currentCommand,\r\n      websocketConnected,\r\n      stateCode,\r\n      currentPlan\r\n    }\r\n  }\r\n)\r\n\r\nfunction mapStateToProps(state) {\r\n  return getFooterState(state)\r\n}\r\n\r\nexport default  connect(mapStateToProps, {\r\n})(Footer)\r\n","import React, {Component, Fragment} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport routes from '../routes'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Icon from 'antd/lib/icon'\r\nimport {getCurrentDashboard, getDashboards} from \"../selectors/config\";\r\nimport {\r\n  loadInterfaceConfig,\r\n  navigate,\r\n  resetErrorMessage,\r\n  updateRouterState,\r\n  startWebsocket,\r\n  stopWebsocket,\r\n  sendCmd,\r\n  createCell,\r\n  updateDashboard,\r\n} from '../actions'\r\nimport {ConfigConsumer} from 'antd/lib/config-provider'\r\nimport {getGetInterval, getXml, getWsUrl} from \"../selectors\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleDismissClick = this.handleDismissClick.bind(this)\r\n    this.getData()\r\n  }\r\n\r\n  getData(){\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.loadInterfaceConfig()\r\n    this.props.updateRouterState({\r\n      pathname: this.props.location.pathname,\r\n      params: this.props.params,\r\n    })\r\n    if(!!this.props.ws){\r\n      this.props.startWebsocket(this.props.ws)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalTimer)\r\n    this.props.stopWebsocket()\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    if (this.props.location.pathname !== nextProps.location.pathname)\r\n      this.props.updateRouterState({\r\n        pathname: nextProps.location.pathname,\r\n        params: nextProps.params,\r\n      })\r\n    if(this.props.ws !== nextProps.ws && !!nextProps.ws){\r\n      this.props.startWebsocket(nextProps.ws)\r\n    }\r\n    if(this.props.getInterval !== nextProps.getInterval && !!nextProps.getInterval){\r\n      if(this.intervalTimer){\r\n        clearInterval(this.intervalTimer)\r\n      }\r\n      const {sendCmd, getInterval} = nextProps\r\n      this.intervalTimer = setInterval(()=>{\r\n        const {websocketConnected, xml} = this.props\r\n        if(websocketConnected){\r\n          sendCmd('get', 'get')\r\n          // if(!xml){\r\n          //   sendCmd('get_xml', 'xml')\r\n          // }\r\n        }\r\n      }, getInterval)\r\n    }\r\n  }\r\n\r\n  handleDismissClick(e) {\r\n    this.props.resetErrorMessage()\r\n    e.preventDefault()\r\n  }\r\n\r\n\r\n  handleChange(nextValue) {\r\n    this.props.navigate(`/${nextValue}`)\r\n  }\r\n\r\n  renderErrorMessage() {\r\n    const { errorMessage } = this.props\r\n    if (!errorMessage) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <p style={{ backgroundColor: '#e99', padding: 10 }}>\r\n        <b>{errorMessage}</b> (<a href=\"#\" onClick={this.handleDismissClick}>\r\n        Dismiss\r\n      </a>)\r\n      </p>\r\n    )\r\n  }\r\n\r\n  renderApp = ({getPrefixCls}) => {\r\n    const {location:{pathname}, dashboards, navigate, prefixCls: customizePrefixCls, createCell, dashboard, updateDashboard} = this.props\r\n    const prefixCls = getPrefixCls('app', customizePrefixCls);\r\n    if(!dashboards){\r\n      return <div className={`${prefixCls}-loading`}>\r\n        <Icon type=\"loading\" />\r\n      </div>\r\n    }\r\n    return <div className={prefixCls}>\r\n      <Header />\r\n      <div className={`${prefixCls}-content`}>\r\n      {this.renderErrorMessage()}\r\n      {routes}\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  }\r\n\r\n  render(){\r\n    // console.log('App render()')\r\n    return <ConfigConsumer>{this.renderApp}</ConfigConsumer>\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  // Injected by React Redux\r\n  errorMessage: PropTypes.string,\r\n  navigate: PropTypes.func.isRequired,\r\n  updateRouterState: PropTypes.func.isRequired,\r\n  resetErrorMessage: PropTypes.func.isRequired,\r\n  loadInterfaceConfig: PropTypes.func.isRequired,\r\n  startWebsocket: PropTypes.func.isRequired,\r\n  stopWebsocket: PropTypes.func.isRequired,\r\n  updateDashboard: PropTypes.func.isRequired,\r\n\r\n  websocketConnected: PropTypes.bool.isRequired,\r\n  // Injected by React Router\r\n  children: PropTypes.node,\r\n  location: PropTypes.any,\r\n  params: PropTypes.any,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    dashboards: getDashboards(state),\r\n    dashboard: getCurrentDashboard(state),\r\n    xml: getXml(state),\r\n    errorMessage: state.errorMessage,\r\n    websocketConnected: state.robot.websocketConnected,\r\n    getInterval: getGetInterval(state),\r\n    ws: getWsUrl(state),\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    loadInterfaceConfig,\r\n    navigate,\r\n    updateRouterState,\r\n    resetErrorMessage,\r\n    startWebsocket,\r\n    stopWebsocket,\r\n    createCell,\r\n    sendCmd,\r\n    updateDashboard\r\n  },\r\n)(App)\r\n\r\n","import * as ActionTypes from '../actions'\r\n\r\nconst initialState = {\r\n  showCreateCellModal: false,\r\n  creatingCell: false,\r\n  creatingCellFailure: null,\r\n  creatingCellSuccess: null,\r\n}\r\n\r\nexport default (state=initialState, action) => {\r\n  switch (action.type) {\r\n    case ActionTypes.INTERFACE_CONFIG_FETCH_REQUEST:\r\n      return {}\r\n    case ActionTypes.INTERFACE_CONFIG_FETCH_FAILURE:\r\n      return {}\r\n    case ActionTypes.INTERFACE_CONFIG_FETCH_SUCCESS:\r\n      return {...state, ...action.response}\r\n    case ActionTypes.UPDATE_DASHBOARD:\r\n    {\r\n      let {dashboard} = action\r\n      let dashboards = [...state.dashboards]\r\n      dashboards.forEach((d, i)=>{\r\n        if(d.i === dashboard.i){\r\n          dashboards[i] = {...dashboards[i], ...dashboard}\r\n        }\r\n      })\r\n      return {...state, dashboards}\r\n    }\r\n    case ActionTypes.DASHBOARD_UPDATE_SUCCESS:\r\n    {\r\n      let {dashboard} = action\r\n      let dashboards = [...state.dashboards]\r\n      dashboards.forEach((d, i)=>{\r\n        if(d.i === dashboard.i){\r\n          dashboards[i] = {...dashboards[i], ...dashboard}\r\n        }\r\n      })\r\n      return {...state, dashboards}\r\n    }\r\n    case ActionTypes.TOGGLE_CREATE_CELL_MODAL:\r\n    {\r\n      return {\r\n        ...state,\r\n        showCreateCellModal: !state.showCreateCellModal,\r\n        creatingCell: false,\r\n        creatingCellFailure: null,\r\n        creatingCellSuccess: null\r\n      }\r\n    }\r\n    case ActionTypes.CELL_CREATE_REQUEST:\r\n    {\r\n      return {\r\n        ...state,\r\n        creatingCell: false,\r\n        creatingCellFailure: null,\r\n        creatingCellSuccess: null,\r\n      }\r\n    }\r\n    case ActionTypes.CELL_CREATE_FAILURE:\r\n    {\r\n     return {\r\n       ...state,\r\n       creatingCell: false,\r\n       creatingCellFailure: action.error,\r\n       creatingCellSuccess: null,\r\n     }\r\n    }\r\n    case ActionTypes.CELL_CREATE_SUCCESS:\r\n    {\r\n      let {dashboardId, cell} = action\r\n      let dashboards = [...state.dashboards]\r\n      dashboards.forEach((d, i)=>{\r\n        if(d.i === dashboardId){\r\n          dashboards[i] = {...dashboards[i]}\r\n          dashboards[i].cells = dashboards[i].cells.map(cell=>({\r\n            ...cell, y: cell.y+1,\r\n          }))\r\n          dashboards[i].cells = [\r\n            ...dashboards[i].cells,\r\n            cell\r\n          ]\r\n        }\r\n      })\r\n      return {\r\n        ...state,\r\n        dashboards,\r\n        showCreateCellModal: false,\r\n        creatingCellFailure: null,\r\n        creatingCell: null,\r\n        creatingCellSuccess: cell,\r\n      }\r\n    }\r\n    case ActionTypes.CELL_DELETE_SUCCESS:\r\n    {\r\n      let {dashboardId, cell} = action\r\n      let dashboards = [...state.dashboards]\r\n      dashboards.forEach((d, i)=>{\r\n        if(d.i === dashboardId){\r\n          dashboards[i] = {...dashboards[i]}\r\n          dashboards[i].cells = dashboards[i].cells.filter(c => c.i !== cell.i)\r\n        }\r\n      })\r\n      return {...state, dashboards}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n  return state\r\n}","import * as actions from '../actions'\r\nimport {SHOW_CREATE_ROBOT_MODEL_MODAL} from \"../actions\";\r\nimport isEmpty from 'lodash/isEmpty'\r\n\r\nlet currentToolId = 0\r\nif(window.localStorage.getItem(\"currentToolId\")){\r\n  try{\r\n    currentToolId = JSON.parse(window.localStorage.getItem(\"currentToolId\"))\r\n  }catch (e) {\r\n  }\r\n}\r\nlet currentWorkObjectId = 0\r\nif(window.localStorage.getItem(\"currentWorkObjectId\")){\r\n  try{\r\n    currentWorkObjectId = JSON.parse(window.localStorage.getItem(\"currentWorkObjectId\"))\r\n  }catch (e) {\r\n  }\r\n}\r\n\r\nlet currentCoordinateId = 0\r\nif(window.localStorage.getItem(\"currentCoordinateId\")){\r\n  try{\r\n    currentCoordinateId = JSON.parse(window.localStorage.getItem(\"currentCoordinateId\"))\r\n  }catch (e) {\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  resultsByChannel: {},\r\n  websocketConnected: false,\r\n  websocketError: null,\r\n  channelsById: {},\r\n  commandsById: {},\r\n  currentCommand: {},\r\n  robotStatus: 4,\r\n  toolIds: [...Array(16).keys()],\r\n  workObjectIds: [...Array(32).keys()],\r\n\r\n  currentToolId,\r\n  currentWorkObjectId,\r\n  currentCoordinateId,\r\n\r\n  currentMotionVelPercent: 0,\r\n  firstGet: true,\r\n\r\n  createRobotModelModalVisible: false,\r\n  currentRobotBrand: null,\r\n  currentRobotModel: null,\r\n\r\n  esiFileUploadingSuccess: null,\r\n  esiFileUploadingRequest: null,\r\n  esiFileUploadingFailure: null,\r\n\r\n  esiPathFetchingSuccess: null,\r\n  esiPathFetchingRequest: null,\r\n  esiPathFetchingFailure: null,\r\n  esiPath: null,\r\n\r\n  xml: null,\r\n\r\n  programs: {},\r\n  showCreatingProgramModal: false,\r\n  creatingProgram: false,\r\n  creatingProgramFailure: false,\r\n  creatingProgramSuccess: false,\r\n\r\n  showDeletingProgramModal: false,\r\n  deletingProgram: false,\r\n  deletingProgramFailure: false,\r\n  deletingProgramSuccess: false,\r\n\r\n  editingProgramName: null,\r\n}\r\n\r\nconst callbacksById = {}\r\n\r\n//可以处理中文\r\nfunction utf8ArrayToStr(array) {\r\n  let out, i, len, c\r\n  let char2, char3\r\n\r\n  out = \"\"\r\n  len = array.length\r\n  i = 0\r\n  while(i < len) {\r\n    c = array[i++]\r\n    switch(c >> 4)\r\n    {\r\n      case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\r\n      // 0xxxxxxx\r\n      out += String.fromCharCode(c)\r\n      break\r\n      case 12: case 13:\r\n      // 110x xxxx   10xx xxxx\r\n      char2 = array[i++]\r\n      out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F))\r\n      break\r\n      case 14:\r\n        // 1110 xxxx  10xx xxxx  10xx xxxx\r\n        char2 = array[i++]\r\n        char3 = array[i++]\r\n        out += String.fromCharCode(((c & 0x0F) << 12) |\r\n          ((char2 & 0x3F) << 6) |\r\n          ((char3 & 0x3F) << 0))\r\n        break;\r\n    }\r\n  }\r\n\r\n  return out\r\n}\r\n\r\n\r\n\r\nfunction analyzeBotData(buffer, channelsByID, anyRobot) {\r\n  let dataView=new DataView(buffer);\r\n  let cmdLength=dataView.getInt32(0);\r\n  let cmdId=dataView.getInt32(4,true);\r\n  let cmdCode=dataView.getFloat64(16,true);\r\n  //如是没有channel的cmd数据存储\r\n  if(!channelsByID[cmdCode]){\r\n    return\r\n  }\r\n  try{\r\n    let str = utf8ArrayToStr(new Uint8Array(buffer, 40))\r\n    return {...JSON.parse(str), id: cmdCode, cmd_response_time: Date.now() - cmdCode}\r\n  }catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actions.WEBSOCKET_CONNECTED:\r\n      return {...state, websocketConnected: true}\r\n    case actions.WEBSOCKET_DISCONNECTED:\r\n      return {...state, websocketConnected: false}\r\n    case actions.WEBSOCKET_ERROR:\r\n      return {...state, websocketError: action.payload}\r\n    case actions.SEND_CMD:\r\n    {\r\n      let {id, channel, cmd, callback} = action\r\n      //如果channel被设定则会收集cmd结果\r\n      if(!!channel){\r\n        let channelsById = {...state.channelsById}\r\n        channelsById[id] = channel\r\n        let commandsById = state.commandsById\r\n        let currentCommand = state.currentCommand\r\n        if(channel !== 'get'){\r\n          commandsById = {...commandsById}\r\n          commandsById[id] = cmd\r\n          if(callback){\r\n            callbacksById[id] = callback\r\n          }\r\n          currentCommand = {id, cmd, channel, isRunning: true}\r\n        }\r\n        return {...state, channelsById, commandsById, currentCommand}\r\n      }else{\r\n        return state\r\n      }\r\n    }\r\n    case actions.CMD_RESPONSE:\r\n    {\r\n      let {data} = action\r\n      let channelsById = state.channelsById\r\n      let resultsByChannel = state.resultsByChannel\r\n      let commandsById = state.commandsById\r\n      let currentCommand = state.currentCommand\r\n      let firstGet = state.firstGet\r\n      let result = analyzeBotData(data, state.channelsById, state.model)\r\n      if(result){\r\n        channelsById = {...channelsById}\r\n        let channel = channelsById[result.id]\r\n        let callback = callbacksById[result.id]\r\n        delete channelsById[result.id]\r\n        delete callbacksById[result.id]\r\n        if(callback && typeof(callback) === 'function'){\r\n          callback(result)\r\n        }\r\n        if(channel !== 'get' && commandsById[result.id]){\r\n          commandsById = {...commandsById}\r\n          delete commandsById[result.id]\r\n        }\r\n        if(channel){\r\n          resultsByChannel={...resultsByChannel}\r\n          resultsByChannel[channel] = result\r\n        }\r\n        if(currentCommand.id === result.id){\r\n          currentCommand = {...currentCommand, ...result, isRunning: false}\r\n        }\r\n        if(firstGet && channel === 'get'){\r\n          return {\r\n            ...state,\r\n            channelsById,\r\n            resultsByChannel,\r\n            commandsById,\r\n            currentCommand,\r\n            currentMotionVelPercent: result.vel_percent || 0,\r\n            firstGet: false\r\n          }\r\n        }else{\r\n          return {...state, channelsById, resultsByChannel, commandsById, currentCommand}\r\n        }\r\n      }else{\r\n        return state\r\n      }\r\n    }\r\n    case actions.DELETE_RESULT_BY_CHANNEL:\r\n    {\r\n      let {channel} = action\r\n      let resultsByChannel = {...state.resultsByChannel}\r\n      delete resultsByChannel[channel]\r\n      return {...state, resultsByChannel }\r\n    }\r\n    case actions.UPDATE_MOTION_VEL_PERCENT:\r\n      return {\r\n        ...state,\r\n        currentMotionVelPercent: action.motionVelPercent,\r\n      }\r\n    case actions.UPDATE_COORDINATE_ID:\r\n      window.localStorage.setItem(\"currentCoordinateId\", action.coordinateId)\r\n      return {\r\n        ...state,\r\n        currentCoordinateId:  action.coordinateId,\r\n      }\r\n    case actions.UPDATE_TOOL_ID:\r\n      window.localStorage.setItem(\"currentToolId\", action.toolId)\r\n      return {\r\n        ...state,\r\n        currentToolId:  action.toolId,\r\n      }\r\n    case actions.UPDATE_WORK_OBJECT_ID:\r\n      window.localStorage.setItem(\"currentWorkObjectId\", action.workObjectId)\r\n      return {\r\n        ...state,\r\n        currentWorkObjectId: action.workObjectId,\r\n      }\r\n    case actions.ROBOT_MODELS_FETCH_SUCCESS:\r\n    {\r\n      const {robotModels} = action\r\n      return {...state, robotModels}\r\n    }\r\n    // case actions.DELETE_ROBOT_MODEL:\r\n    // {\r\n    //   const {model} = action\r\n    //   const robotModels = {...state.robotModels}\r\n    //   robotModels[model.brand] = {...robotModels[model.brand]}\r\n    //   delete robotModels[model.brand][model.model]\r\n    //   return {...state, robotModels}\r\n    // }\r\n    case actions.ROBOT_MODEL_DELETE_SUCCESS:\r\n    {\r\n      const {model} = action\r\n      const robotModels = {...state.robotModels}\r\n      robotModels[model.brand] = {...robotModels[model.brand]}\r\n      delete robotModels[model.brand][model.model]\r\n      if(isEmpty(robotModels[model.brand])){\r\n        delete robotModels[model.brand]\r\n      }\r\n      return {...state, robotModels}\r\n    }\r\n    case actions.ROBOT_MODEL_PART_UPLOAD_SUCCESS:\r\n    {\r\n      const {model} = action\r\n      const robotModels = {...state.robotModels}\r\n      robotModels[model.brand] = {...robotModels[model.brand]}\r\n      robotModels[model.brand][model.model] = model\r\n      return {...state, robotModels}\r\n    }\r\n    case actions.ROBOT_MODEL_PART_DELETE_SUCCESS:\r\n    {\r\n      const {model} = action\r\n      const robotModels = {...state.robotModels}\r\n      robotModels[model.brand] = {...robotModels[model.brand]}\r\n      robotModels[model.brand][model.model] = model\r\n      return {...state, robotModels}\r\n    }\r\n    case actions.ROBOT_MODEL_CREATE_REQUEST:\r\n    {\r\n      return {\r\n        ...state,\r\n        creatingRobotModel: true,\r\n        creatingRobotModelError: false,\r\n        creatingRobotModelResult:  null,\r\n      }\r\n    }\r\n    case actions.ROBOT_MODEL_CREATE_SUCCESS:\r\n    {\r\n      const {model} = action\r\n      const robotModels = {...state.robotModels}\r\n      robotModels[model.brand] = {...robotModels[model.brand]}\r\n      robotModels[model.brand][model.model] = model\r\n      return {\r\n        ...state,\r\n        robotModels,\r\n        currentRobotBrand: model.brand,\r\n        currentRobotModel: model.model,\r\n        createRobotModelModalVisible: false,\r\n        creatingRobotModel: false,\r\n        creatingRobotModelError: false,\r\n        creatingRobotModelResult:  model,\r\n      }\r\n    }\r\n    case actions.ROBOT_MODEL_CREATE_FAILURE:\r\n    {\r\n      const {error} = action\r\n      return {\r\n        ...state,\r\n        creatingRobotModel: false,\r\n        creatingRobotModelError: error,\r\n        creatingRobotModelResult:  false,\r\n      }\r\n    }\r\n    case actions.SHOW_CREATE_ROBOT_MODEL_MODAL:\r\n      return {\r\n        ...state,\r\n        createRobotModelModalVisible: true,\r\n        creatingRobotModel: false,\r\n        creatingRobotModelError: null,\r\n        creatingRobotModelResult:  null,\r\n      }\r\n    case actions.HIDE_CREATE_ROBOT_MODEL_MODAL:\r\n      return {\r\n        ...state,\r\n        createRobotModelModalVisible: false,\r\n      }\r\n    case actions.SELECT_CURRENT_ROBOT_BRAND:\r\n    {\r\n      const {brand} = action\r\n      return {\r\n        ...state,\r\n        currentRobotBrand: brand\r\n      }\r\n    }\r\n    case actions.SELECT_CURRENT_ROBOT_MODEL:\r\n    {\r\n      const {model} = action\r\n      return {\r\n        ...state,\r\n        currentRobotModel: model\r\n      }\r\n    }\r\n    case actions.UPLOAD_ESI_FILE_REQUEST:\r\n    {\r\n      return {\r\n        ...state,\r\n        esiFileUploadingSuccess: null,\r\n        esiFileUploadingRequest: true,\r\n        esiFileUploadingFailure: null\r\n      }\r\n    }\r\n    case actions.UPLOAD_ESI_FILE_FAILURE:\r\n    {\r\n      return {\r\n        ...state,\r\n        esiFileUploadingSuccess: null,\r\n        esiFileUploadingRequest: false,\r\n        esiFileUploadingFailure: action.error\r\n      }\r\n    }\r\n    case actions.UPLOAD_ESI_FILE_SUCCESS:\r\n    {\r\n      return {\r\n        ...state,\r\n        esiFileUploadingRequest: false,\r\n        esiFileUploadingSuccess: true,\r\n        esiFileUploadingFailure: false,\r\n      }\r\n    }\r\n    case actions.ESI_PATH_FETCH_REQUEST:\r\n      return {\r\n        ...state,\r\n        esiPath: null,\r\n        esiPathFetchingRequest: true,\r\n        esiPathFetchingSuccess: false,\r\n        esiPathFetchingFailure: false,\r\n      }\r\n    case actions.ESI_PATH_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        esiPath: null,\r\n        esiPathFetchingRequest: false,\r\n        esiPathFetchingSuccess: false,\r\n        esiPathFetchingFailure: action.error\r\n      }\r\n    case actions.ESI_PATH_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        esiPath: action.path,\r\n        esiPathFetchingRequest: false,\r\n        esiPathFetchingSuccess: true,\r\n        esiPathFetchingFailure: false\r\n      }\r\n    case actions.CONFIG_XML_FETCH_SUCCESS:\r\n    {\r\n      return {\r\n        ...state,\r\n        xml: action.xml\r\n      }\r\n    }\r\n    case actions.PROGRAMS_FETCH_REQUEST:\r\n      return {\r\n        ...state,\r\n        loadingProgram: true,\r\n        loadingProgramError: null,\r\n      }\r\n    case actions.PROGRAMS_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loadingProgram: false,\r\n        loadingProgramError: action.error,\r\n      }\r\n    case actions.PROGRAMS_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loadingProgram: false,\r\n        loadingProgramError: null,\r\n        programs: action.programs\r\n      }\r\n    case actions.PROGRAM_UPDATE_REQUEST:\r\n    {\r\n      const programs = {...state.programs}\r\n      programs[action.name] = action.program\r\n      return {\r\n        ...state,\r\n        updatingProgram: true,\r\n        updatingProgramError: null,\r\n        programs\r\n      }\r\n    }\r\n    case actions.PROGRAM_UPDATE_FAILURE:\r\n    {\r\n      return {\r\n        ...state,\r\n        updatingProgram: false,\r\n        updatingProgramError: action.error,\r\n      }\r\n    }\r\n    case actions.PROGRAM_UPDATE_SUCCESS:\r\n    {\r\n      const programs = {...state.programs}\r\n      programs[action.program.name] = action.program\r\n      return {\r\n        ...state,\r\n        updatingProgram: false,\r\n        updatingProgramError: null,\r\n        programs\r\n      }\r\n    }\r\n    case actions.TOGGLE_CREATE_PROGRAM_MODAL:\r\n    {\r\n      return {\r\n        ...state,\r\n        showCreateProgramModal: !state.showCreateProgramModal,\r\n        creatingProgram: false,\r\n        creatingProgramFailure: null,\r\n        creatingProgramSuccess: null\r\n      }\r\n    }\r\n    case actions.PROGRAM_CREATE_REQUEST:\r\n    {\r\n      return {\r\n        ...state,\r\n        creatingProgram: false,\r\n        creatingProgramFailure: null,\r\n        creatingProgramSuccess: null,\r\n      }\r\n    }\r\n    case actions.PROGRAM_CREATE_FAILURE:\r\n    {\r\n      return {\r\n        ...state,\r\n        creatingProgram: false,\r\n        creatingProgramFailure: action.error,\r\n        creatingProgramSuccess: null,\r\n      }\r\n    }\r\n    case actions.PROGRAM_CREATE_SUCCESS:\r\n    {\r\n      let {program} = action\r\n      let programs = {...state.programs}\r\n      programs[program.name] = program\r\n      return {\r\n        ...state,\r\n        programs,\r\n        showCreateProgramModal: false,\r\n        creatingProgramFailure: null,\r\n        creatingProgram: null,\r\n        creatingProgramSuccess: program,\r\n      }\r\n    }\r\n\r\n\r\n    case actions.TOGGLE_DELETE_PROGRAM_MODAL:\r\n    {\r\n      return {\r\n        ...state,\r\n        showDeleteProgramModal: action.name?action.name:!state.showDeleteProgramModal,\r\n        deletingProgram: false,\r\n        deletingProgramFailure: null,\r\n        deletingProgramSuccess: null\r\n      }\r\n    }\r\n    case actions.PROGRAM_DELETE_REQUEST:\r\n    {\r\n      return {\r\n        ...state,\r\n        deletingProgram: false,\r\n        deletingProgramFailure: null,\r\n        deletingProgramSuccess: null,\r\n      }\r\n    }\r\n    case actions.PROGRAM_DELETE_FAILURE:\r\n    {\r\n      return {\r\n        ...state,\r\n        deletingProgram: false,\r\n        deletingProgramFailure: action.error,\r\n        deletingProgramSuccess: null,\r\n      }\r\n    }\r\n    case actions.PROGRAM_DELETE_SUCCESS:\r\n    {\r\n      let {program} = action\r\n      let programs = {...state.programs}\r\n      delete programs[program.name]\r\n      return {\r\n        ...state,\r\n        programs,\r\n        showDeleteProgramModal: false,\r\n        deletingProgramFailure: null,\r\n        deletingProgram: null,\r\n        deletingProgramSuccess: program,\r\n      }\r\n    }\r\n\r\n    case actions.TOGGLE_EDIT_PROGRAM_NAME:\r\n    {\r\n      let {name} = action\r\n      return {\r\n        ...state,\r\n        renamingProgram: false,\r\n        renamingProgramFailure: null,\r\n        renamingProgramSuccess: null,\r\n        editingProgramName: state.editingProgramName == name?null:name\r\n      }\r\n    }\r\n\r\n    case actions.PROGRAM_RENAME_REQUEST:\r\n    {\r\n      return {\r\n        ...state,\r\n        renamingProgram: false,\r\n        renamingProgramFailure: null,\r\n        renamingProgramSuccess: null,\r\n      }\r\n    }\r\n    case actions.PROGRAM_RENAME_FAILURE:\r\n    {\r\n      return {\r\n        ...state,\r\n        renamingProgram: false,\r\n        renamingProgramFailure: action.error,\r\n        renamingProgramSuccess: null,\r\n      }\r\n    }\r\n    case actions.PROGRAM_RENAME_SUCCESS:\r\n    {\r\n      let {program, name, copy} = action\r\n      let programs = {...state.programs}\r\n      if(!copy){\r\n        delete programs[name]\r\n      }\r\n      programs[program.name] = program\r\n      return {\r\n        ...state,\r\n        programs,\r\n        editingProgramName: null,\r\n        renamingProgram: null,\r\n        renamingProgramFailure: null,\r\n        renamingProgramSuccess: program,\r\n      }\r\n    }\r\n\r\n    case actions.RESET_RENAME_PROGRAM_STATUS:\r\n    {\r\n      return {\r\n        ...state,\r\n        renamingProgram: null,\r\n        renamingProgramFailure: null,\r\n        renamingProgramSuccess: null,\r\n      }\r\n\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n  return state\r\n}","import { combineReducers } from 'redux'\r\nimport { merge } from 'lodash/object'\r\nimport * as ActionTypes from '../actions'\r\nimport config from './config'\r\nimport errors from './errors'\r\nimport robot from './robot'\r\n\r\nfunction router(state = { pathname: '/' }, action) {\r\n  switch (action.type) {\r\n    case ActionTypes.UPDATE_ROUTER_STATE:\r\n      return action.state\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  config,\r\n  errors,\r\n  router,\r\n  robot,\r\n})\r\n\r\nexport default rootReducer","import * as ActionTypes from '../actions'\r\n\r\nexport default (state = {}, action) => {\r\n  const {type, error, errorType} = action\r\n  if (type === ActionTypes.RESET_ERROR_MESSAGE) {\r\n    if (errorType) {\r\n      if (!!state[errorType]){\r\n        state = {...state}\r\n        delete state[errorType]\r\n      }\r\n    }else{\r\n      state = {}\r\n    }\r\n  } else if(!!error){\r\n    state = {...state}\r\n    state[type] = error\r\n  }\r\n  return state\r\n}","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport { createLogger } from 'redux-logger'\r\nimport createSagaMiddleware, { END } from 'redux-saga'\r\nimport sagaMonitor from '@redux-saga/simple-saga-monitor'\r\n\r\nimport rootReducer from './reducers'\r\n\r\n\r\nconst userTiming = () => (next) => (action) => {\r\n  if (performance.mark === undefined) return next(action);\r\n  performance.mark(`${action.type}_start`);\r\n  const result = next(action);\r\n  performance.mark(`${action.type}_end`);\r\n  performance.measure(\r\n    `${action.type}`,\r\n    `${action.type}_start`,\r\n    `${action.type}_end`,\r\n  );\r\n  return result;\r\n}\r\n\r\n\r\nconst composeEnhancers = compose\r\n// const composeEnhancers =\r\n//   typeof window === 'object' &&\r\n//   window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n//     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n//       // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\r\n//     }) : compose;\r\n// const composeEnhancers = compose\r\n\r\nexport default function configureStore(initialState) {\r\n  // const sagaMiddleware = createSagaMiddleware({ sagaMonitor })\r\n  const sagaMiddleware = createSagaMiddleware()\r\n  const store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeEnhancers(\r\n      applyMiddleware(\r\n        sagaMiddleware,\r\n        // userTiming,\r\n        // createLogger({})\r\n      ),\r\n    ),\r\n  )\r\n\r\n  if (module.hot) {\r\n    // Enable Webpack hot module replacement for reducers\r\n    module.hot.accept('./reducers', () => {\r\n      const nextRootReducer = require('./reducers').default\r\n      store.replaceReducer(nextRootReducer)\r\n    })\r\n  }\r\n  store.runSaga = sagaMiddleware.run\r\n  store.close = () => store.dispatch(END)\r\n  return store\r\n}","import { schema, normalize } from 'normalizr'\r\nimport { camelizeKeys } from 'humps'\r\nimport has from 'lodash/has'\r\nimport { isEmpty } from 'lodash/isEmpty'\r\nimport 'isomorphic-fetch'\r\n\r\nfunction callRawGetApi(endpoint) {\r\n  return fetch(endpoint)\r\n    .then(response =>\r\n      response.text().then(text => ({ text, response }))\r\n    ).then(({ text, response }) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(text)\r\n      }\r\n      return text\r\n    })\r\n    .then(\r\n      response => ({response}),\r\n      error => ({error: error.message || error.error || 'Something bad happened'})\r\n    )\r\n}\r\n\r\nfunction callGetApi(endpoint) {\r\n  return fetch(endpoint)\r\n    .then(response =>\r\n      response.json().then(json => ({ json, response }))\r\n    ).then(({ json, response }) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(json)\r\n      }\r\n      return json\r\n    })\r\n    .then(\r\n      response => ({response}),\r\n      error => ({error: error.message || error.error || 'Something bad happened'})\r\n    )\r\n}\r\n\r\nfunction callPatchApi(endpoint, data) {\r\n  return fetch(endpoint, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then(response =>\r\n      response.json().then(json => ({ json, response }))\r\n    ).then(({ json, response }) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(json)\r\n      }\r\n      return json\r\n    })\r\n    .then(\r\n      response => ({response}),\r\n      error => ({error: error.message || error.error || 'Something bad happened'})\r\n    )\r\n}\r\n\r\nfunction callPutApi(endpoint, data) {\r\n  return fetch(endpoint, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then(response =>\r\n      response.json().then(json => ({ json, response }))\r\n    ).then(({ json, response }) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(json)\r\n      }\r\n      return json\r\n    })\r\n    .then(\r\n      response => ({response}),\r\n      error => ({error: error.message || error.error || 'Something bad happened'})\r\n    )\r\n}\r\n\r\nfunction callPostApi(endpoint, data) {\r\n  return fetch(endpoint, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then(response =>\r\n      response.json().then(json => ({ json, response }))\r\n    ).then(({ json, response }) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(json)\r\n      }\r\n      return json\r\n    })\r\n    .then(\r\n      response => ({response}),\r\n      error => ({error: error.message || error.error || 'Something bad happened'})\r\n    )\r\n}\r\n\r\nfunction callDeleteApi(endpoint, data) {\r\n  return fetch(endpoint, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then(response =>\r\n      response.json().then(json => ({ json, response }))\r\n    ).then(({ json, response }) => {\r\n      if (!response.ok) {\r\n        return Promise.reject(json)\r\n      }\r\n      return json\r\n    })\r\n    .then(\r\n      response => ({response}),\r\n      error => ({error: error.message || error.error || 'Something bad happened'})\r\n    )\r\n}\r\n\r\n// api services\r\nexport const fetchInterfaceConfig = () => callGetApi(`/api/config/interface`)\r\nexport const updateDashboard = (dashboard) => {\r\n  dashboard = {...dashboard}\r\n  if(dashboard.cells){\r\n    dashboard.cells = dashboard.cells.map(c=>{\r\n      c = {...c}\r\n      if(c.options){\r\n        c.options = JSON.stringify(c.options)\r\n      }\r\n      return c\r\n    })\r\n  }\r\n  return callPutApi(`/api/dashboards/${dashboard.i}`, dashboard)\r\n}\r\nexport const createCell = (dashboardId, cell) => {\r\n  if(cell.options && typeof cell.options !== 'string'){\r\n    cell = {...cell}\r\n    cell.options = JSON.stringify(cell.options)\r\n  }\r\n  return callPostApi(`/api/dashboards/${dashboardId}/cells`, {...cell})\r\n}\r\nexport const deleteCell = (dashboardId, cellId) => callDeleteApi(`/api/dashboards/${dashboardId}/cells/${cellId}`, {})\r\n\r\nexport const fetchRobotModels = () => callGetApi(`/api/robots`)\r\nexport const deleteRobotModelPart = (brand, model, part) => callDeleteApi(`/api/robots/${brand}/${model}/parts/${part}`)\r\n\r\nexport const deleteRobotModel = (brand, model) => callDeleteApi(`/api/robots/${brand}/${model}`)\r\n\r\nexport const createRobotModel = (model) => callPostApi(`/api/robots`, model)\r\n\r\nexport const fetchESIPath = () => callGetApi(`/api/esi/path`)\r\n\r\nexport const fetchConfigXml = () => callRawGetApi(`/api/config/robot/xml`)\r\n\r\n\r\nexport const fetchPrograms = () => callGetApi(`/api/programs`)\r\nexport const fetchProgram = (name) => callGetApi(`/api/programs/${encodeURIComponent(name)}`)\r\nexport const createProgram = (name) => callPostApi(`/api/programs`, {name})\r\nexport const updateProgram = (name, program) => callPutApi(`/api/programs/${encodeURIComponent(name)}`, program)\r\nexport const deleteProgram = (name) => callDeleteApi(`/api/programs/${encodeURIComponent(name)}`)\r\nexport const renameProgram = (name, newName, copy) => callPatchApi(!!copy?`/api/programs/${encodeURIComponent(name)}?copy=true`:`/api/programs/${encodeURIComponent(name)}`, {name:newName})\r\n","import * as _api from './api'\r\nimport { createBrowserHistory } from 'history'\r\n\r\nexport const api = _api\r\nexport const history = createBrowserHistory()\r\n","import {\r\n  put,\r\n  call,\r\n  fork,\r\n  select,\r\n  delay,\r\n  takeLatest,\r\n} from 'redux-saga/effects'\r\nimport isEmpty from 'lodash/isEmpty'\r\nimport { api } from '../services'\r\nimport * as actions from '../actions'\r\nimport { getConfig } from '../reducers/selectors'\r\nimport {getDashboardAndCells} from \"../selectors/config\";\r\nimport { dashboardUpdate } from \"../actions\";\r\nimport { cellCreate, cellDelete } from \"../actions\";\r\nimport {configXml} from \"../actions\";\r\nconst { interfaceConfig } = actions\r\n\r\nfunction* fetchConfig() {\r\n  yield put( interfaceConfig.request() )\r\n  const {response, error} = yield call(api.fetchInterfaceConfig)\r\n  if(response)\r\n    yield put( interfaceConfig.success(response) )\r\n  else\r\n    yield put( interfaceConfig.failure(error) )\r\n}\r\n\r\nfunction* loadConfig() {\r\n  yield delay(50)\r\n  // const config = yield select(getConfig)\r\n  yield call(fetchConfig)\r\n}\r\n\r\nfunction* loadConfigXml() {\r\n  yield put( configXml.request() )\r\n  const {response, error} = yield call(api.fetchConfigXml)\r\n  if(response)\r\n    yield put( configXml.success(response) )\r\n  else\r\n    yield put( configXml.failure(error) )\r\n}\r\n\r\n\r\nfunction* updateDashboard({dashboard}){\r\n  // delay可以产生debounce effect\r\n  yield delay(500)\r\n  dashboard = yield select(getDashboardAndCells, dashboard.i)\r\n  if(!isEmpty(dashboard)){\r\n    yield put( dashboardUpdate.request() )\r\n    const {response, error} = yield call(api.updateDashboard, dashboard)\r\n    if(response)\r\n      yield put( dashboardUpdate.success(response) )\r\n    else\r\n      yield put( dashboardUpdate.failure(error) )\r\n  }\r\n}\r\n\r\nfunction* createCell({dashboardId, cell}){\r\n  yield delay(50)\r\n  yield put( cellCreate.request() )\r\n  const {response, error} = yield call(api.createCell, dashboardId, cell)\r\n  if(response)\r\n    yield put( cellCreate.success(dashboardId, response) )\r\n  else\r\n    yield put( cellCreate.failure(error) )\r\n}\r\n\r\nfunction* deleteCell({dashboardId, cellId}){\r\n  yield delay(50)\r\n  yield put( cellDelete.request(dashboardId, cellId) )\r\n  const {response, error} = yield call(api.deleteCell, dashboardId, cellId)\r\n  if(response)\r\n    yield put( cellDelete.success(dashboardId, response) )\r\n  else\r\n    yield put( cellDelete.failure(error) )\r\n}\r\n\r\nfunction* watchUpdateDashboard() {\r\n  yield  takeLatest(actions.UPDATE_DASHBOARD, updateDashboard)\r\n}\r\n\r\nfunction* watchCreateCell() {\r\n  yield takeLatest(actions.CREATE_CELL, createCell)\r\n}\r\n\r\nfunction* watchLoadConfig() {\r\n  yield takeLatest(actions.LOAD_INTERFACE_CONFIG, loadConfig)\r\n}\r\n\r\nfunction* watchDeleteCell() {\r\n  yield takeLatest(actions.DELETE_CELL, deleteCell)\r\n}\r\n\r\nfunction* watchLoadConfigXml() {\r\n  yield takeLatest(actions.LOAD_CONFIG_XML, loadConfigXml)\r\n}\r\n\r\nexport default [\r\n  fork(watchLoadConfig),\r\n  fork(watchUpdateDashboard),\r\n  fork(watchCreateCell),\r\n  fork(watchDeleteCell),\r\n  fork(watchLoadConfigXml)\r\n]\r\n","import * as actions from \"../actions\";\r\nimport { delay, take, put, call, fork, select, all, race } from 'redux-saga/effects'\r\nimport { eventChannel, END} from 'redux-saga'\r\nimport {getModel} from \"../reducers/selectors\";\r\n\r\nlet CMD_CODE_LIST = {}\r\nlet CMD_CODE_RETURN_LIST = {}\r\nlet dataMap_dataIndex=[]\r\nlet dataMap_chartID=[]\r\nlet dataSet=[]\r\nlet dataSetCount=[]\r\nlet dataSetLength=[]\r\n\r\nfunction sendCmd(ws, str) {\r\n  let strArray=str.split(\"&\");\r\n  if (strArray.length>3){\r\n    let cmd_id=parseInt(strArray[0]);\r\n    let cmd_option=parseInt((strArray[1]));\r\n    let cmd_code=parseInt((strArray[2]));\r\n\r\n    // console.log(\"res-1:\"+cmd_code);\r\n    let res_2=parseInt((strArray[3]));\r\n    let res_3=parseInt((strArray[4]));\r\n\r\n    let mes_length=strArray[5].length;\r\n    let buffer=new ArrayBuffer(40+mes_length);\r\n    let headView=new DataView(buffer);\r\n    headView.setInt32(0,mes_length,true);\r\n    headView.setInt32(4,cmd_id,true);\r\n    headView.setInt32(8,cmd_option,true);\r\n    headView.setFloat64(16,cmd_code,true);\r\n    // console.log(\"cmd_code:\"+headView.getFloat64(16,true));\r\n    headView.setInt32(24,res_2,true);\r\n    headView.setInt32(32,res_3,true);\r\n    for (let i=0;i<mes_length;i++){\r\n      headView.setUint8(40+i,strArray[5].charCodeAt(i));\r\n    }\r\n    ws.send(headView.buffer);\r\n  }\r\n}\r\n\r\n\r\n//可以处理中文\r\nfunction utf8ArrayToStr(array) {\r\n  let out, i, len, c\r\n  let char2, char3\r\n\r\n  out = \"\"\r\n  len = array.length\r\n  i = 0\r\n  while(i < len) {\r\n    c = array[i++]\r\n    switch(c >> 4)\r\n    {\r\n      case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\r\n      // 0xxxxxxx\r\n      out += String.fromCharCode(c)\r\n      break\r\n      case 12: case 13:\r\n      // 110x xxxx   10xx xxxx\r\n      char2 = array[i++]\r\n      out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F))\r\n      break\r\n      case 14:\r\n        // 1110 xxxx  10xx xxxx  10xx xxxx\r\n        char2 = array[i++]\r\n        char3 = array[i++]\r\n        out += String.fromCharCode(((c & 0x0F) << 12) |\r\n          ((char2 & 0x3F) << 6) |\r\n          ((char3 & 0x3F) << 0))\r\n        break;\r\n    }\r\n  }\r\n\r\n  return out\r\n}\r\n\r\nfunction analyzeBinaryDataReturn(buffer) {\r\n  let dataView=new DataView(buffer)\r\n  let pq=\"\"\r\n  for(let i=0;i<(buffer.byteLength-40)/8;i++){\r\n    let data=dataView.getFloat64(40+i*8,true).toString();\r\n    if (i!==0){\r\n      pq+=\",\"+data;\r\n    }\r\n    if (i===0){\r\n      pq+=data;\r\n    }\r\n  }\r\n  return pq;\r\n}\r\n\r\nfunction createWebSocketConnection(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const socket = new WebSocket(url || window.location.origin.replace('https','wss').replace('http', 'ws'))\r\n    socket.onopen = function () {\r\n      socket.binaryType='arraybuffer'\r\n      resolve(socket);\r\n    };\r\n    socket.onerror = function (evt) {\r\n      reject(evt);\r\n    }\r\n  });\r\n}\r\n\r\nfunction createSocketChannel(socket) {\r\n  return eventChannel(emit => {\r\n    //如果race已经被cancel, 消息发不出去\r\n    socket.onmessage = (event) => {\r\n      if(event.data instanceof ArrayBuffer){\r\n        emit({data:event.data, type: actions.CMD_RESPONSE})\r\n      }\r\n    };\r\n    socket.onclose = () => {\r\n      emit(actions.wsDisconnected())\r\n    };\r\n    socket.onerror = (error) => {\r\n      emit(actions.wsError(error.message))\r\n    }\r\n    const unsubscribe = () => {\r\n      socket.onmessage = null\r\n      socket.onerror = null\r\n    };\r\n    return unsubscribe\r\n  })\r\n}\r\n\r\nfunction* internalListener(ws) {\r\n  while (true) {\r\n    const {cmd, id} = yield take(actions.SEND_CMD);\r\n    switch (ws.readyState) {\r\n      case WebSocket.CONNECTING:\r\n        break;\r\n      case WebSocket.OPEN:\r\n        if(cmd === 'get'){\r\n          sendCmd(ws, \"0&1&\" + id + \"&0&0&\" + cmd);\r\n        }else{\r\n          // console.error(cmd)\r\n          sendCmd(ws, \"1&1&\" + id + \"&0&0&\" + cmd);\r\n        }\r\n      case  WebSocket.CLOSING:\r\n        break;\r\n      case WebSocket.CLOSED:\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction* externalListener(channel){\r\n  try{\r\n    while (true) {\r\n      const action = yield take(channel)\r\n      yield put(action)\r\n    }\r\n  }finally{\r\n    console.log('message channel closed')\r\n  }\r\n}\r\nfunction* reconnect(url) {\r\n  yield delay(5000)\r\n  yield put(actions.startWebsocket(url))\r\n}\r\n\r\nfunction* websocketSaga() {\r\n  let socket\r\n  let socketChannel\r\n  let cancel\r\n  while(true){\r\n    const {url} = yield take(actions.START_WEBSOCKET);\r\n    try {\r\n      socket = yield call(createWebSocketConnection, url);\r\n      socketChannel = yield call(createSocketChannel, socket);\r\n      yield  put(actions.wsConnected())\r\n      const {cancel:_cancel}= yield race({\r\n        internal: call(internalListener, socket),\r\n        external: call(externalListener, socketChannel),\r\n        cancel: take(actions.STOP_WEBSOCKET)\r\n      });\r\n      cancel = _cancel\r\n    } catch (error) {\r\n      console.log(error)\r\n      yield put(actions.wsError(error.message))\r\n    } finally {\r\n      if(socket){\r\n        socket.close();\r\n        socket = null\r\n      }\r\n      yield put(actions.wsDisconnected())\r\n      if(socketChannel){\r\n        socketChannel.close();\r\n        socketChannel = null\r\n      }\r\n      if (!cancel) {\r\n        yield fork(reconnect, url)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default [\r\n  fork(websocketSaga)\r\n]","import {\r\n  put,\r\n  call,\r\n  fork,\r\n  select,\r\n  delay,\r\n  takeLatest,\r\n} from 'redux-saga/effects'\r\nimport { api } from '../services'\r\nimport * as actions from '../actions'\r\nimport {\r\n  programsLoad,\r\n  programLoad,\r\n  programCreate,\r\n  programDelete,\r\n  programUpdate,\r\n  programRename\r\n} from \"../actions\";\r\nconst {\r\n  robotModelPartDelete,\r\n  robotModelDelete,\r\n  robotModelCreate,\r\n  robotModels,\r\n  esiPath\r\n} = actions\r\n\r\nfunction* fetchRobotModels() {\r\n  yield put( robotModels.request() )\r\n  const {response, error} = yield call(api.fetchRobotModels)\r\n  if(response)\r\n    yield put( robotModels.success(response) )\r\n  else\r\n    yield put( robotModels.failure(error) )\r\n}\r\n\r\nfunction* fetchESIPath() {\r\n  yield put(esiPath.request())\r\n  const {response, error} = yield call(api.fetchESIPath)\r\n  if(response)\r\n    yield put(esiPath.success(response.path))\r\n  else\r\n    yield put(esiPath.failure( error ))\r\n}\r\n\r\nfunction* fetchPrograms() {\r\n  yield put(programsLoad.request())\r\n  const {response, error} = yield call(api.fetchPrograms)\r\n  if(response)\r\n    yield put(programsLoad.success(response))\r\n  else\r\n    yield put(programsLoad.failure( error ))\r\n}\r\n\r\nfunction* fetchProgram({name}) {\r\n  yield put(programLoad.request())\r\n  const {response, error} = yield call(api.fetchProgram, name)\r\n  if(response)\r\n    yield put(programLoad.success(response))\r\n  else\r\n    yield put(programLoad.failure( error ))\r\n}\r\n\r\nfunction* createProgram({name}) {\r\n  yield put(programCreate.request())\r\n  const {response, error} = yield call(api.createProgram, name)\r\n  if(response)\r\n    yield put(programCreate.success(response))\r\n  else\r\n    yield put(programCreate.failure( error ))\r\n}\r\n\r\nfunction* updateProgram({name, program}) {\r\n  yield delay(500)\r\n  yield put(programUpdate.request(name, program))\r\n  const {response, error} = yield call(api.updateProgram, name, program)\r\n  if(response)\r\n    yield put(programUpdate.success(response))\r\n  else\r\n    yield put(programUpdate.failure(error))\r\n}\r\n\r\nfunction* deleteProgram({name}) {\r\n  yield put(programDelete.request())\r\n  const {response, error} = yield call(api.deleteProgram, name)\r\n  if(response)\r\n    yield put(programDelete.success(response))\r\n  else\r\n    yield put(programDelete.failure(error))\r\n}\r\n\r\nfunction* renameProgram({name, newName, copy}) {\r\n  yield put(programRename.request())\r\n  const {response, error} = yield call(api.renameProgram, name, newName, copy)\r\n  if(response)\r\n    yield put(programRename.success(name, response, copy))\r\n  else\r\n    yield put(programRename.failure(error))\r\n}\r\n\r\nfunction* deleteRobotModelPart({brand, model, part}) {\r\n  yield put(robotModelPartDelete.request())\r\n  const {response, error} = yield call(api.deleteRobotModelPart, brand, model, part)\r\n  if(response)\r\n    yield put( robotModelPartDelete.success(response) )\r\n  else\r\n    yield put( robotModelPartDelete.failure(error) )\r\n}\r\n\r\nfunction* deleteRobotModel({brand, model}) {\r\n  yield put(robotModelDelete.request())\r\n  const {response, error} = yield call(api.deleteRobotModel, brand, model)\r\n  if(response)\r\n    yield put( robotModelDelete.success(response) )\r\n  else\r\n    yield put( robotModelDelete.failure(error) )\r\n}\r\n\r\nfunction* createRobotModel({model}) {\r\n  yield put(robotModelCreate.request())\r\n  const {response, error} = yield call(api.createRobotModel, model)\r\n  if(response)\r\n    yield put( robotModelCreate.success(response) )\r\n  else\r\n    yield put( robotModelCreate.failure(error) )\r\n}\r\n\r\nfunction* watchLoadRobotModels() {\r\n  yield takeLatest(actions.LOAD_ROBOT_MODELS, fetchRobotModels)\r\n}\r\n\r\nfunction* watchDeleteRobotModelPart() {\r\n  yield takeLatest(actions.DELETE_ROBOT_MODEL_PART, deleteRobotModelPart)\r\n}\r\n\r\nfunction* watchDeleteRobotModel() {\r\n  yield takeLatest(actions.DELETE_ROBOT_MODEL, deleteRobotModel)\r\n}\r\n\r\nfunction* watchCreateRobotModel() {\r\n  yield takeLatest(actions.CREATE_ROBOT_MODEL, createRobotModel)\r\n}\r\n\r\nfunction* watchLoadESIPath() {\r\n  yield takeLatest(actions.LOAD_ESI_PATH, fetchESIPath)\r\n}\r\n\r\nfunction* watchLoadPrograms() {\r\n  yield takeLatest(actions.LOAD_PROGRAMS, fetchPrograms)\r\n}\r\n\r\nfunction* watchLoadProgram() {\r\n  yield takeLatest(actions.LOAD_PROGRAM, fetchProgram)\r\n}\r\n\r\nfunction* watchCreateProgram() {\r\n  yield takeLatest(actions.CREATE_PROGRAM, createProgram)\r\n}\r\n\r\nfunction* watchUpdateProgram() {\r\n  yield takeLatest(actions.UPDATE_PROGRAM, updateProgram)\r\n}\r\n\r\nfunction* watchDeleteProgram() {\r\n  yield takeLatest(actions.DELETE_PROGRAM, deleteProgram)\r\n}\r\n\r\nfunction* watchRenameProgram() {\r\n  yield takeLatest(actions.RENAME_PROGRAM, renameProgram)\r\n}\r\n\r\nexport default [\r\n  fork(watchLoadRobotModels),\r\n  fork(watchDeleteRobotModelPart),\r\n  fork(watchDeleteRobotModel),\r\n  fork(watchCreateRobotModel),\r\n  fork(watchLoadESIPath),\r\n  fork(watchLoadPrograms),\r\n  fork(watchLoadProgram),\r\n  fork(watchCreateProgram),\r\n  fork(watchUpdateProgram),\r\n  fork(watchDeleteProgram),\r\n  fork(watchRenameProgram),\r\n]\r\n","import { take, put, call, fork, select, all } from 'redux-saga/effects'\r\nimport { history } from '../services'\r\nimport * as actions from '../actions'\r\nimport configSaga from './config'\r\nimport websocketSaga from './websocket'\r\nimport robots from \"./robots\";\r\n\r\n// resuable fetch Subroutine\r\n// entity :  dashboards | dashboards\r\n// apiFn  : api.fetchDashboards | api.fetchRepo | ...\r\n// id     : login | fullName\r\n// url    : next page url. If not provided will use pass id to apiFn\r\nfunction* fetchEntity(entity, apiFn, id, url) {\r\n  yield put( entity.request(id) )\r\n  const {response, error} = yield call(apiFn, url || id)\r\n  if(response)\r\n    yield put( entity.success(id, response) )\r\n  else\r\n    yield put( entity.failure(id, error) )\r\n}\r\n\r\nfunction* fetchEntities(entities, apiFn, url) {\r\n  yield put( entities.request() )\r\n  const {response, error} = yield call(apiFn, url)\r\n  if(response)\r\n    yield put( entities.success(response) )\r\n  else\r\n    yield put( entities.failure(error) )\r\n}\r\n\r\n// trigger router navigation via history\r\nfunction* watchNavigate() {\r\n  while(true) {\r\n    const {pathname} = yield take(actions.NAVIGATE)\r\n    yield history.push(pathname)\r\n  }\r\n}\r\n\r\nexport default function* root() {\r\n  yield all([\r\n    ...configSaga,\r\n    ...websocketSaga,\r\n    ...robots,\r\n    fork(watchNavigate),\r\n  ])\r\n}","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Router, Route } from 'react-router'\r\nimport { Provider } from 'react-redux'\r\nimport App from './containers/App'\r\nimport configureStore from './store'\r\nimport rootSaga from './sagas'\r\nimport {history} from \"./services\";\r\nimport ConfigProvider from 'antd/lib/config-provider'\r\nimport './style/index.less'\r\n\r\nconst store = configureStore()\r\nstore.runSaga(rootSaga)\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <ConfigProvider prefixCls={'rchmi'}>\r\n    <Router history={history}>\r\n      <Route  path=\"/\" component={App}/>\r\n    </Router>\r\n    </ConfigProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/six_axes.090ff2c1.png\";","module.exports = __webpack_public_path__ + \"static/media/seven_axes.10605d29.png\";"],"sourceRoot":""}