(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1240:function(e,t,n){},1241:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchInterfaceConfig",function(){return Kl}),n.d(a,"updateDashboard",function(){return $l}),n.d(a,"createCell",function(){return ec}),n.d(a,"deleteCell",function(){return tc}),n.d(a,"fetchRobotModels",function(){return nc}),n.d(a,"deleteRobotModelPart",function(){return ac}),n.d(a,"deleteRobotModel",function(){return rc}),n.d(a,"createRobotModel",function(){return oc}),n.d(a,"fetchESIPath",function(){return lc}),n.d(a,"fetchConfigXml",function(){return cc}),n.d(a,"fetchPrograms",function(){return ic}),n.d(a,"fetchProgram",function(){return sc}),n.d(a,"createProgram",function(){return uc}),n.d(a,"updateProgram",function(){return dc}),n.d(a,"deleteProgram",function(){return pc}),n.d(a,"renameProgram",function(){return mc});var r=n(0),o=n.n(r),l=n(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(117),i=n(27),s=n(7),u=n(17),d=n(6),p=n(8),m=n(28),f=n(9),b=n(20),g=n(32),h=n(193),O=n(13),v=n.n(O),E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var t=e.getPrefixCls,a=n.props,r=(a.dashboard,t("dashboard-empty",a.prefixCls));return o.a.createElement("div",{className:"".concat(r)},"\u5f53\u524d\u9762\u677f\u6ca1\u6709\u4efb\u4f55\u529f\u80fd\u5355\u5143")},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderDashboard)}}]),t}(r.Component),y=n(328),C=n.n(y),P=n(102),F=n.n(P),R=n(236),j=n.n(R),S=n(12),w=n.n(S),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,t("logger",r));return o.a.createElement("div",{className:"".concat(l)},o.a.createElement(w.a,{type:"area-chart",style:{fontSize:50}}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component);x.NAME="\u65e5\u5fd7\u56de\u653e";var _=x,I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=t("unknown-cell-type",r);return o.a.createElement("div",{className:"".concat(c)},o.a.createElement("div",null,"\u4e0d\u652f\u6301\u7684\u7ec4\u4ef6\u7c7b ",l.type))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component),N=n(329),D=n.n(N),M=n(238),T=n.n(M);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L=Date.now();function U(e){return A({type:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var B="LOAD_INTERFACE_CONFIG",V={request:function(){return U("INTERFACE_CONFIG_FETCH_REQUEST",{})},success:function(e){return(e=A({},e)).dashboards&&(e.dashboards=e.dashboards.map(function(e){return(e=A({},e)).cells=e.cells.map(function(e){e=A({},e);try{e.options=JSON.parse(e.options)}catch(t){e.options={}}return e}),e})),U("INTERFACE_CONFIG_FETCH_SUCCESS",{response:e})},failure:function(e){return U("INTERFACE_CONFIG_FETCH_FAILURE",{error:e})}},W="UPDATE_DASHBOARD",J={request:function(e){return U("DASHBOARD_UPDATE_REQUEST",{dashboard:e})},success:function(e){return e.cells&&((e=A({},e)).cells=e.cells.map(function(e){if((e=A({},e)).options){console.log(e.type,"before",e.options);try{e.options=JSON.parse(e.options)}catch(t){e.options={}}console.log(e.type,e.options)}return e})),U("DASHBOARD_UPDATE_SUCCESS",{dashboard:e})},failure:function(e){return U("DASHBOARD_UPDATE_FAILURE",{error:e})}},z=function(e){return U(W,{dashboard:e})},G="CREATE_CELL",X={request:function(e){return U("CELL_CREATE_REQUEST",{dashboardId:e})},success:function(e,t){if((t=A({},t)).options)try{t.options=JSON.parse(t.options)}catch(n){t.options={}}return U("CELL_CREATE_SUCCESS",{dashboardId:e,cell:t})},failure:function(e){return U("CELL_CREATE_FAILURE",{error:e})}},q=function(e,t){return U(G,{dashboardId:e,cell:t})},Q="DELETE_CELL",H={request:function(e,t){return U("CELL_DELETE_REQUEST",{dashboardId:e,cellId:t})},success:function(e,t){return U("CELL_DELETE_SUCCESS",{dashboardId:e,cell:t})},failure:function(e){return U("CELL_DELETE_FAILURE",{error:e})}},Z="UPDATE_ROUTER_STATE",Y="NAVIGATE",K=function(e){return U(Y,{pathname:e})},$="START_WEBSOCKET",ee="STOP_WEBSOCKET",te="SEND_CMD",ne="CMD_RESPONSE",ae=function(e){return U($,{url:e})},re=function(){return U("WEBSOCKET_CONNECTED")},oe=function(){return U("WEBSOCKET_DISCONNECTED")},le=function(e){return U("WEBSOCKET_ERROR",{error:e})},ce=function(e,t,n){var a=Date.now();return a<=L?L+=1:L=a,U(te,{cmd:e,id:L,channel:t,callback:n})},ie=function(e){return U("DELETE_RESULT_BY_CHANNEL",{channel:e})},se="LOAD_ROBOT_MODELS",ue={request:function(){return U("ROBOT_MODELS_FETCH_REQUEST",{})},success:function(e){return U("ROBOT_MODELS_FETCH_SUCCESS",{robotModels:e})},failure:function(e){return U("ROBOT_MODELS_FETCH_FAILURE",{error:e})}},de="DELETE_ROBOT_MODEL_PART",pe={request:function(){return U("ROBOT_MODEL_PART_DELETE_REQUEST",{})},success:function(e){return U("ROBOT_MODEL_PART_DELETE_SUCCESS",{model:e})},failure:function(e){return U("ROBOT_MODEL_PART_DELETE_FAILURE",{error:e})}},me="DELETE_ROBOT_MODEL",fe={request:function(){return U("ROBOT_MODEL_DELETE_REQUEST",{})},success:function(e){return U("ROBOT_MODEL_DELETE_SUCCESS",{model:e})},failure:function(e){return U("ROBOT_MODEL_DELETE_FAILURE",{error:e})}},be="CREATE_ROBOT_MODEL",ge={request:function(e){return U("ROBOT_MODEL_CREATE_REQUEST",{model:e})},success:function(e){return U("ROBOT_MODEL_CREATE_SUCCESS",{model:e})},failure:function(e){return U("ROBOT_MODEL_CREATE_FAILURE",{error:e})}},he={request:function(){return U("UPLOAD_ESI_FILE_REQUEST")},success:function(e){return U("UPLOAD_ESI_FILE_SUCCESS",{path:e})},failure:function(e){return U("UPLOAD_ESI_FILE_FAILURE",{error:e})}},Oe="LOAD_ESI_PATH",ve={request:function(){return U("ESI_PATH_FETCH_REQUEST")},success:function(e){return U("ESI_PATH_FETCH_SUCCESS",{path:e})},failure:function(e){return U("ESI_PATH_FETCH_FAILURE",{error:e})}},Ee="LOAD_CONFIG_XML",ye={request:function(){return U("CONFIG_XML_FETCH_REQUEST")},success:function(e){return U("CONFIG_XML_FETCH_SUCCESS",{xml:e})},failure:function(e){return U("CONFIG_XML_FETCH_FAILURE",{error:e})}},Ce="LOAD_PROGRAMS",Pe={request:function(){return U("PROGRAMS_FETCH_REQUEST")},success:function(e){return U("PROGRAMS_FETCH_SUCCESS",{programs:e})},failure:function(e){return U("PROGRAMS_FETCH_FAILURE",{error:e})}},Fe=function(){return U(Ce)},Re="LOAD_PROGRAM",je={request:function(){return U("PROGRAM_FETCH_REQUEST")},success:function(e){return U("PROGRAM_FETCH_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_FETCH_FAILURE",{error:e})}},Se=function(e){return U(Re,{name:e})},we="CREATE_PROGRAM",xe={request:function(){return U("PROGRAM_CREATE_REQUEST")},success:function(e){return U("PROGRAM_CREATE_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_CREATE_FAILURE",{error:e})}},_e=function(e){var t=e.name;return U(we,{name:t})},Ie="UPDATE_PROGRAM",Ne={request:function(e,t){return U("PROGRAM_UPDATE_REQUEST",{name:e,program:t})},success:function(e){return U("PROGRAM_UPDATE_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_UPDATE_FAILURE",{error:e})}},De="DELETE_PROGRAM",Me={request:function(e){return U("PROGRAM_DELETE_REQUEST",{program:e})},success:function(e){return U("PROGRAM_DELETE_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_DELETE_FAILURE",{error:e})}},Te=function(e){return U(De,{name:e})},ke="RENAME_PROGRAM",Ae={request:function(e,t,n){return U("PROGRAM_RENAME_REQUEST",{name:e,newName:t,copy:n})},success:function(e,t,n){return U("PROGRAM_RENAME_SUCCESS",{name:e,program:t,copy:n})},failure:function(e){return U("PROGRAM_RENAME_FAILURE",{error:e})}},Le=function(e,t,n){return U(ke,{name:e,newName:t,copy:n})},Ue=n(26),Be=n(235),Ve=n.n(Be),We=n(164),Je=n.n(We),ze=n(52),Ge=n.n(ze),Xe=n(76),qe=n.n(Xe);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ze=Object(Ue.b)(Ve.a,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e+"-"+JSON.stringify(t)},"")}),Ye=function(e,t){return e.robot.resultsByChannel[t.cell.i]},Ke=function(e,t){return e.robot.resultsByChannel[t]},$e=(Ze(Ye,function(e){return e}),Ze(Ke,function(e){return e}),function(e,t){var n=t.cell,a="command"===He({},n.options).channel?n.i:"get",r=e.robot.resultsByChannel[a];return r?Object.keys(r).filter(function(e){return!!Je()(r[e])||!(!Ge()(r[e])||!Je()(r[e][0]))}):[]}),et=Ze($e,function(e){return e}),tt=Ze(function(e,t){var n=t.cell,a="command"===He({},n.options).channel?n.i:"get",r=e.robot.resultsByChannel[a],o={};r&&$e(e,{cell:n}).forEach(function(e){Ge()(r[e])&&Je()(r[e][0])&&(o[e]=r[e].map(function(e,t){return t}))});return o},function(e){return e}),nt=function(e,t){var n=t.cell;return"command"===n.options.channel?{cell:n,result:Ke(e,n.i)}:{cell:n,result:Ke(e,"get")}},at=(Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.ai},function(e){return e}),Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.di},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pe},function(e){return e})),rt=function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pq},ot=(Object(Ue.a)(rt,function(e){return e}),Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_acc},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_pos},function(e){return e})),lt=Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_state},function(e){return e}),ct=function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.xbox_mode},it=(Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_toq},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.part_pq},function(e){return e})),st=Ze(it,function(e){return e&&e.join("&")}),ut=Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_al_state},function(e){return e}),dt=(Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_link_num},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_online_state},function(e){return e})),pt=Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.dxl_connected},function(e){return e}),mt=Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.dxl_enabled},function(e){return e}),ft=Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.dxl_auto},function(e){return e}),bt=Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.dxl_normal},function(e){return e}),gt=function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.current_plan},ht=function(e){return e.robot.toolIds},Ot=function(e){return e.robot.currentToolId},vt=function(e){return e.robot.currentWorkObjectId},Et=function(e){return e.robot.currentCoordinateId},yt=function(e){return e.robot.currentMotionVelPercent||0},Ct=function(e){return e.robot.xml},Pt=function(e){return e.router.pathname},Ft=function(e){return e.config.dashboards},Rt=Object(Ue.a)(Ft,function(e){return e&&e.map(function(e){return{name:e.name,i:e.i,editable:e.editable}})}),jt=function(e,t){var n=Ft(e);if(n)return n.filter(function(e){return e.i===t})[0]},St=Object(Ue.a)(Ft,Pt,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a}return e&&e[0]}),wt=(Object(Ue.a)(Rt,Pt,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a.i}return e&&e[0].i}),Object(Ue.a)(Rt,Pt,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a}return e&&e[0]})),xt=function(e){return e.robot.websocketConnected},_t=function(e){var t=e.config;return t.ws&&t.ws.url},It=function(e){var t=e.config;return t.ws&&t.ws.commandSendInterval},Nt=function(e){var t=e.config;return t.ws&&t.ws.getInterval},Dt=function(e){var t=e.config;return t.ws&&t.ws.commandSendDelay},Mt=function(e){var t=e.config;return t.ws&&t.ws.unityUpdateInterval},Tt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,t("view3d",r));return o.a.createElement("div",{className:"".concat(l),ref:function(e){return n.container=e}},o.a.createElement(D.a,{unityContent:n.unityContent}))},n.unityContent=new N.UnityContent("/unity/8.json","/unity/UnityLoader.js"),n.state={},n.unityContent.on("progress",function(e){n.setState({progression:e}),1===e&&(n.unityContent.send("empt","GetUrlFromJs",window.location.origin),n.props.xml&&n.unityContent.send("empt","GetRobotXmlFromJS",n.props.xml),n.props.partPQ&&n.unityContent.send("empt","ReceiveDataFromJs",n.props.partPQ),n.unityContent.send("empt","SetCameraBackGround","0&0&0"),n.unityContent.send("empt","SetFPS","20"))}),n.throttleSend=T()(n.unityContent.send.bind(n.unityContent),n.props.unityUpdateInterval),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.deleteResultByChannel("xml"),this.props.loadConfigXml()}},{key:"componentWillUnmount",value:function(){this.unityContent.remove("progress")}},{key:"shouldComponentUpdate",value:function(e,t,n){var a=this;return e.xml!==this.props.xml&&e.xml&&1===this.state.progression&&this.unityContent.send("empt","GetRobotXmlFromJS",e.xml),e.partPQ!==this.props.partPQ&&e.partPQ&&1===this.state.progression&&setTimeout(function(){a.throttleSend("empt","ReceiveDataFromJs",e.partPQ)},0),!1}},{key:"unityProgress",value:function(e,t){e.Module&&this.setState({progress:e.progress})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component);var kt=Object(i.b)(function(e){return{xml:Ct(e),partPQ:st(e),unityUpdateInterval:Mt(e)}},{loadConfigXml:function(){return U(Ee)},deleteResultByChannel:ie})(Tt);kt.NAME="\u4e09\u7ef4\u89c6\u56fe";var At=kt,Lt=n(1),Ut=n.n(Lt),Bt=n(23),Vt=n.n(Bt),Wt=n(21),Jt=n.n(Wt);function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).interval=null,n.timeout=null,n.sendCmd=function(e,t){var a=n.props,r=a.sendCmd,o=a.cell;r(e,t||o.i)},n.getSendCmdFn=function(e,t){return function(){n.sendCmd(e,t)}.bind(Object(m.a)(n))},n.getOnMouseDownFn=function(e,t){return function(){n.interval&&clearInterval(n.interval);var a=n.props,r=a.commandSendInterval,o=a.commandSendDelay,l=function(){n.sendCmd(e,t)},c=Object(m.a)(n);c.timeout=setTimeout(function(){c.interval=setInterval(l,r)},o)}.bind(Object(m.a)(n))},n.getOnMouseUpFn=function(e,t){return function(){n.timeout&&clearTimeout(n.timeout),n.interval&&clearInterval(n.interval),n.timeout&&n.interval&&e&&t&&(setTimeout(function(){n.sendCmd(e,t)},10),n.timeout=null,n.interval=null)}.bind(Object(m.a)(n))},n.getOptions=function(){var e=n.props.cell;return console.log(e),e.options?e.options:{}},n.updateOptions=function(e){var t=Gt({},n.props.cell);t.options=Gt({},t.options,{},e),n.props.onCellUpdate(t)},n.renderContent=function(e){e.prefixCls;throw new Error("renderComponent not implemented")},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),qt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogCoordinate=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.endPE,c=a.motionVelPercent,i=a.coordinateId,s=a.toolId,u=a.workObjectId,d=a.cell,p=t("jog-coordinate",r),m=["X","Y","Z","RX","RY","RZ"],f=["x","y","z","rx","ry","rz"];return o.a.createElement("div",{className:"".concat(p)},m.map(function(e,t){return o.a.createElement(Vt.a,{key:e},o.a.createElement(Jt.a,{type:"primary",size:"large",onClick:function(){n.getSendCmdFn("j".concat(f[t]," --vel_percent=").concat(c," --direction=-1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseDown:function(){n.getOnMouseDownFn("j".concat(f[t]," --vel_percent=").concat(c," --direction=-1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(f[t]," --stop"),d.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(f[t]," --stop"),d.i)()}},e,"-"),o.a.createElement(Vt.a,{className:"".concat(p,"-end_pe")},o.a.createElement("div",null,!("X"!==m[t])&&o.a.createElement("span",null,l&&(l[t]||0===l[t])?(1e3*l[t]).toFixed(3):"null"),!("Y"!==m[t])&&o.a.createElement("span",null,l&&(l[t]||0===l[t])?(1e3*l[t]).toFixed(3):"null"),!("Z"!==m[t])&&o.a.createElement("span",null,l&&(l[t]||0===l[t])?(1e3*l[t]).toFixed(3):"null"),!("RX"!==m[t])&&o.a.createElement("span",null,l&&(l[t]||0===l[t])?(l[t]/Math.PI*180).toFixed(3):"null"),!("RY"!==m[t])&&o.a.createElement("span",null,l&&(l[t]||0===l[t])?(l[t]/Math.PI*180).toFixed(3):"null"),!("RZ"!==m[t])&&o.a.createElement("span",null,l&&(l[t]||0===l[t])?(l[t]/Math.PI*180).toFixed(3):"null"))),o.a.createElement(Jt.a,{type:"primary",size:"large",onClick:function(){n.getSendCmdFn("j".concat(f[t]," --vel_percent=").concat(c," --direction=1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseDown:function(){n.getOnMouseDownFn("j".concat(f[t]," --vel_percent=").concat(c," --direction=1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(f[t]," --stop"),d.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(f[t]," --stop"),d.i)()}},e,"+"))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogCoordinate)}}]),t}(Xt);qt.propTypes={cell:Ut.a.object.isRequired,sendCmd:Ut.a.func.isRequired,motionVelPercent:Ut.a.number,coordinateId:Ut.a.number.isRequired,toolId:Ut.a.number.isRequired,workObjectId:Ut.a.number.isRequired,endPE:Ut.a.array};var Qt=Object(Ue.a)(yt,Et,Ot,vt,at,function(e,t,n,a,r){return{coordinateId:t,motionVelPercent:e,toolId:n,workObjectId:a,endPE:r}});var Ht=Object(i.b)(function(e){return Qt(e)},{sendCmd:ce})(qt);Ht.NAME="\u624b\u52a8\u7b1b\u5361\u5c14\u5750\u6807\u7cfbJog\u7ec4\u4ef6";var Zt=Ht,Yt=function(e){return o.a.createElement("svg",Object.assign({width:"90px",height:"76px",viewBox:"0 0 90 76",version:"1.1"},e),o.a.createElement("rect",{fillRule:"nonzero",x:"0",y:"55.243",width:"18.306",height:"20.204"}),o.a.createElement("rect",{fillRule:"nonzero",x:"23.711",y:"37.304",width:"18.493",height:"38.143"}),o.a.createElement("rect",{fillRule:"nonzero",x:"47.609",y:"18.929",width:"18.493",height:"56.518"}),o.a.createElement("rect",{fillRule:"nonzero",x:"71.507",y:"0.38",width:"18.493",height:"75.067"}))},Kt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){for(var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.slaveOnlineState,i=a.slaveAlState,s=a.motionState,u=a.motionPos,d=a.motionVelPercent,p=(a.Dxl_connected,a.Dxl_enabled,a.Dxl_auto,a.Dxl_normal,t("jog-joint",r)),m=[],f=[],b=0;b<10;b++)m.push(b);if(m.length>7)for(var g=1;g<m.length-6;g++)f.push(g);return o.a.createElement("div",{className:"".concat(p)},m.slice(0,7).map(function(e){return o.a.createElement(Vt.a,{key:e},o.a.createElement(Jt.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("j".concat(e+1," --direction=-1 --vel_percent=").concat(d),l.i)},onMouseDown:function(){n.getOnMouseDownFn("j".concat(e+1," --direction=-1 --vel_percent=").concat(d),l.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()}},"J",e+1,"-"),o.a.createElement("div",{className:"".concat(p,"-status")},o.a.createElement("span",null,u&&(u[e]||0===u[e])?(u[e]/Math.PI*180).toFixed(3):"null"),o.a.createElement("div",{className:"".concat(p,"-status-icons")},o.a.createElement(w.a,{component:Yt,className:"".concat(c&&c[e]?"".concat(p,"-slave-online-state ").concat(p,"-slave-online-state-").concat(i&&i[e]):"".concat(p,"-slave-online-state disabled"))}),!(!s||!s[e])&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"success"}),!(s&&s[e])&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"disabled"}))),o.a.createElement(Jt.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("j".concat(e+1," --direction=1 --vel_percent=").concat(d),l.i)},onMouseDown:function(){n.getOnMouseDownFn("j".concat(e+1," --direction=1 --vel_percent=").concat(d),l.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()}},"J",e+1,"+"))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(Xt);Kt.propTypes={cell:Ut.a.object.isRequired,sendCmd:Ut.a.func.isRequired,vel:Ut.a.number,motionPos:Ut.a.array,slaveOnlineState:Ut.a.array,Dxl_connected:Ut.a.bool,Dxl_enabled:Ut.a.bool,Dxl_auto:Ut.a.bool,Dxl_normal:Ut.a.bool};var $t=Object(Ue.a)(yt,ot,lt,dt,ut,pt,mt,ft,bt,function(e,t,n,a,r,o,l,c,i){return{motionVelPercent:e,motionPos:t,motionState:n,slaveOnlineState:a,slaveAlState:r,Dxl_connected:o,Dxl_enabled:l,Dxl_auto:c,Dxl_normal:i}});var en=Object(i.b)(function(e){return $t(e)},{sendCmd:ce})(Kt);en.NAME="\u624b\u52a8\u5173\u8282\u5750\u6807\u7cfbJog\u7ec4\u4ef6";var tn=en,nn=function(e){var t=e.robot;return t.resultsByChannel&&t.resultsByChannel.get&&t.resultsByChannel.get.state_code},an=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.cols},rn=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.rowHeight},on=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.margin},ln=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.containerPadding},cn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,a.websocketConnected),c=a.stateCode;c||(c=100);console.log("robot state code",c);var i={100:"#AAAAAA",200:"#FF851B",300:"#FF4136",400:"#0074D9",500:"#01FF70"}[c],s={100:"\u53bb\u4f7f\u80fd",200:"\u624b\u52a8",300:"\u51c6\u5907\u81ea\u52a8",400:"\u81ea\u52a8",500:"\u9519\u8bef\u505c\u76ee"}[c],u=t("robot-status",r);return o.a.createElement("div",{className:"".concat(u)},o.a.createElement("div",null,!!l&&o.a.createElement(w.a,{type:"wifi",className:"success"}),!!l&&o.a.createElement("span",null,"\u5df2\u8fde\u63a5"),!l&&o.a.createElement(w.a,{type:"wifi",className:"danger"}),!l&&o.a.createElement("span",null,"\u672a\u8fde\u63a5")),o.a.createElement("div",null,o.a.createElement(w.a,{style:{color:i,fill:i},fill:i,type:"check-circle",className:"info",theme:"filled"}),o.a.createElement("span",null,s||"\u65e0\u72b6\u6001")))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component);var sn=Object(i.b)(function(e){return{stateCode:nn(e),websocketConnected:xt(e)}})(cn);sn.NAME="\u673a\u5668\u4eba\u72b6\u6001";var un=sn,dn=n(320),pn=n.n(dn),mn=n(59),fn=n.n(mn),bn=n(89),gn=n.n(bn),hn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={enable:!0},n.onChange=function(e){var t=n.props.cell;e?(n.sendCmd("md","".concat(t.i,"-md")),n.sendCmd("rc","".concat(t.i,"-rc")),n.sendCmd("en","".concat(t.i,"-en")),n.setState({enable:!0})):(n.sendCmd("ds","".concat(t.i,"-ds")),n.setState({enable:!1}))},n.resetEnable=function(){var e=n.props.cell;n.props.deleteResultByChannel("".concat(e.i,"-md")),n.props.deleteResultByChannel("".concat(e.i,"-rc")),n.props.deleteResultByChannel("".concat(e.i,"-en")),n.setState({enable:!1})},n.resetDisable=function(){var e=n.props.cell;n.props.deleteResultByChannel("".concat(e.i,"-ds")),n.setState({enable:!0})},n.renderManualSwitch=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.stateCode,i=a.resultMD,s=a.resultRC,u=a.resultEN,d=a.resultDS,p=a.resultXboxMode;console.log(p);Math.floor(c),Math.floor(c);var f=t("manual-switch",r),b=(Object(m.a)(n),n.state.enable),g=b&&i&&s&&u&&(0!==i.return_code||0!==s.return_code||0!==u.return_code),h=!b&&d&&0!==d.return_code;return o.a.createElement("div",{className:"".concat(f)},o.a.createElement("div",null,o.a.createElement(pn.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:b&&i&&s&&u&&0===i.return_code&&0===s.return_code&&0===u.return_code,onChange:n.onChange}),o.a.createElement("span",null,100===c?"\u4f7f\u80fd":"\u672a\u4f7f\u80fd")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"drag",onClick:function(){n.sendCmd("mvJoint",l.i)}}),o.a.createElement("span",null,"\u62d6\u52a8")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"pause-circle",onClick:function(){n.sendCmd("FCStop",l.i)}}),o.a.createElement("span",null,"\u505c\u6b62\u529b\u63a7")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"swap",onClick:function(){n.sendCmd("mvf",l.i)}}),o.a.createElement("span",null,"\u8f68\u8ff9\u590d\u73b0")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"rollback",onClick:function(){n.sendCmd("rs --pos={0.5,0.39252,0.7899,0.5,0.5,0.5} --vel=0.02",l.i)}}),o.a.createElement("span",null,"\u56de\u96f6\u70b9")),o.a.createElement("div",null,!(!p||1!=p)&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"success"}),!(!p||1!=p)&&o.a.createElement("span",{style:{display:"block",position:"relative",top:"10px",textAlign:"center"}},"\u624b\u67c4\u5173\u8282"),!(null!=p&&0!=p)&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",style:{display:"inline",height:"100px"},className:"danger"}),!(null!=p&&0!=p)&&o.a.createElement("span",{style:{display:"block",position:"relative",top:"10px",textAlign:"center"}},"\u624b\u67c4"),!(!p||2!=p)&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"success"}),!(!p||2!=p)&&o.a.createElement("span",{style:{display:"block",position:"relative",top:"10px",textAlign:"center"}},"\u624b\u67c4\u672b\u7aef"),!(!p||3!=p)&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"success"}),!(!p||3!=p)&&o.a.createElement("span",{style:{display:"block",position:"relative",top:"10px",textAlign:"center"}},"\u624b\u67c4\u8235\u673a")),o.a.createElement(fn.a,{visible:g,title:"\u4f7f\u80fd\u9519\u8bef",onOk:n.resetEnable,onCancel:n.resetEnable,centered:!0,footer:[o.a.createElement(Jt.a,{key:"close",onClick:n.resetEnable},"\u5173\u95ed")]},!(!i||0===i.return_code)&&o.a.createElement("p",{className:"danger"},"MD ",i&&(i.return_message?"\u8fd4\u56de\u7801\uff1a".concat(i.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(i.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(i.return_code))),!(!s||0===s.return_code)&&o.a.createElement("p",{className:"danger"},"RC ",s&&(s.return_message?"\u8fd4\u56de\u7801\uff1a".concat(s.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(s.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(s.return_code))),!(!u||0===u.return_code)&&o.a.createElement("p",{className:"danger"},"EN ",u&&(u.return_message?"\u8fd4\u56de\u7801\uff1a".concat(u.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(u.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(u.return_code)))),o.a.createElement(fn.a,{visible:h,title:"\u53bb\u4f7f\u80fd\u9519\u8bef",onOk:n.resetDisable,onCancel:n.resetDisable,centered:!0,footer:[o.a.createElement(Jt.a,{key:"close",onClick:n.resetDisable},"\u5173\u95ed")]},o.a.createElement("span",{className:"danger"},d&&(d.return_message?"\u8fd4\u56de\u7801\uff1a".concat(d.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(d.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(d.return_code)))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderManualSwitch)}}]),t}(Xt);hn.propTypes={cell:Ut.a.object.isRequired,stateCode:Ut.a.number};var On=Object(i.b)(function(){var e=Ze(function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-md")]},function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-rc")]},function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-en")]},function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-ds")]},ct,function(e,t,n,a,r){return{resultMD:e,resultRC:t,resultEN:n,resultDS:a,resultXboxMode:r}});return function(t,n){return e(t,n)}},{deleteResultByChannel:ie})(hn);On.NAME="\u624b\u52a8\u63a7\u5236\u5f00\u5173";var vn=On,En=(n(270),n(535)),yn=n.n(En),Cn=(n(690),n(692),n(693),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){console.log("change",e)},n.renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,t("code-editor",r));return o.a.createElement("div",{className:"".concat(l)},o.a.createElement(yn.a,{mode:"javascript",theme:"monokai",width:"100%",height:"100%",value:'\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\n    ',onChange:n.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component));var Pn=Object(i.b)(function(e){return{robotStatus:e.robot.robotStatus}})(Cn);Pn.NAME="\u4ee3\u7801\u7f16\u8f91";var Fn=Pn,Rn=n(46),jn=n.n(Rn),Sn=n(536),wn=n.n(Sn),xn=jn.a.TextArea,_n=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).interval=null,n.timeout=null,n.getSendCmdFn=function(){return function(){var e=n.props,t=e.sendCmd,a=e.cell,r=n.getOptions();r.command&&r.command.split("\n").forEach(function(e){(e=e.trim())&&(t(e,a.i),n.terminal.runCommandOnActive("showCmd "+e))})}.bind(Object(m.a)(n))},n.getOnMouseDownFn=function(){return function(){n.interval&&clearInterval(n.interval);var e=n.getSendCmdFn(),t=Object(m.a)(n),a=n.props,r=a.commandSendInterval,o=a.commandSendDelay;t.timeout=setTimeout(function(){t.interval=setInterval(e,r)},o)}.bind(Object(m.a)(n))},n.getOnMouseUpFn=function(){return function(){n.interval&&clearInterval(n.interval),n.timeout&&clearTimeout(n.timeout)}.bind(Object(m.a)(n))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,a.results,n.getOptions()),c=t("debugger",r),i=Object(m.a)(n);return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(Vt.a,null,o.a.createElement(xn,{rows:2,value:l.command,onChange:function(e){n.updateOptions({command:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u4e00\u884c\u673a\u5668\u4eba\u6307\u4ee4"}),o.a.createElement(Jt.a,{onClick:n.getSendCmdFn(),onMouseDown:n.getOnMouseDownFn(),onMouseUp:n.getOnMouseUpFn(),onMouseOut:n.getOnMouseUpFn(),type:"primary",shape:"round",icon:"play-circle",size:"large"},"Send"),o.a.createElement("div",{className:"".concat(c,"-terminal")},o.a.createElement(wn.a,{color:"green",backgroundColor:"black",barColor:"black",hideTopBar:!0,allowTabs:!1,commands:{showCmd:function(e,t,n){if(e[1])t(e.slice(1).join(" "));else{var a=i.getOptions();a.command&&t(a.command)}},send:function(e,t,n){i.props.sendCmd(e[1],i.props.cell.i)},showResult:function(e,t,a){t(JSON.stringify(n.result))}},descriptions:{send:'\u53d1\u9001\u6307\u4ee4\u7ed9\u673a\u5668\u4eba, "send [\u673a\u5668\u4eba\u6307\u4ee4]", \u4f8b\u5982 "send get"',showResult:"\u663e\u793a\u6700\u8fd1\u4e00\u6761\u8fd4\u56de\u503c",showCmd:"\u663e\u793a\u5f53\u524d\u6307\u4ee4\u503c"},ref:function(e){return n.terminal=e}}))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return e.result!==this.props.result&&(this.result=e.result,this.terminal.runCommandOnActive("showResult")),e.cell!==this.props.cell||e.result!==this.props.result}}]),t}(Xt);_n.propTypes={results:Ut.a.array.isRequired};var In=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=[];return Object(Ue.a)(Ye,function(n,a){console.log(a),n&&t.push(n);var r=t.length;return r>e&&t.splice(0,r-e),t})}(10);return function(t,n){return{results:e(t,n),result:Ke(t,n.cell.i)}}})(_n);In.NAME="\u8c03\u8bd5\u9762\u677f";var Nn=In;function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Tn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getOptions=function(){var e=n.props.cell;return e.options?e.options:{}},n.updateOptions=function(e){var t=Mn({},n.props.cell);t.options=Mn({},t.options,{},e),n.props.onCellUpdate(t)},n.showConfig=function(){var e=n.getOptions();n.updateOptions(Mn({},e,{showConfig:!0}))},n.hideConfig=function(){console.log("hideConfig");var e=n.getOptions();n.updateOptions(Mn({},e,{showConfig:null}))},n.renderContent=function(e){e.prefixCls;throw new Error("renderContent not implemented")},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),kn=n(48),An=n.n(kn),Ln=n(57),Un=n.n(Ln),Bn=n(38),Vn=n.n(Bn),Wn=n(36),Jn=n.n(Wn),zn=n(47),Gn=n.n(zn);function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qn=jn.a.Search,Hn=Un.a.Group,Zn=An.a.Item,Yn=Vn.a.Option,Kn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sources:[]},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var a=n.getOptions();n.updateOptions(qn({},a,{},t,{sources:t.sources,showConfig:!1}))}})},n.remove=function(e){n.setState({sources:n.state.sources.filter(function(t,n){return n!==e})})},n.add=function(){n.setState({sources:[].concat(Object(b.a)(n.state.sources),[{}])})},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.sendCmd,i=n.getOptions(),s=n.props.form.getFieldDecorator,u=t("realtime-chart-config",r),d=i.interval||1e3;return o.a.createElement(fn.a,{title:"\u6dfb\u52a0\u6570\u636e",visible:!!i.showConfig,maskClosable:!1,okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",width:"80%",onOk:n.handleSubmit,onCancel:n.hideConfig,wrapClassName:"".concat(u)},o.a.createElement(An.a,{layout:"horizontal"},o.a.createElement(Zn,{label:"\u6570\u636e\u6765\u6e90"},s("channel",{initialValue:"command"===i.channel?"command":"get",rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6765\u6e90"}]})(o.a.createElement(Hn,{onChange:function(e){n.updateOptions(qn({},i,{channel:e.target.value}))}},o.a.createElement(Un.a,{value:"get"},"\u9ed8\u8ba4GET"),o.a.createElement(Un.a,{value:"command"},"\u81ea\u5b9a\u4e49\u547d\u4ee4")))),"command"===i.channel&&o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,{span:20},o.a.createElement(Zn,{label:"\u8fd0\u884c\u6307\u4ee4",labelCol:{span:4},wrapperCol:{span:20}},s("command",{initialValue:i.command,rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4"}]})(o.a.createElement(Qn,{onSearch:function(e){c(e,l.i)},enterButton:"\u8fd0\u884c"})))),o.a.createElement(Jn.a,{span:4},o.a.createElement(Zn,{label:"\u8fd0\u884c\u95f4\u9694",labelCol:{span:12},wrapperCol:{span:12}},s("interval",{initialValue:d,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4"}]})(o.a.createElement(Gn.a,{min:30,step:1,formatter:function(e){return"".concat(e,"\u6beb\u79d2")},parser:function(e){return e.replace("\u6beb\u79d2","")}}))))),n.renderDataSources(i)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){var a=e.cell,r=e.dataSources,o=this.props,l=o.cell,c=o.dataSources;if(!qe()(a,l)&&l&&l.options&&l.options&&l.options.sources)try{this.setState({sources:l.options.sources})}catch(i){}qe()(r,c)||this.setState({sources:this.state.sources.filter(function(e){return!e.source||-1!==c.indexOf(e.source)})})}},{key:"renderDataSources",value:function(e){var t=this,n=this.props.form,a=n.getFieldDecorator,l=(n.getFieldValue,n.getFieldsValue),c=this.props,i=c.dataSources,s=c.dataIndexes;(e.sources||[]).forEach(function(e,t){a("sources[".concat(t,"].source"),{initialValue:e.source})});var u=this.state.sources;if(!i||!s)return o.a.createElement("div",null,"\u6570\u636e\u7b49\u5f85\u4e2d...");if(0===Object.keys(i).length)return o.a.createElement("div",{style:{textAlign:"center"},className:"error"},"\u65e0\u53ef\u6dfb\u52a0\u6570\u636e\u9879\uff0c\u8bf7\u8f93\u5165\u5e76\u8fd0\u884c\u6307\u4ee4\uff0c\u5e76\u786e\u8ba4\u8fd4\u56de\u7ed3\u679c\u4e2d\u5305\u542b\u6570\u503c\u3002");var d=l().sources;d||(d=[]);var p=u.map(function(e,n){return o.a.createElement(Vt.a,{key:n},o.a.createElement(Jn.a,{span:10},o.a.createElement(Zn,{label:"\u6570\u636e\u9879",labelCol:{span:8},wrapperCol:{span:16}},a("sources[".concat(n,"].source"),{initialValue:e.source,rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u9879"}]})(o.a.createElement(Vn.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9\u6570\u636e\u9879"},i.map(function(e){return o.a.createElement(Yn,{key:e,value:e},e)}))))),o.a.createElement(Jn.a,{span:10},!!d[n]&&!!s[d[n].source]&&o.a.createElement(Zn,{label:"index",labelCol:{span:8},wrapperCol:{span:16}},a("sources[".concat(n,"].index"),{initialValue:e.index,rules:[{type:"number",required:!0,message:"\u8bf7\u9009\u62e9index"}]})(o.a.createElement(Vn.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9index"},s[d[n].source].map(function(e){return o.a.createElement(Yn,{key:e.toString(),value:e},e)}))))),o.a.createElement(Jn.a,{span:4},o.a.createElement(An.a.Item,{style:{paddingLeft:20}},o.a.createElement(Jt.a,{onClick:t.remove.bind(t,n),type:"danger"},o.a.createElement(w.a,{type:"minus"})," \u79fb\u9664"))))});return o.a.createElement(r.Fragment,null,p,o.a.createElement(An.a.Item,{wrapperCol:{span:24},style:{textAlign:"center"}},o.a.createElement(Jt.a,{type:"dashed",onClick:this.add},o.a.createElement(w.a,{type:"plus"})," \u6dfb\u52a0\u6570\u636e\u9879")))}}]),t}(Tn),$n=Object(Ue.a)(et,tt,function(e,t){return{dataSources:e,dataIndexes:t}});var ea=Object(i.b)(function(e,t){return $n(e,t)},{sendCmd:ce,deleteResultByChannel:ie})(An.a.create({mapPropsToFields:function(e){var t=e.sources;e.cell;return function e(t){return Object.keys(t).reduce(function(n,a){return qn({},n,Object(g.a)({},a,"object"!==typeof t[a]||"value"in t[a]?An.a.createFormField(qn({},t[a],{value:t[a]&&t[a].value})):Ge()(t[a])?t[a].map(function(t){return e(t)}):e(t[a])))},{})}({sources:t})},onValuesChange:function(e,t){}})(Kn)),ta=n(540),na=n.n(ta),aa=n(323),ra=n.n(aa),oa=["#dd6b6699","#759aa099","#e69d8799","#8dc1a999","#ea7e5399","#eedd7899","#73a37399","#73b9bc99","#7289ab99","#91ca8c99","#f49f4299"],la={color:oa,backgroundColor:"#111",tooltip:{axisPointer:{lineStyle:{color:"#555"},crossStyle:{color:"#555"}}},legend:{textStyle:{color:"#555"}},textStyle:{color:"#555"},title:{textStyle:{color:"#555"}},toolbox:{iconStyle:{normal:{borderColor:"#555"}}},dataZoom:{textStyle:{color:"#555"}},visualMap:{textStyle:{color:"#555"}},timeline:{lineStyle:{color:"#555"},itemStyle:{normal:{color:oa[1]}},label:{normal:{textStyle:{color:"#555"}}},controlStyle:{normal:{color:"#555",borderColor:"#555"}}},timeAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},logAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},valueAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},categoryAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},line:{symbol:"circle"},graph:{color:oa},gauge:{title:{textStyle:{color:"#555"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};la.categoryAxis.splitLine.show=!1,ra.a.registerTheme("robot_theme",la);var ca=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataChannel,n=e.results;if(0===Object.keys(n).length)return null;var a={title:{text:"\u6570\u636e\u6765\u6e90 "+t,x:"center",y:"bottom",textStyle:{fontSize:12}},legend:{data:Object.keys(n)},xAxis:{splitLine:{show:!1},boundaryGap:!0,min:"dataMin",max:"dataMax",type:"category"},yAxis:{splitLine:{show:!1},type:"value"},series:Object.keys(n).map(function(e){return{name:e,data:n[e],symbol:"none",type:"line"}})};return o.a.createElement(r.Fragment,null,o.a.createElement(na.a,{style:{width:"100%",height:"100%"},theme:"robot_theme",option:a,notMerge:!0,lazyUpdate:!0}))}}]),t}(r.Component);function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var sa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).interval=null,n.state={playing:!0},n.resetInterval=function(){clearInterval(n.interval);var e=n.props,t=e.cell,a=e.sendCmd;if(t.options&&!t.options.showConfig&&"command"===t.options.channel&&t.options.command&&t.options.interval&&!t.options.paused){var r=t.options.command,o=t.i;n.interval=setInterval(function(){a(r,o)},t.options.interval)}},n.handleChange=function(e){var t=n.getOptions();n.updateOptions(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{channel:e}))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,l=a.prefixCls,c=a.cell,i=a.results,s=t("realtime-chart",l),u=c.options&&c.options.channel&&c.options.sources&&c.options.sources.length>0,d="".concat("get"===c.options.channel?"get":c.options.command);return o.a.createElement("div",{className:"".concat(s," ").concat(!u&&s+"-no-data")},!u&&o.a.createElement("div",null,o.a.createElement("span",null,"\u672a\u914d\u7f6e\u6570\u636e\u6e90 \u6216 \u672a\u5173\u8054\u6570\u636e\u9879"),o.a.createElement("div",{style:{marginTop:20}},o.a.createElement(Jt.a,{type:"primary",onClick:function(){n.updateOptions({showConfig:!0})}},"\u6dfb\u52a0\u914d\u7f6e\u6570\u636e"))),u&&o.a.createElement(r.Fragment,null,o.a.createElement(ca,{dataChannel:d,prefixCls:s,results:i}),c.options.paused&&o.a.createElement(w.a,{type:"play-circle",className:"".concat(s,"-play ").concat(s,"-play-start"),onClick:function(){n.updateOptions({paused:!1})}}),!c.options.paused&&o.a.createElement(w.a,{type:"pause-circle",className:"".concat(s,"-play"),onClick:function(){n.updateOptions({paused:!0})}})))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidMount",value:function(){this.resetInterval(),this.start=new Date}},{key:"shouldComponentUpdate",value:function(e,t,n){var a=new Date;return a-this.start>1e3&&(this.start=a,!0)}},{key:"componentDidUpdate",value:function(e,t,n){var a=e.cell,r=this.props.cell;qe()(a,r)||this.resetInterval(),r.options.showConfig!==a.options.showConfig&&r.options.showConfig&&this.props.deleteResultByChannel(r.i)}}]),t}(Xt);sa.propTypes={results:Ut.a.object.isRequired};var ua=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t={},n=null;return Object(Ue.a)(nt,function(a){var r=a.result,o=a.cell;if(o.options.paused)return t;if(qe()(o.options.sources,n)||(n=o.options.sources?Object(b.a)(o.options.sources):[],t={}),t=He({},t),r){var l=new Date,c=l.getHours(),i=l.getMinutes();i<10&&(i="0"+i);var s=l.getSeconds();s<10&&(s="0"+s);var u=l.toString(),d="".concat(c,":").concat(i,":").concat(s);n.map(function(n){var a=n.source;(n.index||0===n.index)&&(a="".concat(a,"_").concat(n.index)),t[a]||(t[a]=[]),Ge()(r[n.source])&&Je()(r[n.source][n.index])?t[a]=[].concat(Object(b.a)(t[a]),[{name:u,value:[d,r[n.source][n.index]]}]):Je()(r[n.source])?t[a]=[].concat(Object(b.a)(t[a]),[{name:u,value:[d,r[n.source]]}]):t[a]=[].concat(Object(b.a)(t[a]),[{name:u,value:[d,0]}]);var o=t[a].length;o>e&&t[a].splice(0,o-e)})}return t})}(1e3);return function(t,n){return{results:e(t,n)}}},{deleteResultByChannel:ie})(sa);ua.NAME="\u5b9e\u65f6\u7ed8\u56fe",ua.CONFIG=ea;var da=ua,pa=n(325),ma=n.n(pa),fa=n(196),ba=n.n(fa);function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ha=Vn.a.Option,Oa={UserInput:"\u76f4\u63a5\u8f93\u5165\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u548c\u8d44\u6001(\u6b27\u62c9\u89d2)",CalibT4P:"\u4ee5\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u53c2\u8003\u5750\u6807\u7cfb\uff0c\u6807\u5b9a\u51fa\u5de5\u5177\u5750\u6807\u7cfb\u539f\u70b9\u7684\u4f4d\u7f6e\u504f\u79fb\u91cf\uff0c\u5de5\u5177\u5750\u6807\u7cfb\u7684\u59ff\u6001\u9ed8\u8ba4\u4e0e\u6cd5\u5170\u5750\u6807\u7cfb\u4e00\u81f4\u3002",CalibT5P:"\u4ee5\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u53c2\u8003\u5750\u6807\u7cfb\uff0c\u6807\u5b9a\u51fa\u5de5\u5177\u5750\u6807 \u7cfb\u539f\u70b9\u7684\u4f4d\u7f6e\u504f\u79fb\u91cf\u4ee5 \u53ca\u5de5\u5177\u5750\u6807\u7cfb Z \u8f74\u7684\u65b9 \u5411\u3002",CalibT6P:"\u4ee5\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u53c2\u8003\u5750\u6807\u7cfb\uff0c\u6807\u5b9a\u51fa\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u59ff\u3002"},va={CalibT4P:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"1)\u9009\u62e9\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u5f53\u524d\u5de5\u5177\u5750\u6807\u7cfb\uff0c\u673a\u5668\u4eba\u5e95\u5ea7\u5750\u6807\u7cfb\u4e3a \u5f53\u524d\u5de5\u4ef6\u5750\u6807\u7cfb; "),o.a.createElement("p",null," 2)\u624b\u52a8\u793a\u6559\uff0c\u4ee5\u4e0d\u540c\u59ff\u6001\u4f7f\u79fb\u52a8\u5de5\u5177\u4f7f\u5de5\u5177\u4e2d\u5fc3\u70b9\u6cbf\u67d0\u4e00\u65b9 \u5411\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u5e76\u4fdd\u5b58\u6b64\u65f6\u7684\u4f4d\u59ff\uff0c\u4f9d\u6b21\u6cbf 4 \u4e2a\u4e0d\u540c \u65b9\u5411\u83b7\u53d6\u793a\u6559\u70b9\u7684\u4f4d\u59ff\u6570\u636e;"),o.a.createElement("p",null,"3)\u786e\u8ba4\u6807\u5b9a\u7ed3\u679c\u3002")),CalibT5P:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"1)\u9009\u62e9\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u5f53\u524d\u5de5\u5177\u5750\u6807\u7cfb\uff0c\u673a\u5668\u4eba\u5e95\u5ea7\u5750\u6807\u7cfb\u4e3a \u5f53\u524d\u5de5\u4ef6\u5750\u6807\u7cfb;"),o.a.createElement("p",null,"2)\u624b\u52a8\u793a\u6559\uff0c\u4ee5\u4e0d\u540c\u59ff\u6001\u4f7f\u79fb\u52a8\u5de5\u5177\u4f7f\u5de5\u5177\u4e2d\u5fc3\u70b9\u6cbf\u67d0\u4e00\u65b9 \u5411\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u5e76\u4fdd\u5b58\u6b64\u65f6\u7684\u4f4d\u59ff\uff0c\u4f9d\u6b21\u6cbf 4 \u4e2a\u4e0d\u540c \u65b9\u5411\u83b7\u53d6\u793a\u6559\u70b9\u7684\u4f4d\u59ff\u6570\u636e; "),o.a.createElement("p",null,"3)\u4ee5\u7b2c 4 \u70b9\u7684\u5de5\u5177\u4f4d\u59ff\u4e3a\u57fa\u51c6\uff0c\u4fdd\u6301\u5de5\u5177\u59ff\u6001\u4e0d\u53d8\uff0c\u5c06\u5de5\u5177 \u5750\u6807\u7cfb Z \u8f74\u6b63\u65b9\u5411\u4e0a\u67d0\u4e00\u7279\u5f81\u70b9\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u4fdd\u5b58\u7b2c 5 \u4e2a\u793a\u6559\u70b9\u7684\u4f4d\u59ff; "),o.a.createElement("p",null,"4)\u786e\u8ba4\u6807\u5b9a\u7ed3\u679c\u3002")),CalibT6P:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"1)\u9009\u62e9\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u5f53\u524d\u5de5\u5177\u5750\u6807\u7cfb\uff0c\u673a\u5668\u4eba\u5e95\u5ea7\u5750\u6807\u7cfb\u4e3a \u5f53\u524d\u5de5\u4ef6\u5750\u6807\u7cfb; "),o.a.createElement("p",null,"2)\u624b\u52a8\u793a\u6559\uff0c\u4ee5\u4e0d\u540c\u59ff\u6001\u4f7f\u79fb\u52a8\u5de5\u5177\u4f7f\u5de5\u5177\u4e2d\u5fc3\u70b9\u6cbf\u67d0\u4e00\u65b9 \u5411\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u5e76\u4fdd\u5b58\u6b64\u65f6\u7684\u4f4d\u59ff\uff0c\u4f9d\u6b21\u6cbf 4 \u4e2a\u4e0d\u540c \u65b9\u5411\u83b7\u53d6\u793a\u6559\u70b9\u7684\u4f4d\u59ff\u6570\u636e;"),o.a.createElement("p",null,"3)\u4ee5\u7b2c 4 \u70b9\u7684\u5de5\u5177\u4f4d\u59ff\u4e3a\u57fa\u51c6\uff0c\u4fdd\u6301\u5de5\u5177\u59ff\u6001\u4e0d\u53d8\uff0c\u5c06\u5de5\u5177 \u5750\u6807\u7cfb Z \u8f74\u6b63\u65b9\u5411\u4e0a\u67d0\u4e00\u7279\u5f81\u70b9\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u4fdd\u5b58\u7b2c 5 \u4e2a\u793a\u6559\u70b9\u7684\u4f4d\u59ff;")),UserInput:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"\u7528\u6237\u8f93\u5165\u6807\u5b9a \u76f4\u63a5\u8f93\u5165\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u548c\u59ff\u6001\uff08\u6b27\u62c9\u89d2\uff09\uff0c \u4f9d\u6b21\u8f93\u5165\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u548c\u59ff\u6001\uff0c\u7136\u540e\u70b9\u51fb\u4fdd\u5b58"))},Ea={UserInput:"\u7528\u6237\u8f93\u5165",CalibT4P:"\u56db\u70b9\u6807\u5b9a\u6cd5",CalibT5P:"\u4e94\u70b9\u6807\u5b9a\u6cd5",CalibT6P:"\u516d\u70b9\u6807\u5b9a\u6cd5"},ya={CalibT4P:4,CalibT5P:5,CalibT6P:6},Ca=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={calibMethod:"CalibT4P",toolId:0,toolName:"",pes:[],showCalibResult:!1,showSaveResult:!1,userInput:{x:0,y:0,z:0,a:0,b:0,c:0}},n.handleNameChange=function(e){n.setState({toolName:e.target.value,showCalibResult:!1,showSaveResult:!1})},n.handleSelectToolId=function(e){n.setState({toolId:e,pes:[],showCalibResult:!1,toolName:null,showSaveResult:!1})},n.handleSelectCalibMethod=function(e){n.setState({calibMethod:e,pes:[],showCalibResult:!1,toolName:null,showSaveResult:!1})},n.renderTable=function(e){var t=function(t,n){return n.last?o.a.createElement("span",{className:"".concat(e,"-table-cell ").concat(e,"-table-cell-last")},t):o.a.createElement("span",{className:"".concat(e,"-table-cell")},t)},a=[{title:"\u7f16\u53f7",dataIndex:"rowName",key:"rowName",align:"center"},{title:"X[mm]",dataIndex:"x",key:"xi",render:t,align:"center"},{title:"Y[mm]",dataIndex:"y",key:"yi",render:t,align:"center"},{title:"Z[mm]",dataIndex:"z",key:"zi",render:t,align:"center"},{title:"A",dataIndex:"a",key:"ai",render:t,align:"center"},{title:"B",dataIndex:"b",key:"bi",render:t,align:"center"},{title:"C",dataIndex:"c",key:"ci",render:t,align:"center"}],r=n.props,l=r.endPE,c=(r.cell,[]);n.state.pes.map(function(e,t){c.push({rowName:"\u6807\u5b9a\u70b9".concat(t+1),rowKey:t,key:t,xi:"x".concat(t),yi:"y".concat(t),zi:"z".concat(t),ai:"a".concat(t),bi:"b".concat(t),ci:"c".concat(t),x:e[0].toFixed(3),y:e[1].toFixed(3),z:e[2].toFixed(3),a:e[3].toFixed(3),b:e[4].toFixed(3),c:e[5].toFixed(3)})}),l&&n.state.pes.length<ya[n.state.calibMethod]&&c.push({rowName:"\u6807\u5b9a\u70b9".concat(c.length+1),rowKey:"last",key:"last".concat(c.length+1),xi:"xlast",yi:"ylast",zi:"zlast",ai:"alast",bi:"blast",ci:"clast",x:l[0].toFixed(3),y:l[1].toFixed(3),z:l[2].toFixed(3),a:l[3].toFixed(3),b:l[4].toFixed(3),c:l[5].toFixed(3),last:!0});var i=Object(m.a)(n),s=o.a.createElement("div",{className:"".concat(e,"-table-footer")},i.state.pes.length>0&&o.a.createElement(Jt.a,{type:"danger",onClick:function(){i.setState({showCalibResult:!1,showSaveResult:!1,pes:[]})}},"\u6e05\u7a7a\u6570\u636e"),!!(l&&i.state.pes.length<ya[n.state.calibMethod])&&o.a.createElement(Jt.a,{type:"primary",onClick:function(){var e=i.props.endPE;i.setState({pes:[].concat(Object(b.a)(i.state.pes),[e])})}},"\u63d2\u5165\u6570\u636e"),i.state.pes.length===ya[n.state.calibMethod]&&o.a.createElement(Jt.a,{type:"primary",onClick:function(){var e=i.state,t=e.pes,n=e.calibMethod,a=i.props,r=a.cell;(0,a.deleteResultByChannel)(r.i),i.setState({showCalibResult:!0,showSaveResult:!1}),i.sendCmd("".concat(n," --pose={").concat(t.join(",").replace(/ /g,","),"}"))}},"\u5f00\u59cb\u6807\u5b9a"));return o.a.createElement(ba.a,{className:"".concat(e,"-table"),dataSource:c,columns:a,size:"small",locale:{emptyText:"endPE\u6570\u636e\u8f7d\u5165\u4e2d..."},bordered:!0,pagination:!1,footer:function(){return s}})},n.getUserInputUpdateFn=function(e){var t=Object(m.a)(n);return function(n){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.state.userInput);a[e]=n,t.setState({userInput:a})}},n.getCellRenderer=function(e){var t=Object(m.a)(n);return function(n,a){return o.a.createElement(Gn.a,{step:.001,size:"small",value:a[e],onChange:t.getUserInputUpdateFn(e)})}},n.renderUserInput=function(e){var t=n.state.userInput,a=[{title:"X[mm]",dataIndex:"x",key:"xi",align:"center",render:n.getCellRenderer("x")},{title:"Y[mm]",dataIndex:"y",key:"yi",align:"center",render:n.getCellRenderer("y")},{title:"Z[mm]",dataIndex:"z",key:"zi",align:"center",render:n.getCellRenderer("z")},{title:"A",dataIndex:"a",key:"ai",align:"center",render:n.getCellRenderer("a")},{title:"B",dataIndex:"b",key:"bi",align:"center",render:n.getCellRenderer("b")},{title:"C",dataIndex:"c",key:"ci",align:"center",render:n.getCellRenderer("c")}],r=[{xi:"xlast",yi:"ylast",zi:"zlast",ai:"alast",bi:"blast",ci:"clast",rowKey:"result",x:t.x,y:t.y,z:t.z,a:t.a,b:t.b,c:t.c,last:!0}],l=Object(m.a)(n),c=o.a.createElement("div",{className:"".concat(e,"-table-footer")},o.a.createElement(Jt.a,{type:"primary",onClick:function(){var e=l.state,t=e.toolId,n=e.toolName,a=e.userInput;n=n||"Tool".concat(t);var r=l.props,o=r.cell,c=r.deleteResultByChannel;l.setState({showSaveResult:!0}),c(o.i);var i=[a.x,a.y,a.z,a.a,a.b,a.c];l.sendCmd("SetTF --tool_id=".concat(t," --tool_name=").concat(n," --tool_pe={").concat(i.join(",").replace(/ /g,","),"}"),o.i)}},"\u4fdd\u5b58"));return o.a.createElement("div",{className:"".concat(e,"-calib-userinput")},o.a.createElement(ba.a,{className:"".concat(e,"-table"),dataSource:r,columns:a,size:"small",locale:{emptyText:"\u6807\u5b9a\u7ed3\u679c\u8f7d\u5165\u4e2d..."},bordered:!0,pagination:!1,footer:function(){return c}}))},n.renderResult=function(e){var t=n.state.showCalibResult,a=n.props,r=a.result;a.cell;if(!t||!r)return null;if(0!==r.return_code||!r.tool_pe)return o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),o.a.createElement("div",{className:"error"},"\u4ee3\u7801:",r.return_code),o.a.createElement("div",{className:"error"},"\u9519\u8bef:",r.return_message));var l=[{xi:"xlast",yi:"ylast",zi:"zlast",ai:"alast",bi:"blast",ci:"clast",rowKey:"result",x:r.tool_pe[0].toFixed(3),y:r.tool_pe[1].toFixed(3),z:r.tool_pe[2].toFixed(3),a:r.tool_pe[3].toFixed(3),b:r.tool_pe[4].toFixed(3),c:r.tool_pe[5].toFixed(3),last:!0}],c=Object(m.a)(n),i=o.a.createElement("div",{className:"".concat(e,"-table-footer")},o.a.createElement(Jt.a,{type:"primary",onClick:function(){var e=c.state,t=e.toolId,n=e.toolName,a=r.tool_pe.map(function(e){return e});n=n||"Tool".concat(t);var o=c.props,l=o.cell,i=o.deleteResultByChannel;c.setState({showCalibResult:!1,showSaveResult:!0}),i(l.i),c.sendCmd("SetTF --tool_id=".concat(t," --tool_name=").concat(n," --tool_pe={").concat(a.join(",").replace(/ /g,","),"}"),l.i)}},"\u4fdd\u5b58"));return o.a.createElement("div",{className:"".concat(e,"-calib-result")},o.a.createElement("div",null,"\u6807\u5b9a\u7ed3\u679c"),o.a.createElement(ba.a,{className:"".concat(e,"-table"),dataSource:l,columns:[{title:"X[mm]",dataIndex:"x",key:"xi",align:"center"},{title:"Y[mm]",dataIndex:"y",key:"yi",align:"center"},{title:"Z[mm]",dataIndex:"z",key:"zi",align:"center"},{title:"A",dataIndex:"a",key:"ai",align:"center"},{title:"B",dataIndex:"b",key:"bi",align:"center"},{title:"C",dataIndex:"c",key:"ci",align:"center"}],size:"small",locale:{emptyText:"\u6807\u5b9a\u7ed3\u679c\u8f7d\u5165\u4e2d..."},bordered:!0,pagination:!1,footer:function(){return i}}),o.a.createElement("div",{className:"".concat(e,"-calib-result-message")},r.CalibrationInfo))},n.renderSaveResult=function(e){var t=n.state.showSaveResult,a=n.props,r=a.result;a.cell;return t&&r?0!==r.return_code?o.a.createElement("div",{className:"".concat(e,"-save-result error")},o.a.createElement("div",null,"\u4fdd\u5b58\u51fa\u9519"),o.a.createElement("div",{className:"error"},"\u4ee3\u7801:",r.return_code),!!r.CalibrationInfo&&o.a.createElement("div",{className:"error"},"\u9519\u8bef:",r.CalibrationInfo),!!r.return_message&&o.a.createElement("div",{className:"error"},"\u9519\u8bef:",r.return_message)):o.a.createElement("div",{className:"".concat(e,"-save-result success")},o.a.createElement("div",null,"\u4fdd\u5b58\u6210\u529f"),!!r.CalibrationInfo&&o.a.createElement("div",{className:"".concat(e,"-save-result-message success")},r.CalibrationInfo),!!r.return_message&&o.a.createElement("div",{className:"success"},r.return_message)):null},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,a.toolIds),c=t("calib-tool",r),i=Object(m.a)(n);return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,{lg:10,className:"".concat(c,"-user-input-container")},o.a.createElement("div",null,o.a.createElement("span",null,"\u6807\u5b9a\u65b9\u6cd5"),o.a.createElement(Vn.a,{size:"small",placeholder:"\u9009\u62e9\u6807\u5b9a\u65b9\u6cd5",onChange:n.handleSelectCalibMethod,value:n.state.calibMethod},Object.keys(Ea).map(function(e){return o.a.createElement(ha,{value:e,key:e},Ea[e])})),o.a.createElement(ma.a,{placement:"bottom",title:o.a.createElement("span",null,Ea[n.state.calibMethod]),content:va[n.state.calibMethod],trigger:"click"},o.a.createElement(w.a,{type:"question"}))),o.a.createElement("div",null,o.a.createElement("span",null,"\u5de5\u5177\u53f7"),o.a.createElement(Vn.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177\u53f7",onChange:n.handleSelectToolId,value:n.state.toolId},l.map(function(e){return o.a.createElement(ha,{value:e,key:e},"\u5de5\u5177",e)}))),o.a.createElement("div",null,o.a.createElement("span",null,"\u540d\u79f0"),o.a.createElement(jn.a,{value:n.state.toolName,size:"small",placeholder:"Tool".concat(n.state.toolId),onChange:n.handleNameChange}),!!n.state.toolName&&o.a.createElement(Jt.a,{size:"small",type:"primary",style:{marginLeft:5},onClick:function(){i.setState({pes:[],showCalibResult:!1});var e=i.state,t=e.toolName,n=e.toolId;i.sendCmd("RenameT --tool_id=".concat(n," --tool_name=").concat(t))}},"\u4fee\u6539"))),o.a.createElement(Jn.a,{lg:14,className:"".concat(c,"-hints-container")},Oa[n.state.calibMethod])),"UserInput"===n.state.calibMethod&&o.a.createElement(Vt.a,null,n.renderUserInput(c)),"UserInput"!==n.state.calibMethod&&o.a.createElement(Vt.a,null,n.renderTable(c)),"UserInput"!==n.state.calibMethod&&o.a.createElement(Vt.a,null,n.renderResult(c)),o.a.createElement(Vt.a,null,n.renderSaveResult(c)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Xt);Ca.propTypes={endPE:Ut.a.array,result:Ut.a.object,toolIds:Ut.a.array};var Pa=Object(Ue.a)(at,Ye,ht,function(e,t,n){return{endPE:e,result:t,toolIds:n}});var Fa=Object(i.b)(function(e,t){return Pa(e,t)},{deleteResultByChannel:ie})(Ca);Fa.NAME="\u5de5\u5177\u5750\u6807\u7cfb\u6807\u5b9a";var Ra=Fa,ja=Vn.a.Option,Sa=Un.a.Group,wa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).calibMethods={CalibZF:"\u65e0\u8d1f\u8f7d\u9996\u6b21\u6807\u5b9a",CalibZO:"\u5de5\u5177\u8d1f\u8f7d\u96f6\u4f4d\u504f\u79fb\u91cf\u6807\u5b9a",CalibZL:"\u5916\u90e8\u8d1f\u8f7d\u7684\u96f6\u70b9\u6807\u5b9a"},n.state={calibMethod:"CalibZF",toolId:0,toolName:"",pes:[],showCalibResult:!1},n.handleSelectToolId=function(e){n.setState({toolId:e,pes:[],showCalibResult:!1})},n.handleSelectCalibMethod=function(e){n.setState({calibMethod:e.target.value,showCalibResult:!1})},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.toolIds,s=r.deleteResultByChannel,u=a.state,d=u.toolId,p=u.calibMethod,f=t("zero-calib",l);return o.a.createElement("div",{className:"".concat(f)},o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,null,o.a.createElement(Sa,{onChange:n.handleSelectCalibMethod,value:p,className:"".concat(f,"-options")},Object.keys(a.calibMethods).map(function(e){return o.a.createElement(Un.a,{key:e,value:e},a.calibMethods[e])})))),"CalibZF"!==p&&o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,{className:"".concat(f,"-select")},o.a.createElement(Vn.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177",onChange:a.handleSelectToolId,value:d},i.map(function(e){return o.a.createElement(ja,{value:e,key:e},"\u5de5\u5177",e)})),o.a.createElement("span",null,"tool_",d))),o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,{className:"".concat(f,"-buttons")},[0,1,2].map(function(e){return o.a.createElement(Vt.a,{key:e},o.a.createElement(Jt.a,{type:"primary",onClick:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.sendCmd("".concat(p," --axis_id=").concat(2*e),c.i):a.sendCmd("".concat(p," --axis_id=").concat(2*e," --tool_id=").concat(d),c.i)},onMouseDown:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e),c.i)():a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e," --tool_id=").concat(d),c.i)()},onMouseUp:function(){a.getOnMouseUpFn()()},onMouseOut:function(){a.getOnMouseUpFn()()}},"\u6821\u6b63A",2*e+1),o.a.createElement(Jt.a,{type:"primary",onClick:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.sendCmd("".concat(p," --axis_id=").concat(2*e+1),c.i):a.sendCmd("".concat(p," --axis_id=").concat(2*e+1," --tool_id=").concat(d),c.i)},onMouseDown:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e+1),c.i)():a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e+1," --tool_id=").concat(d),c.i)()},onMouseUp:function(){a.getOnMouseUpFn()()},onMouseOut:function(){a.getOnMouseUpFn()()}},"\u6821\u6b63A",2*e+2))}))),o.a.createElement(Vt.a,null,n.renderResult(f)))},n.renderResult=function(e){var t=n.state.showCalibResult,a=n.props.result;if(!t||!a)return null;var r=["cmd_response_time","id"];return 0!==a.return_code?o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-calib-result success")},o.a.createElement("div",null,"\u6807\u5b9a\u6210\u529f"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Xt);wa.propTypes={toolIds:Ut.a.array.isRequired,result:Ut.a.object};var xa=Object(Ue.a)(ht,Ye,function(e,t){return{toolIds:e,result:t}});var _a=Object(i.b)(function(e,t){return xa(e,t)},{deleteResultByChannel:ie})(wa);_a.NAME="\u96f6\u70b9\u6807\u5b9a";var Ia=_a,Na=(jn.a.Search,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).name="\u6574\u673a\u52a8\u529b\u5b66\u6807\u5b9a",n.state={motionPos:[0,0,0,0,0,0,0,0,0,0,0,0],showCalibResult:!1,showSaveResult:!1},n.handleInsert=function(e,t){var a=Object(b.a)(n.state.motionPos);a[e]=Math.floor(t/Math.PI*180),n.setState({motionPos:a,showCalibResult:!1,showSaveResult:!1})},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.deleteResultByChannel,s=r.currentMotionPos,u=a.state.motionPos,d=t("motion-and-load-calib",l);return s?o.a.createElement("div",{className:"".concat(d)},[0,1,2,3,4,5].map(function(e){return o.a.createElement(Vt.a,{key:e,className:"".concat(d,"-buttons")},o.a.createElement("div",null,o.a.createElement("span",null," A",e+1,"+ "),o.a.createElement(Gn.a,{step:1,min:-360,max:360,size:"small",value:u[2*e],onChange:function(t){var a=Object(b.a)(n.state.motionPos);a[2*e]=t,n.setState({motionPos:a,showCalibResult:!1,showSaveResult:!1})}}),o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*e,s[e])}},"\u63d2\u5165")),o.a.createElement("div",null,o.a.createElement("span",null," A",e+1,"- "),o.a.createElement(Gn.a,{step:1,min:-360,max:360,size:"small",value:u[2*e+1],onChange:function(t){var a=Object(b.a)(n.state.motionPos);a[2*e+1]=t,n.setState({motionPos:a,showCalibResult:!1,showSaveResult:!1})}}),o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*e+1,s[e])}},"\u63d2\u5165")))}),o.a.createElement(Vt.a,{className:"".concat(d,"-calib-button")},o.a.createElement(Jt.a,{type:"primary",onClick:function(){a.setState({showCalibResult:!0,showSaveResult:!1}),i(c.i);var e=a.state.motionPos,t=a.props.currentMotionVelPercent;a.sendCmd("JointDyna --A1P=".concat(e[0]/180*Math.PI," --A1N=").concat(e[1]/180*Math.PI," --A2P=").concat(e[2]/180*Math.PI," --A2N=").concat(e[3]/180*Math.PI," --A3P=").concat(e[4]/180*Math.PI," --A3N=").concat(e[5]/180*Math.PI," --A4P=").concat(e[6]/180*Math.PI," --A4N=").concat(e[7]/180*Math.PI," --A5P=").concat(e[8]/180*Math.PI," --A5N=").concat(e[9]/180*Math.PI," --A6P=").concat(e[10]/180*Math.PI," --A6N=").concat(e[11]/180*Math.PI," --VEL=").concat(t))}},"\u5f00\u59cb\u6807\u5b9a")),o.a.createElement(Vt.a,null,n.renderResult(d)),o.a.createElement(Vt.a,null,n.renderSaveResult(d))):o.a.createElement("div",{className:"".concat(d," loading")},"motion pos \u8f7d\u5165\u4e2d...")},n.renderSaveResult=function(e){var t=n.state.showSaveResult,a=n.props.result;if(!t||!a)return null;var r=["cmd_response_time","id"];return 0!==a.return_code?o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u4fdd\u5b58\u9519\u8bef"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-calib-result success")},o.a.createElement("div",null,"\u4fdd\u5b58\u6210\u529f"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))}))},n.renderResult=function(e){var t=n.state.showCalibResult,a=n.props,r=a.result,l=a.deleteResultByChannel,c=a.cell,i=Object(m.a)(n);if(!t||!r)return null;var s=["cmd_response_time","id"];return 0===r.return_code&&r.link_param?o.a.createElement("div",{className:"".concat(e,"-calib-result success")},o.a.createElement("div",null,"\u6807\u5b9a\u6210\u529f"),Object.keys(r).map(function(e){return!!r[e]&&-1===s.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,r[e]))}),o.a.createElement(Jt.a,{type:"primary",onClick:function(){i.setState({showCalibResult:!1,showSaveResult:!0}),l(c.i);var e="JointDynaSave";r.link_param.forEach(function(t,n){e+=" --P".concat(n+1,"=").concat(t)}),i.sendCmd(e,c.i)}},"\u4fdd\u5b58")):o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),Object.keys(r).map(function(e){return!!r[e]&&-1===s.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,r[e]))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Xt));Na.propTypes={toolIds:Ut.a.array.isRequired,result:Ut.a.object};var Da=Object(Ue.a)(ht,Ye,ot,yt,function(e,t,n,a){return{toolIds:e,result:t,currentMotionPos:n,currentMotionVelPercent:a}});var Ma=Object(i.b)(function(e,t){return Da(e,t)},{deleteResultByChannel:ie})(Na);Ma.NAME="\u6574\u673a\u52a8\u529b\u5b66\u6807\u5b9a";var Ta=Ma,ka=(jn.a.Search,Un.a.Group),Aa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).name="\u672b\u7aef\u8d1f\u8f7d\u6807",n.state={motionPos:[0,0,0,0,0,0],input:[0,0,0,0,0,0,0,0,0,0],method:"input",showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1},n.inputLabels=["mass","cogx","cogy","cogz","ixx","iyy","izz","ixy","iyz","ixz"],n.updateInput=function(e,t){var a=Object(b.a)(n.state.input);a[e]=t,n.setState({input:a,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.updateMotionPos=function(e,t){var a=Object(b.a)(n.state.motionPos);a[e]=t,n.setState({motionPos:a,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.handleInsert=function(e,t){var a=Object(b.a)(n.state.motionPos);a[e]=Math.floor(t/Math.PI*180),n.setState({motionPos:a,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.handleSelectInputMethod=function(e){n.setState({method:e.target.value,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.renderInput=function(e){var t=n.state,a=t.input,l=t.showInputSaveResult,c=Object(m.a)(n),i=c.props,s=i.deleteResultByChannel,u=i.cell;return o.a.createElement(r.Fragment,null,[0,1,2,3,4].map(function(t,r){return o.a.createElement(Vt.a,{key:t,className:"".concat(e,"-input")},o.a.createElement("div",null,o.a.createElement("span",null," ",n.inputLabels[2*t]," "),o.a.createElement(Gn.a,{step:1,min:-360,max:360,value:a[2*t],size:"small",onChange:function(e){c.updateInput(2*t,e)}})),o.a.createElement("div",null,o.a.createElement("span",null," ",n.inputLabels[2*t+1]," "),o.a.createElement(Gn.a,{step:1,min:-360,max:360,value:a[2*t+1],size:"small",onChange:function(e){c.updateInput(2*t+1,e)}})))}),o.a.createElement(Vt.a,{className:"".concat(e,"-calib-button")},o.a.createElement(Jt.a,{type:"primary",onClick:function(){c.setState({showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!0}),s(u.i);var e="LoadDynaSave1";a.forEach(function(t,n){e+=" --P".concat(n+1,"=").concat(t/180*Math.PI)}),c.sendCmd(e,u.i)}},"\u4fdd\u5b58")),l&&n.renderSaveResult(e))},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.deleteResultByChannel,s=r.currentMotionPos,u=a.state,d=u.motionPos,p=u.method,f=t("motion-and-load-calib",l);return s?o.a.createElement("div",{className:"".concat(f)},o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,null,o.a.createElement(ka,{onChange:n.handleSelectInputMethod,value:p,className:"".concat(f,"-options")},o.a.createElement(Un.a,{key:"calib",value:"calib"},"\u6807\u5b9a"),o.a.createElement(Un.a,{key:"input",value:"input"},"\u8f93\u5165")))),"input"===p&&n.renderInput(f),"calib"===p&&o.a.createElement(Vt.a,{className:"".concat(f,"-title")},"\u8f93\u5165\u5173\u8282\u5141\u8fd0\u52a8\u8303\u56f4"),"calib"===p&&[3,5,6].map(function(e,t){return o.a.createElement(Vt.a,{key:e,className:"".concat(f,"-buttons")},o.a.createElement("div",null,o.a.createElement("span",null," A",e,"+ "),o.a.createElement(Gn.a,{step:1,min:-360,max:360,size:"small",value:d[2*t],onChange:function(e){n.updateMotionPos(2*t,e)}}),o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*t,s[e-1])}},"\u63d2\u5165")),o.a.createElement("div",null,o.a.createElement("span",null," A",e,"- "),o.a.createElement(Gn.a,{step:1,min:-360,max:360,size:"small",value:d[2*t+1],onChange:function(e){n.updateMotionPos(2*t+1,e)}}),o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*t+1,s[e-1])}},"\u63d2\u5165")))}),"calib"===p&&o.a.createElement(Vt.a,{className:"".concat(f,"-calib-boxes")},o.a.createElement(Jn.a,null,o.a.createElement(Jt.a,{type:"primary",onClick:function(){a.setState({showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!0,showUnloadedSaveResult:!1,showInputSaveResult:!1}),i(c.i);var e=a.state.motionPos,t=a.props.currentMotionVelPercent;a.sendCmd("LoadDyna --A3P=".concat(e[0]/180*Math.PI," --A3N=").concat(e[1]/180*Math.PI," --A5P=").concat(e[2]/180*Math.PI," --A5N=").concat(e[3]/180*Math.PI," --A6P=").concat(e[4]/180*Math.PI," --A6N=").concat(e[5]/180*Math.PI," --VEL=").concat(t," --TYPE=1"))}},"\u65e0\u8d1f\u8f7d\u6807\u5b9a"),a.state.showUnloadedCalibResult&&a.renderResult(f,"LoadDynaSave0",{showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!0,showInputSaveResult:!1}),a.state.showUnloadedSaveResult&&a.renderSaveResult(f)),o.a.createElement(Jn.a,null,o.a.createElement(Jt.a,{type:"primary",onClick:function(){a.setState({showLoadedCalibResult:!0,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1}),i(c.i);var e=a.state.motionPos,t=a.props.currentMotionVelPercent;a.sendCmd("LoadDyna --A3P=".concat(e[0]/180*Math.PI," --A3N=").concat(e[1]/180*Math.PI," --A5P=").concat(e[2]/180*Math.PI," --A5N=").concat(e[3]/180*Math.PI," --A6P=").concat(e[4]/180*Math.PI," --A6N=").concat(e[5]/180*Math.PI," --VEL=").concat(t," --TYPE=-1"))}},"\u8d1f\u8f7d\u6807\u5b9a"),a.state.showLoadedCalibResult&&a.renderResult(f,"LoadDynaSave1",{showLoadedCalibResult:!1,showLoadedSaveResult:!0,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1}),a.state.showLoadedSaveResult&&a.renderSaveResult(f)))):o.a.createElement("div",{className:"".concat(f," loading")},"motion pos \u8f7d\u5165\u4e2d...")},n.renderSaveResult=function(e){var t=n.props.result;if(!t)return null;var a=["cmd_response_time","id"];return 0!==t.return_code?o.a.createElement("div",{className:"".concat(e,"-box-result error")},o.a.createElement("div",null,"\u4fdd\u5b58\u9519\u8bef"),Object.keys(t).map(function(e){return!!t[e]&&-1===a.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,t[e]))}),o.a.createElement("div",null)):o.a.createElement("div",{className:"".concat(e,"-box-result success")},o.a.createElement("div",null,"\u4fdd\u5b58\u6210\u529f"),Object.keys(t).map(function(e){return!!t[e]&&-1===a.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,t[e]))}),o.a.createElement("div",null))},n.renderResult=function(e,t,a){var r=Object(m.a)(n),l=["cmd_response_time","id"],c=r.props,i=c.result,s=c.cell,u=c.deleteResultByChannel;return i?0===i.return_code&&i.link_param?o.a.createElement("div",{className:"".concat(e,"-box-result success")},o.a.createElement("div",null,"\u6807\u5b9a\u6210\u529f"),Object.keys(i).map(function(e){return!!i[e]&&-1===l.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,i[e]))}),o.a.createElement("div",null,o.a.createElement(Jt.a,{type:"primary",onClick:function(){r.setState(a),u(s.i);var e=t;i.link_param.forEach(function(t,n){e+=" --P".concat(n+1,"=").concat(t)}),r.sendCmd(e,s.i)}},"\u4fdd\u5b58"))):o.a.createElement("div",{className:"".concat(e,"-box-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),Object.keys(i).map(function(e){return!!i[e]&&-1===l.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,i[e]))}),o.a.createElement("div",null)):null},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Xt);Aa.propTypes={toolIds:Ut.a.array.isRequired,result:Ut.a.object};var La=Object(Ue.a)(ht,Ye,ot,yt,function(e,t,n,a){return{toolIds:e,result:t,currentMotionPos:n,currentMotionVelPercent:a}});var Ua=Object(i.b)(function(e,t){return La(e,t)},{deleteResultByChannel:ie})(Aa);Ua.NAME="\u672b\u7aef\u8d1f\u8f7d\u6807\u5b9a";var Ba=Ua,Va=n(542),Wa=n.n(Va),Ja=n(543),za=n.n(Ja);function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Xa=Vn.a.Option,qa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).name="\u6784\u578b\u53c2\u6570\u914d",n.width=24,n.height=12,n.icon=function(e){return o.a.createElement(w.a,e)},n.state={type:"six_axes",inputs:{},showSaveResult:!1},n.handleSelectType=function(e){var t=n.props;(0,t.deleteResultByChannel)(t.cell.i),n.setState({type:e,inputs:{},showSaveResult:!1})},n.updateInput=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.state.inputs);a[e]=t,n.setState({inputs:a})},n.renderSixAxesInput=function(e){var t=n.state,a=t.inputs,l=t.showSaveResult,c=Object(m.a)(n),i=c.props,s=i.deleteResultByChannel,u=i.cell;return o.a.createElement(r.Fragment,null,["a1","a2","a3","d1","d3","d4","tool0"].map(function(t,n){return o.a.createElement(Vt.a,{key:t,className:"".concat(e,"-input")},o.a.createElement("span",null," ",t," "),o.a.createElement(Gn.a,{disabled:l,step:1,value:a[t],size:"small",onChange:function(e){c.updateInput(t,e)}}))}),o.a.createElement(Vt.a,{className:"".concat(e,"-save-button")},o.a.createElement(Jt.a,{type:"primary",disabled:l,onClick:function(){c.setState({showSaveResult:!0}),s(u.i);var e=c.state.inputs,t="setdh --six_axes";Object.keys(e).forEach(function(n){t+=" --".concat(n,"_six_axes=").concat(e[n]/1e3)}),c.sendCmd(t,u.i)}},"\u4fdd\u5b58")))},n.renderSevenAxesInput=function(e){var t=n.state,a=t.inputs,l=t.showSaveResult,c=Object(m.a)(n),i=c.props,s=i.deleteResultByChannel,u=i.cell;return o.a.createElement(r.Fragment,null,["d1","d3","d5","tool0"].map(function(t){return o.a.createElement(Vt.a,{key:t,className:"".concat(e,"-input")},o.a.createElement("span",null," ",t," "),o.a.createElement(Gn.a,{disabled:l,step:1,value:a[t],size:"small",onChange:function(e){c.updateInput(t,e)}}))}),o.a.createElement(Vt.a,{className:"".concat(e,"-save-button")},o.a.createElement(Jt.a,{type:"primary",disabled:l,onClick:function(){c.setState({showSaveResult:!0}),s(u.i);var e=c.state.inputs,t="setdh --seven_axes";Object.keys(e).forEach(function(n){t+=" --".concat(n,"_seven_axes=").concat(e[n]/1e3)}),c.sendCmd(t,u.i)}},"\u4fdd\u5b58")))},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=t("setdh",a.props.prefixCls),l=n.state,c=l.type,i=l.showSaveResult;return o.a.createElement("div",{className:"".concat(r)},o.a.createElement(Vt.a,null,o.a.createElement(Jn.a,{span:12},o.a.createElement(Vt.a,{className:"".concat(r,"-input")},o.a.createElement(Vn.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177",onChange:a.handleSelectType,value:c},o.a.createElement(Xa,{value:"six_axes",key:"six_axes"},"\u516d\u8f74\u673a\u5668\u4eba"),o.a.createElement(Xa,{value:"seven_axes",key:"seven_axes"},"\u4e03\u8f74\u673a\u5668\u4eba"))),"six_axes"===c&&n.renderSixAxesInput(r),"seven_axes"===c&&n.renderSevenAxesInput(r)),o.a.createElement(Jn.a,{span:12,className:"".concat(r,"-bg"),style:{backgroundImage:"url(".concat("six_axes"===c?Wa.a:za.a,")")}}),o.a.createElement(fn.a,{visible:i,title:"\u4fdd\u5b58",centered:!0,onCancel:function(){a.setState({showSaveResult:!1})},footer:[o.a.createElement(Jt.a,{key:"close",onClick:function(){a.setState({showSaveResult:!1})}},"\u5173\u95ed")]},n.renderResult(r))))},n.renderResult=function(e){var t=n.props,a=t.result,r=(t.deleteResultByChannel,t.cell,["cmd_response_time","id"]);return a?0===a.return_code&&a.link_param?o.a.createElement("div",{className:"".concat(e,"-result success")},o.a.createElement("div",null,"\u6210\u529f"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-result error")},o.a.createElement("div",null,"\u9519\u8bef"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-result info")},o.a.createElement("div",null,"\u4fdd\u5b58\u4e2d..."))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Xt);qa.propTypes={result:Ut.a.object};var Qa=Object(Ue.a)(Ye,function(e){return{result:e}});var Ha=Object(i.b)(function(e,t){return Qa(e,t)},{deleteResultByChannel:ie})(qa);Ha.NAME="\u6784\u578b\u53c2\u6570\u914d\u7f6e";var Za=Ha,Ya=n(241),Ka=n.n(Ya),$a=Vn.a.Option,er={labelCol:{span:4},wrapperCol:{span:8}},tr=An.a.Item,nr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.createRobotModel;n.props.form.validateFields(function(e,n){e||t(n)})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,n=(t.prefixCls,t.visible),a=t.creatingRobotModel,r=t.creatingRobotModelError,l=t.hideCreateRobotModelModal;return o.a.createElement(fn.a,{visible:n,title:"\u521b\u5efa\u673a\u5668\u4eba",onOk:this.handleSubmit,okText:"\u521b\u5efa",cancelText:"\u53d6\u6d88",onCancel:function(){l()},centered:!0},o.a.createElement(An.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement(tr,Object.assign({},er,{label:"\u54c1\u724c"}),e("brand",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u5668\u4eba\u54c1\u724c!"}]})(o.a.createElement(jn.a,{placeholder:"Brand"}))),o.a.createElement(tr,Object.assign({},er,{label:"\u578b\u53f7"}),e("model",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u5668\u4eba\u578b\u53f7!"}]})(o.a.createElement(jn.a,{placeholder:"Model"})))),!!a&&o.a.createElement("span",{className:"info"},"\u521b\u5efa\u4e2d..."),!!r&&o.a.createElement("span",{className:"error"},r))}}]),t}(r.Component),ar=An.a.create()(nr),rr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).name="\u4e09\u7ef4\u6a21\u578b\u914d\u7f6e",n.state={showCalibResult:!1,showSaveResult:!1,brand:null,model:null,showCreateModal:!1},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.deleteResultByChannel,s=r.robotModels,u=r.robotModelPartUploadSuccess,d=r.deleteRobotModelPart,p=r.deleteRobotModel,f=r.creatingRobotModel,b=r.creatingRobotModelError,g=(r.creatingRobotModelResult,r.showCreateRobotModelModal),h=r.modalVisible,O=r.createRobotModel,v=r.selectCurrentRobotBrand,E=r.selectCurrentRobotModel,y=r.hideCreateRobotModelModal,C=r.model,P=r.brand,F=(a.state.motionPos,t("model-configuration",l));if(!s)return o.a.createElement("div",{className:"".concat(F," loading")},"\u53c2\u6570\u8f7d\u5165\u4e2d...");P&&s[P]||(P=Object.keys(s)[0]),P&&(C&&s[P][C]||(C=Object.keys(s[P])[0]));var R=[];return P&&C&&(R=Object.keys(s[P][C].parts).filter(function(e){return!s[P][C].parts[e]})),o.a.createElement("div",{className:F},!!s&&C&&P&&o.a.createElement(Vt.a,{className:"".concat(F,"-brand"),style:{marginBottom:20}},o.a.createElement("span",null,"\u673a\u5668\u4eba\u54c1\u724c"),o.a.createElement(Vn.a,{size:"small",style:{width:200},placeholder:"\u9009\u62e9\u673a\u5668\u4eba\u54c1\u724c",onChange:function(e){n.setState({saving:!1}),i(c.i),v(e)},value:P},Object.keys(s).map(function(e){return o.a.createElement($a,{value:e,key:e},e)}))),!!s&&C&&P&&C&&!!s[P]&&o.a.createElement(Vt.a,{className:"".concat(F,"-model"),style:{marginBottom:20}},o.a.createElement("span",null,"\u673a\u5668\u4eba\u578b\u53f7"),o.a.createElement(Vn.a,{size:"small",style:{width:200},placeholder:"\u9009\u62e9\u673a\u5668\u4eba\u578b\u53f7",onChange:function(e){n.setState({saving:!1}),i(c.i),E(e)},value:C},Object.keys(s[P]).map(function(e){return o.a.createElement($a,{value:e,key:e},e)})),o.a.createElement(Jt.a,{style:{marginLeft:10,marginBottom:20},size:"small",onClick:function(){n.setState({saving:!1}),i(c.i),p(P,C)}},"\u5220\u9664")),o.a.createElement(Vt.a,{className:"".concat(F,"-model")},o.a.createElement(Jt.a,{size:"small",onClick:function(){n.setState({saving:!1}),i(c.i),g()}},"\u6dfb\u52a0\u673a\u5668\u4eba"),o.a.createElement(ar,{visible:h,hideCreateRobotModelModal:y,centered:!0,createRobotModel:O,creatingRobotModel:f,creatingRobotModelError:b})),o.a.createElement(Vt.a,{className:"".concat(F,"-parts")},!!s&&!!s[P]&&!!s[P][C]&&!!s[P][C].parts&&Object.keys(s[P][C].parts).map(function(e){return s[P][C].parts[e]&&[].push({uid:"-1",name:s[P][C].parts[e],status:"done",url:""}),o.a.createElement(Vt.a,{className:"".concat(F,"-part ").concat(n.state.saving&&!s[P][C].parts[e]&&"error"),key:e},o.a.createElement("span",null,"PART ",e,":"),!!s[P][C].parts[e]&&o.a.createElement("span",{className:"".concat(F,"-part-file")},o.a.createElement(w.a,{type:"file-markdown"})," ",s[P][C].parts[e],o.a.createElement(w.a,{type:"close",className:"".concat(F,"-delete"),onClick:function(){d(P,C,e)}})),!s[P][C].parts[e]&&o.a.createElement(Ka.a,{className:"".concat(F,"-part-upload"),multiple:!1,action:"/api/robots/".concat(P,"/").concat(C,"/parts/").concat(e),showUploadList:!1,onChange:function(e){var t=e.file;e.fileList,e.event;"done"===t.status&&u(t.response)}},o.a.createElement(Jt.a,null,o.a.createElement(w.a,{type:"upload"}),"\u4e0a\u4f20")))})),o.a.createElement(Vt.a,{className:"".concat(F,"-save")},o.a.createElement(Jt.a,{size:"large",type:"primary",onClick:function(){if(n.setState({saving:!0}),i(c.i),0===R.length){var e=s[P][C].parts,t=s[P][C].path;n.sendCmd("cs_stop");var a="setppath --file_path="+Object.keys(e).map(function(n){return"".concat(t,"/").concat(e[n])}).join(";");n.sendCmd(a),n.sendCmd("savexml")}}},"\u4fdd\u5b58"),n.state.saving&&R.length>0&&o.a.createElement("p",{className:"error"},"\u8bf7\u4e0a\u4f20\u673a\u5668\u4eba\u6a21\u578b  ",R.join(","))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.loadRobotModels()}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Xt);rr.propTypes={result:Ut.a.object};var or=Object(Ue.a)(Ye,function(e){return e.robot.robotModels},function(e){return e.robot.creatingRobotModel},function(e){return e.robot.creatingRobotModelError},function(e){return e.robot.creatingRobotModelResult},function(e){return e.robot.createRobotModelModalVisible},function(e){return e.robot.currentRobotBrand},function(e){return e.robot.currentRobotModel},function(e,t,n,a,r,o,l,c){return{robotModels:t,result:e,creatingRobotModel:n,creatingRobotModelError:a,creatingRobotModelResult:r,modalVisible:o,brand:l,model:c}});var lr=Object(i.b)(function(e,t){return or(e,t)},{deleteResultByChannel:ie,loadRobotModels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return U(se,{requiredFields:e})},robotModelPartUploadSuccess:function(e){return U("ROBOT_MODEL_PART_UPLOAD_SUCCESS",{model:e})},deleteRobotModelPart:function(e,t,n){return U(de,{brand:e,model:t,part:n})},deleteRobotModel:function(e,t){return U(me,{brand:e,model:t})},createRobotModel:function(e){return U(be,{model:e})},showCreateRobotModelModal:function(){return U("SHOW_CREATE_ROBOT_MODEL_MODAL")},hideCreateRobotModelModal:function(){return U("HIDE_CREATE_ROBOT_MODEL_MODAL")},selectCurrentRobotBrand:function(e){return U("SELECT_CURRENT_ROBOT_BRAND",{brand:e})},selectCurrentRobotModel:function(e){return U("SELECT_CURRENT_ROBOT_MODEL",{model:e})}})(rr);lr.NAME="\u4e09\u7ef4\u6a21\u578b\u914d\u7f6e";var cr=lr,ir=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filter,n=e.result;return t=t||[],o.a.createElement("div",this.props,Object.keys(n).map(function(e){return!!n[e]&&-1===t.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,n[e]))}))}}]),t}(r.Component),sr=function e(){Object(s.a)(this,e),this.toXML=function(){throw"toXML not implemented"},this.toJSON=function(){throw"toJSON not implemented"}};sr.FromXML=function(e){throw"FromXML not implemented"},sr.FromJSON=function(e){throw"FromJSON not implemented"},sr.GetNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return JSON.parse(e)}catch(n){return t}},sr.GetDegreeNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return JSON.parse(e)/Math.PI*180}catch(n){return t}},sr.ToRadian=function(e){return e/180*Math.PI},sr.ToXMLAttrString=function(e,t){return t||0===t?"".concat(e,'="').concat(t,'"'):""};var ur=sr,dr=function(e){function t(e,n,a,r){var o;return Object(s.a)(this,t),(o=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<PdoEntry ".concat(t.ToXMLAttrString("name",o.name)," ").concat(t.ToXMLAttrString("index",o.index),"  ").concat(t.ToXMLAttrString("subindex",o.subIndex)," ").concat(t.ToXMLAttrString("size",o.size)," />")},o.toJSON=function(){return{name:o.name,index:o.index,subIndex:o.subIndex,size:o.size}},o.name=e,o.index=n,o.subIndex=a,o.size=r,o}return Object(f.a)(t,e),t}(ur);dr.FromXML=function(e){return new dr(e.getAttribute("name"),e.getAttribute("index"),e.getAttribute("subindex"),e.getAttribute("size"))},dr.FromJSON=function(e){var t=e.name,n=e.index,a=e.subIndex,r=e.size;return new dr(t,n,a,r)};var pr=dr,mr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<Pdo ".concat(t.ToXMLAttrString("name",r.name)," ").concat(t.ToXMLAttrString("index",r.index),">").concat(r.entries?r.entries.map(function(e){return e.toXML()}).join(""):"","</Pdo>")},r.toJSON=function(){return{name:r.name,index:r.index,entries:r.entries&&r.entries.map(function(e){return e.toJSON()})}},r.index=e,r.name=n,r.entries=a,r}return Object(f.a)(t,e),t}(ur);mr.FromXML=function(e){return new mr(e.getAttribute("index"),e.getAttribute("name"),Object(b.a)(e.getElementsByTagName("PdoEntry")).filter(function(e){return 1===e.nodeType}).map(pr.FromXML))},mr.FromJSON=function(e){var t=e.index,n=e.name,a=e.entries;return new mr(t,n,a&&a.map(pr.FromJSON))};var fr=mr,br=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<SyncManager ".concat(t.ToXMLAttrString("is_tx",a.isTx),">").concat(a.pdoes?a.pdoes.map(function(e){return e.toXML()}).join(""):"","</SyncManager>")},a.toJSON=function(){return{isTx:a.isTx,pdoes:a.pdoes&&a.pdoes.map(function(e){return e.toJSON()})}},a.isTx=e,a.pdoes=n,a}return Object(f.a)(t,e),t}(ur);br.FromXML=function(e){return new br(e.getAttribute("is_tx"),Object(b.a)(e.getElementsByTagName("Pdo")).filter(function(e){return 1===e.nodeType}).map(fr.FromXML))},br.FromJSON=function(e){var t=e.isTx,n=e.pdoes;return new br(t,n&&n.map(fr.FromJSON))};var gr=br,hr=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<SyncManagerPoolObject>".concat(n.syncManagers?n.syncManagers.map(function(e){return e.toXML()}).join(""):"","</SyncManagerPoolObject>")},n.toJSON=function(){return{syncManagers:n.syncManagers&&n.syncManagers.map(function(e){return e.toJSON()})}},n.syncManagers=e,n}return Object(f.a)(t,e),t}(ur);hr.FromXML=function(e){return new hr(Object(b.a)(e.getElementsByTagName("SyncManager")).filter(function(e){return 1===e.nodeType}).map(gr.FromXML))},hr.FromJSON=function(e){var t=e.syncManagers;return new hr(t&&t.map(gr.FromJSON))};var Or=hr,vr=function(e){function t(e,n,a,r,o,l,c){var i;Object(s.a)(this,t),(i=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<EthercatSlave ".concat(t.ToXMLAttrString("phy_id",i.phyId)," ").concat(t.ToXMLAttrString("vendor_id",i.vendorId)," ").concat(t.ToXMLAttrString("product_code",i.productCode)," ").concat(t.ToXMLAttrString("revision_num",i.revisionNum)," ").concat(t.ToXMLAttrString("dc_assign_activate",i.dcAssignActivate),"> ").concat(i.syncManagerPoolObjects?i.syncManagerPoolObjects.map(function(e){return e.toXML()}).join(""):"","</EthercatSlave>")},i.toJSON=function(){return{uuid:i.uuid,isMotion:!1,phyId:i.phyId,vendorId:i.vendorId,productCode:i.productCode,revisionNum:i.revisionNum,dcAssignActivate:i.dcAssignActivate,syncManagerPoolObjects:i.syncManagerPoolObjects&&i.syncManagerPoolObjects.map(function(e){return e.toJSON()})}},i.uuid=e;try{i.phyId=JSON.parse(n)}catch(u){console.log(n),i.phyId=0}return i.vendorId=i.vendorId,i.productCode=i.productCode,i.revisionNum=o,i.dcAssignActivate=l,i.syncManagerPoolObjects=c,i}return Object(f.a)(t,e),t}(ur);vr.FromXML=function(e){return new vr(Math.random().toString(36),e.getAttribute("phy_id"),e.getAttribute("vendor_id"),e.getAttribute("product_code"),e.getAttribute("revision_num"),e.getAttribute("dc_assign_activate"),Object(b.a)(e.getElementsByTagName("SyncManagerPoolObject")).filter(function(e){return 1===e.nodeType}).map(Or.FromXML))},vr.FromJSON=function(e){var t=e.uuid,n=e.phyId,a=e.vendorId,r=e.productCode,o=e.revisionNum,l=e.dcAssignActivate,c=e.syncManagerPoolObjects;return new vr(t||Math.random().toString(36),n,a,r,o,l,c&&c.map(Or.FromJSON))};var Er=vr,yr=function(e){function t(e,n,a,r,o,l,c,i,u,m,f,b,g,h,O,v,E,y){var C;return Object(s.a)(this,t),(C=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<EthercatMotion ".concat(t.ToXMLAttrString("phy_id",C.phyId)," ").concat(t.ToXMLAttrString("vendor_id",C.vendorId)," ").concat(t.ToXMLAttrString("product_code",C.productCode)," ").concat(t.ToXMLAttrString("revision_num",C.revisionNum)," ").concat(t.ToXMLAttrString("dc_assign_activate",C.dcAssignActivate)," ").concat(t.ToXMLAttrString("max_pos",t.ToRadian(C.maxPos))," ").concat(t.ToXMLAttrString("min_pos",t.ToRadian(C.minPos)),"  ").concat(t.ToXMLAttrString("max_vel",t.ToRadian(C.maxVel))," ").concat(t.ToXMLAttrString("min_vel",t.ToRadian(C.minVel))," ").concat(t.ToXMLAttrString("max_acc",t.ToRadian(C.maxAcc))," ").concat(t.ToXMLAttrString("min_acc",t.ToRadian(C.minAcc))," ").concat(t.ToXMLAttrString("max_pos_following_error",C.maxPosFollowingError)," ").concat(t.ToXMLAttrString("max_vel_following_error",C.maxVelFollowingError)," ").concat(t.ToXMLAttrString("pos_factor",C.posFactor)," ").concat(t.ToXMLAttrString("pos_offset",t.ToRadian(C.posOffset))," ").concat(t.ToXMLAttrString("home_pos",t.ToRadian(C.homePos))," >").concat(C.syncManagerPoolObjects?C.syncManagerPoolObjects.map(function(e){return e.toXML()}).join(""):"","</EthercatMotion>")},C.toJSON=function(){return{uuid:C.uuid,isMotion:!0,phyId:C.phyId,vendorId:C.vendorId,productCode:C.productCode,revisionNum:C.revisionNum,dcAssignActivate:C.dcAssignActivate,maxPos:C.maxPos,minPos:C.minPos,maxVel:C.maxVel,minVel:C.minVel,maxAcc:C.maxAcc,minAcc:C.minAcc,maxPosFollowingError:C.maxPosFollowingError,maxVelFollowingError:C.maxVelFollowingError,posFactor:C.posFactor,posOffset:C.posOffset,homePos:C.homePos,syncManagerPoolObjects:C.syncManagerPoolObjects&&C.syncManagerPoolObjects.map(function(e){return e.toJSON()})}},C.uuid=e,C.phyId=n,C.vendorId=a,C.productCode=r,C.revisionNum=o,C.dcAssignActivate=l,C.maxPos=c,C.minPos=i,C.maxVel=u,C.minVel=m,C.maxAcc=f,C.minAcc=b,C.maxPosFollowingError=g,C.maxVelFollowingError=h,C.posFactor=O,C.posOffset=v,C.homePos=E,C.syncManagerPoolObjects=y,C}return Object(f.a)(t,e),t}(ur);yr.FromXML=function(e){var t=yr.GetNumber(e.getAttribute("phy_id")),n=e.getAttribute("vendor_id"),a=e.getAttribute("product_code"),r=e.getAttribute("revision_num"),o=e.getAttribute("dc_assign_activate"),l=yr.GetDegreeNumber(e.getAttribute("max_pos")),c=yr.GetDegreeNumber(e.getAttribute("min_pos")),i=yr.GetDegreeNumber(e.getAttribute("max_vel")),s=yr.GetDegreeNumber(e.getAttribute("min_vel")),u=yr.GetDegreeNumber(e.getAttribute("max_acc")),d=yr.GetDegreeNumber(e.getAttribute("min_acc")),p=yr.GetNumber(e.getAttribute("max_pos_following_error")),m=yr.GetNumber(e.getAttribute("max_vel_following_error")),f=yr.GetNumber(e.getAttribute("pos_factor")),g=yr.GetDegreeNumber(e.getAttribute("pos_offset")),h=yr.GetDegreeNumber(e.getAttribute("home_pos"));return new yr(Math.random().toString(36),t,n,a,r,o,l,c,i,s,u,d,p,m,f,g,h,Object(b.a)(e.getElementsByTagName("SyncManagerPoolObject")).filter(function(e){return 1===e.nodeType}).map(Or.FromXML))},yr.FromJSON=function(e){var t=e.uuid,n=e.phyId,a=e.vendorId,r=e.productCode,o=e.revisionNum,l=e.dcAssignActivate,c=e.maxPos,i=e.minPos,s=e.maxVel,u=e.minVel,d=e.maxAcc,p=e.minAcc,m=e.maxPosFollowingError,f=e.maxVelFollowingError,b=e.posFactor,g=e.posOffset,h=e.homePos,O=e.syncManagerPoolObjects;return new yr(t||Math.random().toString(36),n,a,r,o,l,c,i,s,u,d,p,m,f,b,g,h,O&&O.map(Or.FromJSON))};var Cr=yr,Pr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<SlavePoolObject ".concat(t.ToXMLAttrString("name",r.name),">").concat(r.slaves?r.slaves.map(function(e){return e.toXML()}).join(""):"").concat(r.motions?r.motions.map(function(e){return e.toXML()}).join(""):"","</SlavePoolObject>")},r.toJSON=function(){return{name:r.name,slaves:r.slaves&&r.slaves.map(function(e){return e.toJSON()}),motions:r.motions&&r.motions.map(function(e){return e.toJSON()})}},r.name=e,r.slaves=n,r.motions=a,r}return Object(f.a)(t,e),t}(ur);Pr.FromXML=function(e){return new Pr(e.getAttribute("name"),Object(b.a)(e.getElementsByTagName("EthercatSlave")).filter(function(e){return 1===e.nodeType}).map(Er.FromXML),Object(b.a)(e.getElementsByTagName("EthercatMotion")).filter(function(e){return 1===e.nodeType}).map(Cr.FromXML))},Pr.FromJSON=function(e){var t=e.name,n=e.slaves,a=e.motions;return new Pr(t,n&&n.map(Er.FromJSON),a&&a.map(Cr.FromJSON))};var Fr=Pr,Rr=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<EthercatController ".concat(t.ToXMLAttrString("name",a.name),">").concat(a.slavePoolObjects?a.slavePoolObjects.map(function(e){return e.toXML()}).join(""):"","</EthercatController>")},a.toJSON=function(){return{name:a.name,slavePoolObjects:a.slavePoolObjects&&a.slavePoolObjects.map(function(e){return e.toJSON()})}},a.name=e,a.slavePoolObjects=n,a}return Object(f.a)(t,e),t}(ur);Rr.FromXML=function(e){return new Rr(e.getAttribute("name"),Object(b.a)(e.getElementsByTagName("SlavePoolObject")).filter(function(e){return 1===e.nodeType}).map(Fr.FromXML))},Rr.FromJSON=function(e){var t=e.name,n=e.slavePoolObjects;return new Rr(t,n&&n.map(Fr.FromJSON))};var jr=Rr,Sr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<Device ".concat(t.ToXMLAttrString("Name",r.name)," ").concat(t.ToXMLAttrString("ProductCode",r.productCode)," ").concat(t.ToXMLAttrString("RevisionNo",r.revisionNo)," />")},r.toJSON=function(){return{name:r.name,productCode:r.productCode,revisionNo:r.revisionNo}},r.name=e,r.productCode=n,r.revisionNo=a,r}return Object(f.a)(t,e),t}(ur);Sr.FromXML=function(e){return new Sr(e.getAttribute("Name"),e.getAttribute("ProductCode"),e.getAttribute("RevisionNo"))},Sr.FromJSON=function(e){var t=e.name,n=e.productCode,a=e.revisionNo;return new Sr(t,n,a)};var wr=Sr,xr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<Vendor ".concat(t.ToXMLAttrString("Id",r.id)," ").concat(t.ToXMLAttrString("Name",r.name),">").concat(r.devices&&r.devices.map(function(e){return e.toXML()}).join(""),"</Vendor>")},r.toJSON=function(){return{name:r.name,id:r.id,devices:r.devices&&r.devices.map(function(e){return e.toJSON()})}},r.id=e,r.name=n,r.devices=a,r}return Object(f.a)(t,e),t}(ur);xr.FromXML=function(e){return new xr(e.getAttribute("Id"),e.getAttribute("Name"),Object(b.a)(e.getElementsByTagName("Device")).map(wr.FromXML))},xr.FromJSON=function(e){var t=e.id,n=e.name,a=e.devices;return new xr(t,n,a&&a.map(wr.FromJSON))};var _r=xr,Ir=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<ethercat_master>".concat(n.vendors?n.vendors.map(function(e){return e.toXML()}).join(""):"","</ethercat_master>")},n.toJSON=function(){return{vendors:n.vendors&&n.vendors.map(function(e){return e.toJSON()})}},n.vendors=e,n}return Object(f.a)(t,e),t}(ur);Ir.FromXML=function(e){return new Ir(Object(b.a)(e.getElementsByTagName("Vendor")).map(_r.FromXML))},Ir.FromJSON=function(e){var t=e.vendors;return new Ir(t&&t.map(_r.FromJSON))};var Nr=function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-setesipath")]},Dr=function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-scanslave")]},Mr=Object(Ue.a)(Dr,function(e){if(e&&e.controller_xml){var t=(new DOMParser).parseFromString(e.controller_xml,"text/xml").getElementsByTagName("EthercatController");if(t&&t[0])return jr.FromXML(t[0]).toJSON()}return null}),Tr=Object(Ue.a)(Nr,function(e){if(e&&e.device_list_xml){var t=(new DOMParser).parseFromString(e.device_list_xml,"text/xml").getElementsByTagName("ethercat_master");if(t&&t[0])return Ir.FromXML(t[0]).toJSON()}return null}),kr=Object(Ue.a)(function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-pdolist-for-device")]},function(e){if(console.log("xxxx",e),e&&e.pdo_list_xml){var t=(new DOMParser).parseFromString(e.pdo_list_xml,"text/xml").getElementsByTagName("EthercatSlave");if(t&&t[0])return Er.FromXML(t[0]).toJSON()}return null}),Ar=Object(Ue.a)(function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-pdolist-for-slave")]},function(e){return console.log(e),e&&e.device_list_xml,null}),Lr=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.sendCmd,a=e.cell,r=e.esiFileUploadRequest,l=e.esiFileUploadFailure,c=e.esiFileUploadSuccess,i=e.ws,s=e.esiPath,u=e.esiFileUploadingRequest,d=e.esiFileUploadingSuccess,p=e.esiFileUploadingFailure,m=e.setEsiPathResult,f=e.scanSlaveResult,b=e.deleteResultByChannel,g=e.slaves,h=e.addSlave,O=e.removeSlave,v=e.selectSlave,E=e.selectedSlave;return o.a.createElement("div",{className:"".concat(t,"-sidebar")},o.a.createElement(Vt.a,{className:"".concat(t,"-buttons")},o.a.createElement(Ka.a,{className:"".concat(t,"-esi-upload"),accept:".xml",multiple:!1,action:"/api/esi",disabled:!i,showUploadList:!1,onChange:function(e){var t=e.file;e.fileList,e.event;"uploading"===t.status?(b("".concat(a.i,"-setesipath")),b("".concat(a.i,"-scanslave")),r()):"done"===t.status?(c(t.response.path),n("cs_stop","".concat(a.i,"-stop")),n("setesipath --path=".concat(s),"".concat(a.i,"-setesipath"))):"error"===t.status&&l(t.response.error)}},o.a.createElement(Jt.a,{disabled:!i},o.a.createElement(w.a,{type:"upload"}),"\u4e0a\u4f20ESI\u6587\u4ef6")),o.a.createElement(Jt.a,{className:"".concat(t,"-scanslave"),disabled:!i,onClick:function(){b("".concat(a.i,"-scanslave")),m&&!m.return_code||(n("cs_stop","".concat(a.i,"-stop")),n("setesipath --path=".concat(s),"".concat(a.i,"-setesipath"))),n("scanslave","".concat(a.i,"-scanslave"))}},o.a.createElement(w.a,{type:"monitor"}),"\u626b\u63cf\u4ece\u7ad9")),o.a.createElement(Vt.a,{className:"".concat(t,"-info")},!f&&!m&&u&&o.a.createElement("span",{className:"info"},"ESI\u6587\u4ef6\u4e0a\u4f20\u4e2d..."),!f&&!m&&d&&o.a.createElement("span",{className:"success"},"ESI\u6587\u4ef6\u4e0a\u4f20\u6210\u529f!"),!f&&!m&&p&&o.a.createElement("span",{className:"info"},"ESI\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25! ERROR:",p),!f&&!!m&&!!m.return_code&&o.a.createElement(ir,{className:"error",filter:["cmd_response_time","id"],result:m}),!f&&!!m&&!m.return_code&&o.a.createElement("span",{className:"success"},"setesipath \u6210\u529f!"),!!f&&!!f.return_code&&o.a.createElement(ir,{className:"error",filter:["cmd_response_time","id"],result:m}),!!f&&!f.return_code&&o.a.createElement("span",{className:"success"},"scanslave \u6210\u529f!")),!!g&&o.a.createElement(Vt.a,{className:"".concat(t,"-slaves-list")},Object.keys(g).map(function(e){return o.a.createElement("div",{key:e,className:"".concat(E===e?"".concat(t,"-selected-slave"):""," ").concat(t,"-slaves-list-item"),onClick:function(){v(e)}},g[e].isMotion?"\u7535\u673a":"\u4ece\u7ad9",g[e].phyId,o.a.createElement(Jt.a,{size:"small",onClick:function(t){t.preventDefault(),t.stopPropagation(),O(e)}},"\u5220\u9664"))}),o.a.createElement(Vt.a,{className:"".concat(t,"-add-slave")},o.a.createElement(Jt.a,{onClick:h},"\u6dfb\u52a0\u4ece\u7ad9"))))}}]),t}(r.Component),Ur=Object(Ue.a)(function(e){return e.robot.esiPath},xt,Nr,Dr,Mr,function(e){return e.robot.esiFileUploadingRequest},function(e){return e.robot.esiFileUploadingSuccess},function(e){return e.robot.esiFileUploadingFailure},Tr,function(e,t,n,a,r,o,l,c,i){return console.log(r,i),{esiPath:e,ws:t,setEsiPathResult:n,scanSlaveResult:a,scanSlaveJsonResult:r,esiFileUploadingRequest:o,esiFileUploadingSuccess:l,esiFileUploadingFailure:c,setEsiPathJSONResult:i}});var Br=Object(i.b)(function(e,t){return he.request(),Ur(e,t)},{esiFileUploadRequest:he.request,esiFileUploadFailure:he.failure,esiFileUploadSuccess:he.success,sendCmd:ce,deleteResultByChannel:ie})(Lr),Vr=Vn.a.Option,Wr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedVendor:null,selectedDevice:null},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=(e.sendCmd,e.cell,e.selectedVendor),a=(e.selectedDevice,e.selectDevice),r=e.selectVendor,l=this.props.vendors,c={size:"small",style:{width:200},placeholder:"\u9009\u62e9\u54c1\u724c",onChange:function(e){r(e)}};r&&r.id&&(c.value=r.id);var i={size:"small",style:{width:200},placeholder:"\u9009\u62e9\u578b\u53f7",onChange:function(e){a(e)}};return a&&a.name&&(i.value=a.name),o.a.createElement("div",{className:"".concat(t,"-header-bar")},l&&o.a.createElement(Vn.a,c,l.map(function(e){return o.a.createElement(Vr,{value:e.id,key:e.id},e.name)})),l&&n&&n.devices&&o.a.createElement(Vn.a,i,n.devices.map(function(e,t){return o.a.createElement(Vr,{value:e.name,key:t},e.name)})),o.a.createElement(Jt.a,{onClick:this.props.save,type:"primary"},"\u4fdd\u5b58"))}}]),t}(r.Component),Jr=Object(Ue.a)(function(){},function(e){return{result:e}});var zr=Object(i.b)(function(e,t){return Jr(e,t)},{sendCmd:ce})(Wr),Gr=n(114),Xr=n.n(Gr);function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Hr=An.a.Item,Zr={labelCol:{span:10},wrapperCol:{span:14}},Yr=function(e,t,n){"string"===typeof t&&t.match(/^(?:0[xX])?[0-9a-fA-F]+$/)?n():n("not hex")},Kr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).name="Ethercat\u4ece\u7ad9\u914d\u7f6e",n.width=24,n.height=24,n.state={selectedVendor:null,selectedDevice:null,selectedSlave:null},n.addSlave=function(){var e=Qr({},n.state.slaves);if(!gn()(e)){var t=Math.max.apply(Math,Object(b.a)(Object.keys(e).map(function(t){return e[t].phyId})))+1,a=Qr({},e[0],{phyId:t,uuid:Math.random().toString(36)});delete a.syncManagerPoolObjects,e[a.uuid]=a,n.setState({slaves:e,saveError:null})}},n.selectSlave=function(e){var t=n.state.slaves;if(t[e]){var a=t[e],r=a.vendorId,o=a.productCode,l=a.revisionNum;r&&o&&l&&n.getEsiPdoListForDevice(r,o,l),n.setState({selectedSlave:e,saveError:null})}else n.setState({selectedSlave:null,saveError:null})},n.selectVendor=function(e){var t=n.state.vendors;n.setState({selectedVendor:t.filter(function(t){return t.id===e})[0],selectedDevice:null,saveError:null})},n.selectDevice=function(e){var t=n.state.selectedVendor;if(t){var a=t.devices.filter(function(t){return t.name===e})[0];if(n.setState({selectedDevice:a,saveError:null}),a){var r=t.id,o=a.productCode,l=a.revisionNo;r&&o&&l&&n.getEsiPdoListForDevice(r,o,l)}}},n.removeSlave=function(e){var t=Qr({},n.state.slaves);gn()(t)||(delete t[e],n.setState({slaves:t,saveError:null}))},n.addPdo=function(e){var t=Qr({},n.state.slaves),a=n.state.selectedSlave,r=Qr({},t[a]);r.syncManagerPoolObjects=Object(b.a)(r.syncManagerPoolObjects||[]),r.syncManagerPoolObjects[0].syncManagers=Object(b.a)(r.syncManagerPoolObjects[0].syncManagers||[]),r.syncManagerPoolObjects[0].syncManagers[e]=Qr({},r.syncManagerPoolObjects[0].syncManagers[e]||{}),r.syncManagerPoolObjects[0].syncManagers[e].pdoes=[].concat(Object(b.a)(r.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),[{}]),t[a]=r,r.rnd=Math.random(),n.setState({slaves:t,saveError:null})},n.removePdo=function(e,t){var a=Qr({},n.state.slaves),r=n.state.selectedSlave,o=Qr({},a[r]);o.syncManagerPoolObjects=Object(b.a)(o.syncManagerPoolObjects||[]),o.syncManagerPoolObjects[0].syncManagers=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers||[]),o.syncManagerPoolObjects[0].syncManagers[e]=Qr({},o.syncManagerPoolObjects[0].syncManagers[e]||{}),o.syncManagerPoolObjects[0].syncManagers[e].pdoes=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),o.syncManagerPoolObjects[0].syncManagers[e].pdoes.splice(t,1),a[r]=o,o.rnd=Math.random(),n.setState({slaves:a,saveError:null})},n.addPdoEntry=function(e,t){var a=Qr({},n.state.slaves),r=n.state.selectedSlave,o=Qr({},a[r]);o.syncManagerPoolObjects=Object(b.a)(o.syncManagerPoolObjects||[]),o.syncManagerPoolObjects[0].syncManagers=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers||{}),o.syncManagerPoolObjects[0].syncManagers[e]=Qr({},o.syncManagerPoolObjects[0].syncManagers[e]||{}),o.syncManagerPoolObjects[0].syncManagers[e].pdoes=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]=Qr({},o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]||{}),o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries=[].concat(Object(b.a)(o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries||[]),[{}]),a[r]=o,o.rnd=Math.random(),n.setState({slaves:a,saveError:null})},n.removePdoEntry=function(e,t,a){var r=Qr({},n.state.slaves),o=n.state.selectedSlave,l=Qr({},r[o]);l.syncManagerPoolObjects=Object(b.a)(l.syncManagerPoolObjects||[]),l.syncManagerPoolObjects[0].syncManagers=Object(b.a)(l.syncManagerPoolObjects[0].syncManagers||{}),l.syncManagerPoolObjects[0].syncManagers[e]=Qr({},l.syncManagerPoolObjects[0].syncManagers[e]||{}),l.syncManagerPoolObjects[0].syncManagers[e].pdoes=Object(b.a)(l.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]=Qr({},l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]||{}),l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries=Object(b.a)(l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries||[]),l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries.splice(a,1),r[o]=l,l.rnd=Math.random(),n.setState({slaves:r,saveError:null})},n.renderSlaveInputs=function(e,t){return o.a.createElement(Vt.a,null,[["name","name",t.name,[]],["vendorId","vendor id",t.vendorId,[{validator:Yr,message:"Please input hex"}]],["productCode","productCode",t.productCode,[{validator:Yr,message:"Please input hex"}]],["phyId","physical id",t.phyId,[{type:"integer",message:"Please input integer"}]],["revisionNum","revision No.",t.revisionNum,[{validator:Yr,message:"Please input hex"}]],["dcAssignActivate","dc assign activate",t.dcAssignActivate,[{validator:Yr,message:"Please input hex"}]]].map(function(t){var a;return(a=n).renderFormItemInput.apply(a,[e].concat(Object(b.a)(t),[7,!0]))}))},n.renderMotionInputs=function(e,t){return o.a.createElement(r.Fragment,null,n.renderSlaveInputs(e,t),o.a.createElement(Vt.a,null,[["maxPos","max pos",t.maxPos,7,!0,.01,"\u5ea6",-360,360],["maxVel","max vel",t.maxVel,7,!0,.01,"\u5ea6/s",-360,360],["maxAcc","max acc",t.maxAcc,7,!0,.01,"\u5ea6/s2",-360,360],["minPos","min pos",t.minPos,7,!0,.01,"\u5ea6",-360,360],["minVel","min vel",t.minVel,7,!0,.01,"\u5ea6/s",-360,360],["minAcc","min acc",t.minAcc,7,!0,.01,"\u5ea6/s2",-360,360],["posFactor","pos factor",t.posFactor,7,!0,.01,"",-Number.MAX_VALUE,Number.MAX_VALUE],["posOffset","pos offset",t.posOffset,7,!0,.01,"\u5ea6",-360,360],["homePos","home pos",t.homePos,7,!0,.01,"\u5ea6",-360,360],["maxPosFollowingError","max pos following error",t.maxPosFollowingError,11,!0,1e-4,"",-Number.MAX_VALUE,Number.MAX_VALUE],["maxVelFollowingError","max vel following error",t.maxVelFollowingError,11,!0,1e-4,"",-Number.MAX_VALUE,Number.MAX_VALUE]].map(function(t){var a;return(a=n).renderFormItemNumberInput.apply(a,[e].concat(Object(b.a)(t)))})))},n.renderPdoEntry=function(e,t,a,r,l){var c=n.props.form.getFieldDecorator,i={name:[],index:[{validator:Yr,message:"Please input hex"}],subIndex:[{validator:Yr,message:"Please input hex"}],size:[{type:"integer",message:"Please input integer",transform:function(e){return Number(e)?Number(e):0}}]};return o.a.createElement(Vt.a,{key:l,className:"".concat(e,"-sync-manager-pdo-entry")},o.a.createElement(Jn.a,{span:4},"PDO Entry"),["name","index","subIndex","size"].map(function(e){return o.a.createElement(Jn.a,{key:e,span:4},o.a.createElement(Hr,{hasFeedback:!0},c("slave.syncManagerPoolObjects[0].syncManagers[".concat(a,"].pdoes[").concat(r,"].entries[").concat(l,"].").concat(e),{initialValue:t[e],rules:[].concat(Object(b.a)(i[e]),[{required:!0,message:"Please input ".concat(e)}])})(o.a.createElement(jn.a,{placeholder:"".concat(e),size:"small"}))))}),o.a.createElement(Jn.a,{span:4},o.a.createElement(Jt.a,{size:"small",type:"danger",onClick:function(){n.removePdoEntry(a,r,l)}},"DEL")))},n.renderPdo=function(e,t,a,r){var l=n.props.form.getFieldDecorator,c={name:[],index:[{validator:Yr,message:"Please input hex"}]};return o.a.createElement("div",{className:"".concat(e,"-sync-manager-pdo"),key:r},o.a.createElement(Vt.a,{className:"".concat(e,"-sync-manager-pdo-header")},o.a.createElement(Jn.a,{span:2},"Pdo ",r+1),["name","index"].map(function(e){return o.a.createElement(Jn.a,{span:6,key:e},o.a.createElement(Hr,Object.assign({},Zr,{label:e,hasFeedback:!0}),l("slave.syncManagerPoolObjects[0].syncManagers[".concat(a,"].pdoes[").concat(r,"].").concat(e),{initialValue:t[e],rules:[].concat(Object(b.a)(c[e]),[{required:!0,message:"Please input ".concat(e)}])})(o.a.createElement(jn.a,{placeholder:"".concat(e),size:"small"}))))}),o.a.createElement(Jn.a,{span:8,offset:2,className:"".concat(e,"-sync-manager-pdo-delete")},o.a.createElement(Hr,null,o.a.createElement(Jt.a,{size:"small",type:"danger",onClick:function(){n.removePdo(a,r)}},"DEL")))),o.a.createElement("div",{className:"".concat(e,"-sync-manager-pdo-entries")},o.a.createElement(Vt.a,{className:"".concat(e,"-sync-manager-pdo-entries-header")},o.a.createElement(Jn.a,{span:4}),["name","index","subIndex","size"].map(function(e){return o.a.createElement(Jn.a,{key:e,span:4},e)})),!!t.entries&&t.entries.map(function(t,o){return n.renderPdoEntry(e,t,a,r,o)}),o.a.createElement(Vt.a,{className:"".concat(e,"-sync-manager-pdo-entries-add")},o.a.createElement(Jn.a,{span:20},o.a.createElement(Hr,null,o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:function(){n.addPdoEntry(a,r)}},"Add Pdo Entry"))))))},n.renderSyncManager=function(e,t,a){var r=n.props.form.getFieldDecorator;return o.a.createElement("div",{className:"".concat(e,"-sync-manager"),key:a},o.a.createElement(Vt.a,{className:"".concat(e,"-sync-manager-header")},"Sync Manager ",a+1,r("slave.syncManagerPoolObjects[0].syncManagers[".concat(a,"].isTx"),{initialValue:!!t.isTx})(o.a.createElement(Xr.a,null,"is_tx")),o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:n.addPdo.bind(Object(m.a)(n),a)},"Add PDO")),o.a.createElement("div",{className:"".concat(e,"-sync-manager-pdoes")},!!t.pdoes&&t.pdoes.map(function(t,r){return n.renderPdo(e,t,a,r)})))},n.renderForm=function(e){var t=n.state,a=t.slaves,r=t.selectedSlave,l=a[r];return o.a.createElement(An.a,null,!!l.isMotion&&n.renderMotionInputs(e,l),!l.isMotion&&n.renderSlaveInputs(e,l),o.a.createElement(Vt.a,{className:"".concat(e,"-is-motion")},o.a.createElement(Jn.a,{span:23},o.a.createElement(Xr.a,{checked:l.isMotion,onChange:function(e){(a=Qr({},a))[r]=Qr({},l,{isMotion:e.target.checked}),n.setState({slaves:a,saveError:null})}},"isMotion"))),!!l&&l.syncManagerPoolObjects&&l.syncManagerPoolObjects[0]&&l.syncManagerPoolObjects[0].syncManagers&&l.syncManagerPoolObjects[0].syncManagers.map(function(t,a){return n.renderSyncManager(e,t,a)}))},n.save=function(e){e.preventDefault();var t=Object(m.a)(n),a=n.props,r=a.sendCmd,o=a.cell,l=a.deleteResultByChannel;n.props.form.validateFields(function(e,a){var c=a.slave;if(e)t.setState({saveError:"\u8bf7\u4fee\u6b63\u4e0d\u5408\u7406\u7684\u8f93\u5165\u5185\u5bb9\uff01"});else{var i=n.state,s=i.slaves,u=i.selectedSlave,d=s[u];s[u]=Qr({syncManagerPoolObjects:[{syncManagers:[{},{},{},{}]}]},c,{uuid:d.uuid,isMotion:d.isMotion});var p={name:"slave_pool",motions:[],slaves:[]};Object.keys(s).map(function(e){var t=s[e];t.isMotion?p.motions.push(t):p.slaves.push(t)});var m={name:"ethercat_controller",slavePoolObjects:[p]},f=jr.FromJSON(m);n.setState({saveError:null}),l("".concat(o.i,"-save")),r("set_xml --xml={<ControlServer>".concat(f.toXML(),"</ControlServer>}"),"".concat(o.i,"-save"))}})},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.saveResult,i=n.state,s=i.slaves,u=i.selectedSlave,d=i.vendors,p=i.selectedVendor,m=i.selectedDevice,f=i.saveError,b=t("ethercat-configuration",r);return o.a.createElement("div",{className:b},o.a.createElement(Br,{prefixCls:b,slaves:s,addSlave:n.addSlave,removeSlave:n.removeSlave,selectSlave:n.selectSlave,selectedSlave:u,getEsiPdoList:n.getEsiPdoListForSlave,cell:l}),!!s&&!!u&&!!s[u]&&o.a.createElement("div",{className:"".concat(b,"-content"),onSubmit:function(){}},o.a.createElement(zr,{cell:l,vendors:d,prefixCls:b,selectDevice:n.selectDevice,selectVendor:n.selectVendor,selectedVendor:p,selectedDevice:m,save:n.save,getEsiPdoList:n.getEsiPdoListForDevice}),o.a.createElement(Vt.a,{className:"".concat(b,"-error")},f&&o.a.createElement("div",{className:"error"},f),c&&0!==c.return_code&&o.a.createElement(ir,{result:c,className:"error"})),n.renderForm(b)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getEsiPdoListForDevice",value:function(e,t,n){var a=this.props,r=a.deleteResultByChannel,o=a.sendCmd,l=a.cell;r("".concat(l.i,"-pdolist")),o("getesipdolist --vendor_id=".concat(e," --product_code=").concat(t," --revision_num=").concat(n),"".concat(l.i,"-pdolist-for-device"))}},{key:"getEsiPdoListForSlave",value:function(e,t,n){var a=this.props,r=a.deleteResultByChannel,o=a.sendCmd,l=a.cell;r("".concat(l.i,"-pdolist")),o("getesipdolist --vendor_id=".concat(e," --product_code=").concat(t," --revision_num=").concat(n),"".concat(l.i,"-pdolist-for-slave"))}},{key:"shouldComponentUpdate",value:function(e,t,n){if(qe()(e.ethercatMaster,this.props.ethercatMaster)||e.ethercatMaster&&e.ethercatMaster.vendors&&this.setState({vendors:e.ethercatMaster.vendors,saveError:null}),!qe()(e.ethercatController,this.props.ethercatController)){if(e.ethercatController&&e.ethercatController.slavePoolObjects&&e.ethercatController.slavePoolObjects[0]){var a={};e.ethercatController.slavePoolObjects[0].motions&&e.ethercatController.slavePoolObjects[0].motions.forEach(function(e){a[e.uuid]=e}),e.ethercatController.slavePoolObjects[0].slaves&&e.ethercatController.slavePoolObjects[0].slaves.forEach(function(e){a[e.uuid]=e}),this.setState({slaves:a,saveError:null})}return!1}var r=this.state,o=r.selectedSlave,l=r.slaves;return!(!qe()(e.pdoListForDevice,this.props.pdoListForDevice)&&!gn()(e.pdoListForDevice)&&o&&l&&l[o])||((l=Qr({},l))[o]=Qr({},e.pdoListForDevice,{phyId:l[this.state.selectedSlave].phyId,uuid:o}),this.setState({slaves:l,saveError:null}),!1)}},{key:"componentWillMount",value:function(){this.props.loadEsiPath()}},{key:"renderFormItemInput",value:function(e,t,n,a,r,l,c){var i=this.props.form.getFieldDecorator;return o.a.createElement(Jn.a,{span:l||7,offset:1,pull:1,key:t},o.a.createElement(Hr,Object.assign({},Zr,{label:n,hasFeedback:!0}),i("slave.".concat(t),{initialValue:a,rules:[{required:!!c,message:"Please input ".concat(n)}]})(o.a.createElement(jn.a,{placeholder:"".concat(n),size:"small"}))))}},{key:"renderFormItemNumberInput",value:function(e,t,n,a,r,l,c,i,s,u){var d=this.props.form.getFieldDecorator;return o.a.createElement(Jn.a,{span:r||7,offset:1,pull:1,key:t},o.a.createElement(Hr,Object.assign({},Zr,{label:n,hasFeedback:!0}),d("slave.".concat(t),{initialValue:a,rules:[{required:!!l,message:"Please input ".concat(n)}]})(o.a.createElement(Gn.a,{size:"small",step:c||.01,min:s||-360,max:u||360,placeholder:"".concat(n)})),!!i&&o.a.createElement("span",{className:"".concat(e,"-form-postfix")},i)))}}]),t}(Xt),$r=Object(Ue.a)(Tr,Mr,kr,Ar,function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-save")]},function(e,t,n,a,r){return{ethercatMaster:e,ethercatController:t,pdoListForDevice:n,pdoListForSlave:a,saveResult:r}});var eo=Object(i.b)(function(e,t){return $r(e,t)},{loadEsiPath:function(){return U(Oe)},deleteResultByChannel:ie})(An.a.create({mapPropsToFields:function(e){return function e(t){return Object.keys(t).reduce(function(n,a){return Qr({},n,Object(g.a)({},a,"object"!==typeof t[a]||"value"in t[a]?An.a.createFormField(Qr({},t[a],{value:t[a]&&t[a].value})):Ge()(t[a])?t[a].map(function(t){return e(t)}):e(t[a])))},{})}({slave:e.slave})},onValuesChange:function(e,t){}})(Kr));eo.NAME="\u4ece\u7ad9\u914d\u7f6e";var to=eo,no=n(330),ao=n.n(no),ro=n(2),oo=n.n(ro),lo=function(e){return/^[a-zA-Z][a-zA-Z0-9_]*$/.test(e)?e:"error"},co=[["int","int"],["string","string"],["boolen","boolen"],["double","double"],["int[][]","array"]];oo.a.Blocks.base_variate={init:function(){var e=new oo.a.FieldDropdown(co,this.validate);this.appendDummyInput().appendField(new oo.a.FieldLabelSerializable("VAR"),"NAME").appendField(e,"DROPDOWN1"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")},validate:function(e){return this.getSourceBlock().updateConnections(e),e},updateConnections:function(e){this.removeInput("other",!0),this.removeInput("array1",!0);var t=new oo.a.FieldTextInput("p1",lo);"int"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new oo.a.FieldTextInput("result"),"RESULT"):"string"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new oo.a.FieldTextInput("result"),"RESULT"):"boolen"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new oo.a.FieldTextInput("result"),"RESULT"):"double"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new oo.a.FieldTextInput("result"),"RESULT"):"array"==e&&this.appendDummyInput("array1").appendField(t,"INPUT1").appendField(new oo.a.FieldTextInput("p2"),"INPUT2").appendField("=").appendField(new oo.a.FieldTextInput("result"),"RESULT")}},oo.a.Blocks.load_variate={init:function(){this.appendDummyInput().appendField("VAR load","FIRST_FIELD").appendField(new oo.a.FieldTextInput("piece1",lo),"VARIABLE").appendField("=").appendField("{").appendField(new oo.a.FieldTextInput("mass"),"MASS").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("cogx"),"COGX").appendField(",").appendField(new oo.a.FieldTextInput("cogy"),"COGY").appendField(",").appendField(new oo.a.FieldTextInput("cogz"),"COGZ").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new oo.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new oo.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new oo.a.FieldTextInput("q4"),"Q4").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("ix"),"IX").appendField(new oo.a.FieldTextInput("iy"),"IY").appendField(new oo.a.FieldTextInput("iz"),"IZ").appendField("}").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.pose_variate={init:function(){this.appendDummyInput().appendField("VAR pose","FIRST_FIELD").appendField(new oo.a.FieldTextInput("pose1",lo),"POST1").appendField("=").appendField("{{").appendField(new oo.a.FieldTextInput("x"),"X").appendField(",").appendField(new oo.a.FieldTextInput("y"),"Y").appendField(",").appendField(new oo.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new oo.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new oo.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new oo.a.FieldTextInput("q4"),"Q4").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.jointtarget_variate={init:function(){this.appendDummyInput().appendField("VAR jointtarget","FIRST_FIELD").appendField(new oo.a.FieldTextInput("home",lo),"HOME").appendField("=").appendField("{{").appendField(new oo.a.FieldTextInput("J1"),"J1").appendField(",").appendField(new oo.a.FieldTextInput("J2"),"J2").appendField(",").appendField(new oo.a.FieldTextInput("J3"),"J3").appendField(",").appendField(new oo.a.FieldTextInput("J4"),"J4").appendField(",").appendField(new oo.a.FieldTextInput("J5"),"J5").appendField(",").appendField(new oo.a.FieldTextInput("J6"),"J6").appendField("}").appendField("{").appendField(new oo.a.FieldTextInput("EJ"),"EJ").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.robtarget_variate={init:function(){this.appendDummyInput().appendField("VAR robtarget","FIRST_FIELD").appendField(new oo.a.FieldTextInput("pB1",lo),"INPUT1").appendField("=").appendField("{{").appendField(new oo.a.FieldTextInput("x"),"X").appendField(",").appendField(new oo.a.FieldTextInput("y"),"Y").appendField(",").appendField(new oo.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new oo.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new oo.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new oo.a.FieldTextInput("q4"),"Q4").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.speed_variate={init:function(){this.appendDummyInput().appendField("VAR speed","first_field").appendField(new oo.a.FieldTextInput("v1"),"V1").appendField("=").appendField("{").appendField(new oo.a.FieldTextInput("ter"),"TER").appendField(",").appendField(new oo.a.FieldTextInput("tcp"),"TCP").appendField(",").appendField(new oo.a.FieldTextInput("ori"),"ORI").appendField(",").appendField(new oo.a.FieldTextInput("exj_r"),"EXJ_R").appendField(",").appendField(new oo.a.FieldTextInput("exj_l"),"EXJ_L").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.zone_variate={init:function(){this.appendDummyInput().appendField("VAR zone","FIRST_FIELD").appendField(new oo.a.FieldTextInput("z100",lo),"INPUT1").appendField("=").appendField("{").appendField(new oo.a.FieldTextInput("dis"),"DIS").appendField(",").appendField(new oo.a.FieldTextInput("per"),"PER").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.tool_variate={init:function(){this.appendDummyInput().appendField("VAR tool","FIRST_FIELD").appendField(new oo.a.FieldTextInput("tool2",lo),"INPUT1").appendField("=").appendField("{").appendField(new oo.a.FieldDropdown([["true","true"],["false","false"]]),"CHOOSE").appendField(",").appendField("{{").appendField(new oo.a.FieldTextInput("x"),"X").appendField(",").appendField(new oo.a.FieldTextInput("y"),"Y").appendField(",").appendField(new oo.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("q1"),"A1").appendField(",").appendField(new oo.a.FieldTextInput("q2"),"A2").appendField(",").appendField(new oo.a.FieldTextInput("q3"),"A3").appendField(",").appendField(new oo.a.FieldTextInput("q4"),"A4").appendField("}}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("mass"),"MASS").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("cogx"),"COGX").appendField(",").appendField(new oo.a.FieldTextInput("cogy"),"XOGY").appendField(",").appendField(new oo.a.FieldTextInput("cogz"),"COGZ").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new oo.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new oo.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new oo.a.FieldTextInput("q4"),"Q4").appendField("}").appendField(",").appendField(new oo.a.FieldTextInput("ix"),"IX").appendField(",").appendField(new oo.a.FieldTextInput("iy"),"IY").appendField(",").appendField(new oo.a.FieldTextInput("iz"),"IZ").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.wobj_variate={init:function(){this.appendDummyInput().appendField("VAR wobj","FIRST_FIELD").appendField(new oo.a.FieldTextInput("wobj2",lo),"VALUE").appendField("=").appendField("{").appendField(new oo.a.FieldDropdown([["FALSE","FALSE"],["TRUE","TRUE"]]),"DropDown1").appendField(",").appendField(new oo.a.FieldDropdown([["TRUE","TRUE"],["FALSE","FALSE"]]),"DropDown2").appendField(",").appendField(new oo.a.FieldTextInput('"robot"'),"name_string").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("x"),"X").appendField(",").appendField(new oo.a.FieldTextInput("y"),"Y").appendField(",").appendField(new oo.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new oo.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new oo.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new oo.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new oo.a.FieldTextInput("q4"),"Q4").appendField("}").appendField(",").appendField(new oo.a.FieldTextInput("id"),"ID").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.robotcontrol_movel={updateEndPQ:function(e){var t=this;[0,1,2,3,4,5,6].forEach(function(n){return t.setFieldValue(e[n].toFixed(6),"END_PQ".concat(n))}),this.workspace&&this.workspace.render()},isEndPQEmpty:function(){var e=this;return 7===[0,1,2,3,4,5,6].filter(function(t){return e.getFieldValue("END_PQ".concat(t))===1/0}).length},init:function(){var e=[1/0,1/0,1/0,1/0,1/0,1/0,1/0];this.workspace&&this.workspace.endPQ&&(e=this.workspace.endPQ.map(function(e){return e.toFixed(6)})),this.appendValueInput("END_PQ_INPUT").setCheck(null).appendField("MoveL --pq=").appendField(new oo.a.FieldNumber(e[0]),"END_PQ0").appendField(new oo.a.FieldNumber(e[1]),"END_PQ1").appendField(new oo.a.FieldNumber(e[2]),"END_PQ2").appendField(new oo.a.FieldNumber(e[3]),"END_PQ3").appendField(new oo.a.FieldNumber(e[4]),"END_PQ4").appendField(new oo.a.FieldNumber(e[5]),"END_PQ5").appendField(new oo.a.FieldNumber(e[6]),"END_PQ6"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip("Move L"),this.setHelpUrl("")}},oo.a.Blocks.robotcontrol_movej={updateEndPQ:function(e){var t=this;[0,1,2,3,4,5,6].forEach(function(n){return t.setFieldValue(e[n].toFixed(6),"END_PQ".concat(n))}),this.workspace&&this.workspace.render()},isEndPQEmpty:function(){var e=this;return 7===[0,1,2,3,4,5,6].filter(function(t){return e.getFieldValue("END_PQ".concat(t))===1/0}).length},init:function(){var e=[1/0,1/0,1/0,1/0,1/0,1/0,1/0];this.workspace&&this.workspace.endPQ&&(e=this.workspace.endPQ.map(function(e){return e.toFixed(3)})),this.appendValueInput("END_PQ_INPUT").setCheck(null).appendField("MoveJ --pq=").appendField(new oo.a.FieldNumber(e[0]),"END_PQ0").appendField(new oo.a.FieldNumber(e[1]),"END_PQ1").appendField(new oo.a.FieldNumber(e[2]),"END_PQ2").appendField(new oo.a.FieldNumber(e[3]),"END_PQ3").appendField(new oo.a.FieldNumber(e[4]),"END_PQ4").appendField(new oo.a.FieldNumber(e[5]),"END_PQ5").appendField(new oo.a.FieldNumber(e[6]),"END_PQ6"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip("Move J"),this.setHelpUrl("")}},oo.a.Blocks.math_function={init:function(){this.appendDummyInput().appendField(new oo.a.FieldDropdown([["sin","SIN"],["cos","COS"],["tan","TAN"],["cot","COT"],["asin","ASIN"],["atan","ATAN"],["atan2","ATAN2"],["acot","ACOT"],["abs","ABS"],["exp","EXP"],["sqrt","SQRT"]]),"DROPDOWN1").appendField(new oo.a.FieldTextInput("default"),"INPUT1"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.while={init:function(){this.appendDummyInput().appendField("while"),this.appendValueInput("value1").setCheck(null),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.wait={init:function(){this.appendDummyInput().appendField("wait").appendField(new oo.a.FieldTextInput("0"),"NUM"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.pause={init:function(){this.appendDummyInput().appendField("pause"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.wait_until={init:function(){this.appendDummyInput().appendField("WaitUntil"),this.appendValueInput("NAME").setCheck(null),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.setdo={init:function(){this.appendDummyInput().appendField("SetDO").appendField(new oo.a.FieldTextInput("default"),"INPUT1").appendField(new oo.a.FieldDropdown([["True","TRUE"],["False","FALSE"]]),"DROPDOWN1"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.movej={init:function(){this.appendDummyInput().appendField("MoveJ").appendField(new oo.a.FieldDropdown([["ToPoint","TOPOINT"]]),"DROPDOWN1").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN2").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField("[").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.moveabsj={init:function(){this.appendDummyInput().appendField("MoveabsJ").appendField(new oo.a.FieldDropdown([["ToJointPos","ToJointPos"],["option","OPTIONNAME"],["option","OPTIONNAME"]]),"DROPDOWN1").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN2").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField("[").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.movel={init:function(){this.appendDummyInput().appendField("MoveL").appendField(new oo.a.FieldDropdown([["ToPoint","ToPoint"]]),"DROPDOWN1").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN2").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField("[").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.movec={init:function(){this.appendDummyInput().appendField("MoveC").appendField(new oo.a.FieldDropdown([["AuxPoint","AuxPoint"]]),"DROPDOWN1").appendField(",").appendField(new oo.a.FieldDropdown([["ToPoint","ToPoint"]]),"DROPDOWN2").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField(",").appendField("[").appendField(new oo.a.FieldDropdown([["null","null"]]),"DROPDOWN6").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.else={init:function(){this.appendDummyInput().appendField("else"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.if={init:function(){this.appendDummyInput().appendField("if"),this.appendValueInput("input1").setCheck(null),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.end_if={init:function(){this.appendDummyInput().appendField("endif"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.end_while={init:function(){this.appendDummyInput().appendField("endwhile"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.simple_arithmetic={init:function(){this.appendDummyInput().appendField(new oo.a.FieldTextInput("value1"),"VALUE1").appendField(new oo.a.FieldDropdown([["+","sum"],["-","subtract"],["*","multiply"],["/","div"]]),"NAME").appendField(new oo.a.FieldTextInput("value2"),"VALUE2"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.fcpressp={init:function(){this.appendDummyInput().appendField("FCPressP").appendField("=").appendField("{").appendField(new oo.a.FieldTextInput("p1"),"P1").appendField(new oo.a.FieldTextInput("p2"),"P2").appendField(new oo.a.FieldTextInput("p3"),"P3").appendField(new oo.a.FieldTextInput("p4"),"P4").appendField(new oo.a.FieldTextInput("p5"),"P5").appendField(",").appendField(new oo.a.FieldTextInput("Force"),"FORCE").appendField(new oo.a.FieldTextInput("Tool"),"TOOL").appendField(new oo.a.FieldTextInput("Wobj"),"WOBJ").appendField("}"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.fcpressl={init:function(){this.appendDummyInput().appendField("FCPressL").appendField(new oo.a.FieldTextInput("Force"),"FORCE").appendField(new oo.a.FieldTextInput("Tool"),"TOOL").appendField(new oo.a.FieldTextInput("Wobj"),"WOBJ"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.fcpresss={init:function(){this.appendDummyInput().appendField("FCPressS").appendField(new oo.a.FieldTextInput("Force"),"FORCE").appendField(new oo.a.FieldTextInput("Tool"),"TOOL").appendField(new oo.a.FieldTextInput("Wobj"),"WOBJ"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.fcpresss={init:function(){this.appendDummyInput().appendField("FCPressS").appendField(new oo.a.FieldTextInput("Force"),"FORCE").appendField(new oo.a.FieldTextInput("Tool"),"TOOL").appendField(new oo.a.FieldTextInput("Wobj"),"WOBJ"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Blocks.controls_if_self={init:function(){this.appendValueInput("IF0").setCheck("Boolean").appendField("if"),this.appendStatementInput("DO0").setCheck(null).appendField("do"),this.appendDummyInput().appendField("end_if"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},oo.a.Robot=new oo.a.Generator("Robot"),oo.a.Robot.addReservedWords("Blockly,Robot"),oo.a.Robot.ORDER_ATOMIC=0,oo.a.Robot.ORDER_NEW=1.1,oo.a.Robot.ORDER_MEMBER=1.2,oo.a.Robot.ORDER_FUNCTION_CALL=2,oo.a.Robot.ORDER_INCREMENT=3,oo.a.Robot.ORDER_DECREMENT=3,oo.a.Robot.ORDER_BITWISE_NOT=4.1,oo.a.Robot.ORDER_UNARY_PLUS=4.2,oo.a.Robot.ORDER_UNARY_NEGATION=4.3,oo.a.Robot.ORDER_LOGICAL_NOT=4.4,oo.a.Robot.ORDER_TYPEOF=4.5,oo.a.Robot.ORDER_VOID=4.6,oo.a.Robot.ORDER_DELETE=4.7,oo.a.Robot.ORDER_AWAIT=4.8,oo.a.Robot.ORDER_EXPONENTIATION=5,oo.a.Robot.ORDER_MULTIPLICATION=5.1,oo.a.Robot.ORDER_DIVISION=5.2,oo.a.Robot.ORDER_MODULUS=5.3,oo.a.Robot.ORDER_SUBTRACTION=6.1,oo.a.Robot.ORDER_ADDITION=6.2,oo.a.Robot.ORDER_BITWISE_SHIFT=7,oo.a.Robot.ORDER_RELATIONAL=8,oo.a.Robot.ORDER_IN=8,oo.a.Robot.ORDER_INSTANCEOF=8,oo.a.Robot.ORDER_EQUALITY=9,oo.a.Robot.ORDER_BITWISE_AND=10,oo.a.Robot.ORDER_BITWISE_XOR=11,oo.a.Robot.ORDER_BITWISE_OR=12,oo.a.Robot.ORDER_LOGICAL_AND=13,oo.a.Robot.ORDER_LOGICAL_OR=14,oo.a.Robot.ORDER_CONDITIONAL=15,oo.a.Robot.ORDER_ASSIGNMENT=16,oo.a.Robot.ORDER_YIELD=17,oo.a.Robot.ORDER_COMMA=18,oo.a.Robot.ORDER_NONE=99,oo.a.Robot.ORDER_OVERRIDES=[[oo.a.Robot.ORDER_FUNCTION_CALL,oo.a.Robot.ORDER_MEMBER],[oo.a.Robot.ORDER_FUNCTION_CALL,oo.a.Robot.ORDER_FUNCTION_CALL],[oo.a.Robot.ORDER_MEMBER,oo.a.Robot.ORDER_MEMBER],[oo.a.Robot.ORDER_MEMBER,oo.a.Robot.ORDER_FUNCTION_CALL],[oo.a.Robot.ORDER_LOGICAL_NOT,oo.a.Robot.ORDER_LOGICAL_NOT],[oo.a.Robot.ORDER_MULTIPLICATION,oo.a.Robot.ORDER_MULTIPLICATION],[oo.a.Robot.ORDER_ADDITION,oo.a.Robot.ORDER_ADDITION],[oo.a.Robot.ORDER_LOGICAL_AND,oo.a.Robot.ORDER_LOGICAL_AND],[oo.a.Robot.ORDER_LOGICAL_OR,oo.a.Robot.ORDER_LOGICAL_OR]],oo.a.Robot.init=function(e){oo.a.Robot.definitions_=Object.create(null),oo.a.Robot.functionNames_=Object.create(null),oo.a.Robot.letiableDB_?oo.a.Robot.letiableDB_.reset():oo.a.Robot.letiableDB_=new oo.a.Names(oo.a.Robot.RESERVED_WORDS_),oo.a.Robot.letiableDB_.setVariableMap(e.getVariableMap());for(var t=[],n=oo.a.Variables.allDeveloperVariables(e),a=0;a<n.length;a++)t.push(oo.a.Robot.letiableDB_.getName(n[a],oo.a.Names.DEVELOPER_VARIABLE_TYPE));for(var r=oo.a.Variables.allUsedVarModels(e),o=0;o<r.length;o++)t.push(oo.a.Robot.letiableDB_.getName(r[o].getId(),oo.a.Variables.NAME_TYPE));t.length&&(oo.a.Robot.definitions_.letiables="let "+t.join(", ")+";")},oo.a.Robot.finish=function(e){var t=[];for(var n in oo.a.Robot.definitions_)t.push(oo.a.Robot.definitions_[n]);return delete oo.a.Robot.definitions_,delete oo.a.Robot.functionNames_,oo.a.Robot.letiableDB_.reset(),t.join("\n\n")+"\n\n\n"+e},oo.a.Robot.scrubNakedValue=function(e){return e+";\n"},oo.a.Robot.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},oo.a.Robot.scrub_=function(e,t,n){var a="";if(!e.outputConnection||!e.outputConnection.targetConnection){var r=e.getCommentText();(r=oo.a.utils.string.wrap(r,oo.a.Robot.COMMENT_WRAP-3))&&(e.getProcedureDef?a+="/**\n"+oo.a.Robot.prefixLines(r+"\n"," * ")+" */\n":a+=oo.a.Robot.prefixLines(r+"\n","// "));for(var o=0;o<e.inputList.length;o++)if(e.inputList[o].type==oo.a.INPUT_VALUE){var l=e.inputList[o].connection.targetBlock();if(l){var c=oo.a.Robot.allNestedComments(l);c&&(a+=oo.a.Robot.prefixLines(c,"// "))}}}var i=e.nextConnection&&e.nextConnection.targetBlock(),s=n?"":oo.a.Robot.blockToCode(i);return"".concat(a).concat(a?"\n":"").concat(t).concat(t?"\n":"").concat(s)},oo.a.Robot.getAdjusted=function(e,t,n,a,r){var o=n||0,l=r||oo.a.Robot.ORDER_NONE;e.workspace.options.oneBasedIndex&&o--;var c=e.workspace.options.oneBasedIndex?"1":"0",i="";if(i=o>0?oo.a.Robot.valueToCode(e,t,oo.a.Robot.ORDER_ADDITION)||c:o<0?oo.a.Robot.valueToCode(e,t,oo.a.Robot.ORDER_SUBTRACTION)||c:a?oo.a.Robot.valueToCode(e,t,oo.a.Robot.ORDER_UNARY_NEGATION)||c:oo.a.Robot.valueToCode(e,t,l)||c,oo.a.isNumber(i))i=parseFloat(i)+o,a&&(i=-i);else{var s=null;o>0?(i=i+" + "+o,s=oo.a.Robot.ORDER_ADDITION):o<0&&(i=i+" - "+-o,s=oo.a.Robot.ORDER_SUBTRACTION),a&&(i=o?"-("+i+")":"-"+i,s=oo.a.Robot.ORDER_UNARY_NEGATION),s=Math.floor(s),l=Math.floor(l),s&&l>=s&&(i="("+i+")")}return i},oo.a.Robot.robotcontrol_movejr=function(e){var t="moveJR -m="+e.getFieldValue("M_SELECT")+" --pos="+e.getFieldValue("JOINT_ANGLE")/180*3.14*e.getFieldValue("DIR");return"".concat(e.id).concat(t)},oo.a.Robot.robotcontrol_movel=function(e){var t=[0,1,2,3,4,5,6].map(function(t){return e.getFieldValue("END_PQ".concat(t))}).join(",");return"".concat(e.id,"mvl --pq={").concat(t,"}")},oo.a.Robot.robotcontrol_movej=function(e){var t=[0,1,2,3,4,5,6].map(function(t){return e.getFieldValue("END_PQ".concat(t))}).join(",");return"".concat(e.id,"mvj --pq={").concat(t,"}")},oo.a.Robot.fcpressp=function(e){e.getFieldValue("P1"),e.getFieldValue("P2"),e.getFieldValue("P3"),e.getFieldValue("P4"),e.getFieldValue("P5"),e.getFieldValue("FORCE"),e.getFieldValue("TOOL"),e.getFieldValue("WOBJ");return"".concat(e.id).concat("FCPressP")},oo.a.Robot.fcpressl=function(e){e.getFieldValue("FORCE"),e.getFieldValue("TOOL"),e.getFieldValue("WOBJ");return"".concat(e.id).concat("FCPressL")},oo.a.Robot.fcpresss=function(e){e.getFieldValue("FORCE"),e.getFieldValue("TOOL"),e.getFieldValue("WOBJ");return"".concat(e.id).concat("FCPressS")},oo.a.Robot.math_function=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("INPUT1");return["...",oo.a.JavaScript.ORDER_NONE]},oo.a.Robot.while=function(e){oo.a.JavaScript.valueToCode(e,"VALUE1",oo.a.JavaScript.ORDER_ATOMIC);return"".concat(e.id).concat("while")},oo.a.Robot.wait=function(e){e.getFieldValue("NUM");return"".concat(e.id).concat("wait")},oo.a.Robot.pause=function(e){return"".concat(e.id).concat("pause")},oo.a.Robot.wait_until=function(e){oo.a.JavaScript.valueToCode(e,"NAME",oo.a.JavaScript.ORDER_ATOMIC);return"".concat(e.id).concat("wait_until")},oo.a.Robot.setdo=function(e){e.getFieldValue("INPUT1"),e.getFieldValue("DROPDOWN1");return"".concat(e.id).concat("")},oo.a.Robot.movej=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("DROPDOWN3"),e.getFieldValue("DROPDOWN4"),e.getFieldValue("DROPDOWN5");return"".concat(e.id).concat("...;\n")},oo.a.Robot.moveabsj=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("DROPDOWN3"),e.getFieldValue("DROPDOWN4"),e.getFieldValue("DROPDOWN5");return"".concat(e.id).concat("...;\n")},oo.a.Robot.movel=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("DROPDOWN3"),e.getFieldValue("DROPDOWN4"),e.getFieldValue("DROPDOWN5");return"".concat(e.id).concat("...;\n")},oo.a.Robot.else=function(e){return"".concat(e.id).concat("...;\n")},oo.a.Robot.if=function(e){oo.a.JavaScript.valueToCode(e,"INPUT1",oo.a.JavaScript.ORDER_ATOMIC);return"".concat(e.id).concat("...;\n")},oo.a.Robot.end_if=function(e){return"".concat(e.id).concat("...;\n")},oo.a.Robot.end_while=function(e){return"".concat(e.id).concat("...;\n")},oo.a.Robot.simple_arithmetic=function(e){e.getFieldValue("VALUE1"),e.getFieldValue("NAME"),e.getFieldValue("VALUE2");return"".concat(e.id).concat("...;\n")},oo.a.Robot.base_variate=function(e){var t=e.getFieldValue("DROPDOWN1");if("array"==t){var n="VAR "+t+" "+e.getFieldValue("INPUT1")+" "+e.getFieldValue("INPUT2")+"="+e.getFieldValue("RESULT")+"\n";return"".concat(e.id).concat(n)}var a="VAR "+t+" "+e.getFieldValue("INPUT1")+"="+e.getFieldValue("RESULT")+"\n";return"".concat(e.id).concat(a)},oo.a.Robot.load_variate=function(e){var t="VAR load "+e.getFieldValue("VARIABLE")+"={"+e.getFieldValue("MASS")+",{"+e.getFieldValue("COGX")+","+e.getFieldValue("COGY")+","+e.getFieldValue("COGZ")+"},{"+e.getFieldValue("Q1")+","+e.getFieldValue("Q2")+","+e.getFieldValue("Q3")+","+e.getFieldValue("Q4")+"},{"+e.getFieldValue("IX")+","+e.getFieldValue("IY")+","+e.getFieldValue("IZ")+"\n";return"".concat(e.id).concat(t)},oo.a.Robot.pose_variate=function(e){var t="VAR pose "+e.getFieldValue("POSE1")+"={{"+e.getFieldValue("X")+","+e.getFieldValue("Y")+","+e.getFieldValue("Z")+"},{"+e.getFieldValue("Q1")+","+e.getFieldValue("Q2")+","+e.getFieldValue("Q3")+","+e.getFieldValue("Q4")+"}};\n";return"".concat(e.id).concat(t)},oo.a.Robot.jointtarget_variate=function(e){var t="VAR jointtarget "+e.getFieldValue("HOME")+"={{"+e.getFieldValue("J1")+","+e.getFieldValue("J2")+","+e.getFieldValue("J3")+","+e.getFieldValue("J4")+",text_j5,"+e.getFieldValue("J5")+","+e.getFieldValue("J6")+"}{"+e.getFieldValue("EJ")+"}};\n";return"".concat(e.id).concat(t)},oo.a.Robot.robtarget_variate=function(e){var t="VAR robtarget "+e.getFieldValue("INPUT1")+"={{"+e.getFieldValue("X")+","+e.getFieldValue("Y")+","+e.getFieldValue("Z")+"},{"+e.getFieldValue("Q1")+","+e.getFieldValue("Q2")+","+e.getFieldValue("Q3")+","+e.getFieldValue("Q4")+"}};\n";return"".concat(e.id).concat(t)},oo.a.Robot.speed_variate=function(e){var t="VAR speed "+e.getFieldValue("V1")+"={"+e.getFieldValue("TER")+","+e.getFieldValue("TCP")+","+e.getFieldValue("ORI")+","+e.getFieldValue("EXJ_R")+","+e.getFieldValue("EXJ_L")+"}\n";return"".concat(e.id).concat(t)},oo.a.Robot.zone_variate=function(e){var t="VAR zone "+e.getFieldValue("INPUT1")+"={"+e.getFieldValue("DIS")+","+e.getFieldValue("PER")+"};\n";return"".concat(e.id).concat(t)},oo.a.Robot.tool_variate=function(e){e.getFieldValue("INPUT1"),e.getFieldValue("CHOOSE"),e.getFieldValue("X"),e.getFieldValue("Y"),e.getFieldValue("Z"),e.getFieldValue("A1"),e.getFieldValue("A2"),e.getFieldValue("A3"),e.getFieldValue("A4"),e.getFieldValue("MASS"),e.getFieldValue("COGX"),e.getFieldValue("COGY"),e.getFieldValue("COGZ"),e.getFieldValue("Q1"),e.getFieldValue("Q2"),e.getFieldValue("Q3"),e.getFieldValue("Q4"),e.getFieldValue("IX"),e.getFieldValue("IY"),e.getFieldValue("IZ");return"".concat(e.id).concat("VAR tool ...;\n")},oo.a.Robot.wobj_variate=function(e){e.getFieldValue("VALUE"),e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("NAME_STRING"),e.getFieldValue("X"),e.getFieldValue("Y"),e.getFieldValue("Z"),e.getFieldValue("Q1"),e.getFieldValue("Q2"),e.getFieldValue("Q3"),e.getFieldValue("Q4"),e.getFieldValue("ID");return"".concat(e.id).concat("...;\n")};var io=n(60),so=n.n(io),uo=n(333),po=n(194),mo=[{name:"\u57fa\u672c\u6307\u4ee4",blocks:[{type:"base_variate",fields:{NAME:"VAR",DROPDOWN1:"int",INPUT1:"p1",RESULT:"result"}}]},{name:"\u7ed3\u6784\u4f53\u53d8\u91cf",blocks:[{type:"load_variate",fields:{VARIABLE:"piece1",MASS:"mass",COGX:"cogx",COGY:"cogy",COGZ:"cogz",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4",IX:"ix",IY:"iy",IZ:"iz"}},{type:"pose_variate",fields:{pose1:"pose1",X:"x",Y:"y",Z:"z",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4"}},{type:"jointtarget_variate",fields:{HOME:"home",J1:"J1",J2:"J2",J3:"J3",J4:"J4",J5:"J5",J6:"J6",EJ:"EJ"}},{type:"robtarget_variate",fields:{INPUT1:"input1",X:"x",Y:"y",Z:"z",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4"}},{type:"speed_variate",fields:{V1:"v1",TER:"ter",TCP:"tcp",ORI:"ori",EXJ_R:"exj_r",EXJ_L:"exj_l"}},{type:"zone_variate",fields:{INPUT1:"z100",DIS:"dis",PER:"per"}},{type:"tool_variate",fields:{INPUT1:"tool2",CHOOSE:"true",X:"x",Y:"y",Z:"z",A1:"q1",A2:"q2",A3:"q3",A4:"q4",MASS:"mass",COGX:"cogx",COGY:"cogy",COGZ:"cogz",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4",IX:"ix",IY:"iy",IZ:"iz"}},{type:"wobj_variate",fields:{VALUE:"wobj2",DROPDOWN1:"FALSE",DROPDOWN2:"TRUE",NAME_STRING:"robot",X:"x",Y:"y",Z:"z",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4",ID:"id"}}]}],fo=[{name:"\u6570\u5b66\u6307\u4ee4",blocks:[{type:"math_function",fields:{FROPDOWN1:"sin",INPUT1:"default"}},{type:"simple_arithmetic",fields:{VALUE1:"value1",NAME:"sum",VALUE2:"value2"}}]},{name:"\u903b\u8f91\u6307\u4ee4",blocks:[{type:"controls_if_self"},{type:"while"},{type:"end_while"},{type:"wait",fields:{NUM:0}}]},{name:"IO\u6307\u4ee4",blocks:[{type:"wait_until"},{type:"setdo",fields:{INPUT1:"default",DROPDOWN1:"True"}}]},{name:"\u8fd0\u52a8\u6307\u4ee4",blocks:[{type:"moveabsj",fields:{DROPDOWN1:"ToJointPos",DROPDOWN2:"Speed",DROPDOWN3:"Zone",DROPDOWN4:"Tool",DROPDOWN5:"Wobj"}},{type:"movec",fields:{DROPDOWN1:"AuxPoint",DROPDOWN2:"ToPoint",DROPDOWN3:"Speed",DROPDOWN4:"Zone",DROPDOWN5:"Tool",DROPDOWN6:"Wobj"}},{type:"robotcontrol_movel",fields:{}},{type:"robotcontrol_movej",fields:{}}]},{name:"\u529b\u63a7\u6307\u4ee4",blocks:[{type:"fcpressp",fields:{NAME:"name",P1:"p1",P2:"p2",P3:"p3",P4:"p4",P5:"p5",DROPDOWN1:"Force",DROPDOWN2:"Tool",DROPDOWN5:"Wobj"}},{type:"fcpressl",fields:{FCPressL:"FCPressL",NAME:"name",DROPDOWN1:"Force",DROPDOWN2:"Tool",DROPDOWN3:"Wobj"}},{type:"fcpresss",fields:{FCPressS:"FCPressS",NAME:"name",DROPDOWN1:"Force",DROPDOWN2:"Tool",DROPDOWN3:"Wobj"}}]}];function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ho=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={variablesToolboxCategories:mo,programToolboxCategories:fo,looping:!1},n.rowIdMap={},n.debug=function(){var e=n.props,t=e.sendCmd,a=e.cell,r=e.currentPlanId,o=r<=Object.keys(n.rowIdMap).length&&r>0;if(o)n.state.debugging&&o&&t("run --forward",a.i);else{n.setState({running:!1,debugging:!0,looping:!1}),n.rowIdMap={};var l=[];if(n.variablesWorkspace){var c=oo.a.Robot.workspaceToCode(n.variablesWorkspace);c&&""!==c.trim()&&c.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(l.push("".concat(l.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[l.length]=e.slice(0,20))})}if(n.programWorkspace){var i=oo.a.Robot.workspaceToCode(n.programWorkspace);i&&""!==i.trim()&&i.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(l.push("".concat(l.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[l.length]=e.slice(0,20))})}l.length>0&&(t("collectcmd --cmdlist={".concat(l.join("").trim(),"}"),a.i),t("run --forward",a.i))}},n.tryStart=function(){var e=n.props,t=e.sendCmd,a=e.cell,r=e.currentPlanId;if(!(r<=Object.keys(n.rowIdMap).length&&r>0)){var o=[];if(n.rowIdMap={},n.variablesWorkspace){var l=oo.a.Robot.workspaceToCode(n.variablesWorkspace);l&&""!==l.trim()&&l.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(o.push("".concat(o.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[o.length]=e.slice(0,20))})}if(n.programWorkspace){var c=oo.a.Robot.workspaceToCode(n.programWorkspace);c&&""!==c.trim()&&c.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(o.push("".concat(o.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[o.length]=e.slice(0,20))})}o.length>0&&(t("collectcmd --cmdlist={".concat(o.join("").trim(),"}"),a.i),t("run --start",a.i))}},n.tryStop=function(){var e=n.props,t=e.cell,a=e.currentPlanId,r=e.sendCmd;a<=Object.keys(n.rowIdMap).length&&a>0&&r("run --stop",t.i)},n.loop=function(){var e=n.props,t=(e.sendCmd,e.cell,e.currentPlanId);Object.keys(n.rowIdMap).length;n.state.looping?n.state.looping&&(n.setState({looping:!1}),n.tryStop()):(n.setState({looping:!0,running:!1,debugging:!1}),n.tryStart())},n.run=function(){n.state.running?n.state.running&&(n.setState({running:!1}),n.tryStop()):(n.setState({running:!0,debugging:!1,looping:!1}),n.tryStart())},n.variablesWorkspaceDidChange=function(e){var t=n.props.program,a=oo.a.Xml.domToText(oo.a.Xml.workspaceToDom(e));if(t){var r=go({},t);r.files=Object(b.a)(r.files),r.files.forEach(function(e,n){e.name===t.name+".dat"&&(r.files[n]=go({},e,{content:a}))}),n.props.updateProgram(t.name,r)}},n.programWorkspaceDidChange=function(e){console.log(oo.a.Robot.workspaceToCode(e));var t=n.props.program,a=oo.a.Xml.domToText(oo.a.Xml.workspaceToDom(e));if(t){var r=go({},t);r.files=Object(b.a)(r.files),r.files.forEach(function(e,n){e.name===t.name+".pro"&&(r.files[n]=go({},e,{content:a}))}),n.props.updateProgram(t.name,r)}},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"componentDidUpdate",value:function(e,t,n){if(e.size.width!==this.props.size.width||e.size.height!==this.props.size.height){var a=this;clearTimeout(a.timer),a.timer=setTimeout(function(){a.programWorkspace&&oo.a.svgResize(a.programWorkspace),a.variablesWorkspace&&oo.a.svgResize(a.variablesWorkspace)},50)}e.currentPlanId!==this.props.currentPlanId&&(this.rowIdMap[this.props.currentPlanId]&&this.programWorkspace&&this.programWorkspace.highlightBlock(this.rowIdMap[this.props.currentPlanId],!0),this.rowIdMap[e.currentPlanId]&&this.programWorkspace&&this.programWorkspace.highlightBlock(this.rowIdMap[e.currentPlanId],!1),this.props.currentPlanId>Object.keys(this.rowIdMap).length&&this.state.looping&&this.tryStart())}},{key:"shouldComponentUpdate",value:function(e,t,n){return e.endPQ!==this.props.endPQ&&this.programWorkspace&&e.endPQ&&(this.programWorkspace.endPQ=e.endPQ,this.programWorkspace.getAllBlocks().forEach(function(t){t.updateEndPQ&&t.isEndPQEmpty&&t.isEndPQEmpty()&&t.updateEndPQ(e.endPQ)})),!0}},{key:"render",value:function(){var e=this,t=this,n=t.props,a=n.prefixCls,l=n.size,c=l.width,i=l.height,s=n.program,u=n.options,d=n.currentPlanId,p=this.state,m=p.running,f=p.debugging,b=p.looping,g=d<=Object.keys(this.rowIdMap).length&&d>0,h="",O="";s&&s.files&&s.files.forEach(function(e){e.name===s.name+".dat"&&(O=e.content),e.name===s.name+".pro"&&(h=e.content)});var v=u.variablesHeight?parseFloat(u.variablesHeight):200;v<=50&&(v=50);var E=i-v-5;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(a,"-editors")},!!O&&!u.hideVariablesWorkspace&&o.a.createElement(po.ResizableBox,{width:c,height:v,minConstraints:[c,100],maxConstraints:[c,i-30-100],className:"".concat(a,"-editors-variables"),axis:"y",handle:o.a.createElement("div",{className:"".concat(a,"-divider")}),onResize:function(e,n){var a=n.size,r=a.height;a.width;t.props.updateOptions(go({},u,{variablesHeight:r})),t.programWorkspace&&oo.a.svgResize(t.programWorkspace),t.variablesWorkspace&&oo.a.svgResize(t.variablesWorkspace)}},o.a.createElement(uo.a.BlocklyEditor,{ref:function(t){t&&t.workspace&&t.workspace.state&&(e.variablesWorkspace=t.workspace.state.workspace)},toolboxCategories:this.state.variablesToolboxCategories,initialXml:O,workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0}},wrapperDivClassName:"".concat(a,"-full-height"),workspaceDidChange:this.variablesWorkspaceDidChange})),!!h&&o.a.createElement("div",{className:"".concat(a,"-editors-program ").concat(u.hideVariablesWorkspace?"".concat(a,"-editors-program-full-height"):""),style:{height:E}},o.a.createElement(uo.a.BlocklyEditor,{ref:function(t){t&&t.workspace&&t.workspace.state&&(e.programWorkspace=t.workspace.state.workspace)},toolboxCategories:this.state.programToolboxCategories,initialXml:h,workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0}},wrapperDivClassName:"".concat(a,"-full-height"),workspaceDidChange:this.programWorkspaceDidChange}),o.a.createElement(so.a,{placement:"bottom",title:u.hideVariablesWorkspace?"\u663e\u793a\u53d8\u91cf\u5b9a\u4e49":"\u9690\u85cf\u53d8\u91cf\u5b9a\u4e49"},o.a.createElement(w.a,{type:"double-right",className:"".concat(a,"-editors-program-toggle"),onClick:function(){e.props.updateOptions(go({},u,{hideVariablesWorkspace:!u.hideVariablesWorkspace}))}})))),o.a.createElement("div",{className:"".concat(a,"-operations")},o.a.createElement("div",{className:"".concat(a,"-operations-left")},!!u.hideSidebar&&o.a.createElement(w.a,{type:"double-right",className:"".concat(a,"-sidebar-toggle"),onClick:function(){e.props.updateOptions(go({},u,{hideSidebar:""}))}}),!u.hideSidebar&&o.a.createElement(w.a,{type:"double-left",className:"".concat(a,"-sidebar-toggle"),onClick:function(){e.props.updateOptions(go({},u,{hideSidebar:"true"}))}}),o.a.createElement("span",{className:"".concat(a,"-operations-left-name")},s.name)),o.a.createElement(Jt.a,{size:"small",type:"primary",disabled:(f||m)&&g,onClick:this.loop},b?"\u505c\u6b62\u5faa\u73af":"\u5faa\u73af\u8fd0\u884c"),o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:this.debug,disabled:m&&g||b},f&&g?"\u4e0b\u4e00\u6b65":"\u8c03\u8bd5"),f&&g&&o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:function(){e.tryStop()}}," \u505c\u6b62"),!(f&&g)&&o.a.createElement(Jt.a,{size:"small",type:"primary",onClick:this.run,disabled:f&&g||b},m&&g?"\u505c\u6b62":"\u8fd0\u884c")))}}]),t}(r.Component),Oo=Object(Ue.a)(Ye,gt,function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.current_plan_id},rt,function(e,t,n,a){return{result:e,currentPlan:t,currentPlanId:n,endPQ:a}});var vo=Object(i.b)(function(e,t){return Oo(e,t)},{deleteResultByChannel:ie,loadPrograms:Fe,loadProgram:Se,createProgram:_e,deleteProgram:Te,updateProgram:function(e,t){return U(Ie,{name:e,program:t})},renameProgram:Le,sendCmd:ce})(Object(h.withSize)({monitorHeight:!0,refreshRate:30})(ho)),Eo=An.a.Item,yo=(Un.a.Group,Un.a.Button,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.createProgram;n.props.form.validateFields(function(e,n){e?console.error(e):t(n)})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleCreateProgramModal,n=e.prefixCls,a=e.creatingProgramStatus,r=this.props.form.getFieldDecorator;return o.a.createElement(fn.a,{title:"\u6dfb\u52a0\u7a0b\u5e8f",visible:!!a.showCreateProgramModal,okText:"\u521b\u5efa",cancelText:"\u53d6\u6d88",onOk:this.handleSubmit,onCancel:t,wrapClassName:"".concat(n,"-create-program-modal")},o.a.createElement(An.a,null,o.a.createElement(Eo,{label:"\u540d\u79f0",className:"".concat(n,"-input-col")},r("name",{rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u7a0b\u5e8f\u540d\u79f0"}]})(o.a.createElement(jn.a,{size:"small",disabled:!!a.creatingProgram})))),o.a.createElement("div",{className:"".concat(n,"-status")},!!a.creatingProgram&&o.a.createElement("div",{className:"info"},"\u521b\u5efa\u4e2d..."),!!a.creatingProgramFailure&&o.a.createElement("div",{className:"error"},"\u521b\u5efa\u9519\u8bef: ",a.creatingProgramFailure),!!a.creatingProgramSuccess&&o.a.createElement("div",{className:"success"},"\u521b\u5efa\u6210\u529f")))}}]),t}(r.Component)),Co=An.a.create()(yo),Po=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props;(0,t.deleteProgram)(t.deletingProgramStatus.showDeleteProgramModal)},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleDeleteProgramModal,n=e.prefixCls,a=e.deletingProgramStatus;return o.a.createElement(fn.a,{title:"\u5220\u9664\u7a0b\u5e8f",visible:!!a.showDeleteProgramModal,okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:this.handleSubmit,onCancel:function(){return t()},wrapClassName:"".concat(n,"-delete-program-modal")},o.a.createElement("div",{className:"info"},"\u662f\u5426\u786e\u8ba4\u5220\u9664",!0!==a.showDeleteProgramModal?' "'.concat(a.showDeleteProgramModal,'" '):"","!"),o.a.createElement("div",{className:"".concat(n,"-status")},!!a.deletingProgram&&o.a.createElement("div",{className:"info"},"\u5220\u9664\u4e2d..."),!!a.deletingProgramFailure&&o.a.createElement("div",{className:"error"},"\u5220\u9664\u9519\u8bef: ",a.deletingProgramFailure),!!a.deletingProgramSuccess&&o.a.createElement("div",{className:"success"},"\u5220\u9664\u6210\u529f")))}}]),t}(r.Component);function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var jo=ao.a.Panel,So=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedProgram:null},n.run=function(){n.editors&&n.editors.run()},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.size,s=i.width,u=i.height,d=r.programs,p=(n.state.running,t("blockly",l));n.prefixCls=p;var f=n.getOptions(),b=f.sidebarWidth||200,g=d[f.selectedProgramName];return o.a.createElement("div",{className:"".concat(p)},(!f.hideSidebar||!g)&&o.a.createElement(po.ResizableBox,{width:b,height:u,minConstraints:[100,u],maxConstraints:[s/2,u],className:"".concat(p,"-left-col"),axis:"x",handle:o.a.createElement("div",{className:"".concat(p,"-hdivider")}),onResize:function(e,t){var n=t.size,r=n.width;n.height;a.updateOptions(Ro({},f,{sidebarWidth:r}))}},n.renderPrograms(p)),o.a.createElement("div",{className:"".concat(p,"-right-col"),style:{width:f.hideSidebar?s:s-b}},!!g&&o.a.createElement(vo,{program:g,cell:c,prefixCls:p,updateOptions:function(e){return n.updateOptions(e)},options:n.getOptions()}),!g&&o.a.createElement("div",{className:"".concat(p,"-no-program")},o.a.createElement("span",null,"\u6ca1\u6709\u7a0b\u5e8f, \u8bf7\u9009\u4e2d\u6216\u65b0\u5efa."))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.loadPrograms()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this;if(e.creatingProgramStatus.creatingProgramSuccess!==this.props.creatingProgramStatus.creatingProgramSuccess&&this.props.creatingProgramStatus.creatingProgramSuccess){var r=this.getOptions(),o=this.props.creatingProgramStatus.creatingProgramSuccess.name;r.selectedProgramName?(this.updateOptions(Ro({},r,{selectedProgramName:null})),clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.updateOptions(Ro({},r,{selectedProgramName:o}))},50)):this.updateOptions(Ro({},r,{selectedProgramName:o}))}if(e.editingProgramNameStatus.renamingProgramSuccess!==this.props.editingProgramNameStatus.renamingProgramSuccess&&this.props.editingProgramNameStatus.renamingProgramSuccess){var l=this.getOptions(),c=this.props.editingProgramNameStatus.renamingProgramSuccess.name;l.selectedProgramName?(this.updateOptions(Ro({},l,{selectedProgramName:null})),clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.updateOptions(Ro({},l,{selectedProgramName:c}))},50)):this.updateOptions(Ro({},l,{selectedProgramName:c}))}}},{key:"renderPrograms",value:function(e){var t=this,n=this.props,a=n.programs,l=n.createProgram,c=n.creatingProgramStatus,i=n.toggleCreateProgramModal,s=n.deleteProgram,u=n.deletingProgramStatus,d=n.toggleDeleteProgramModal,p=n.toggleEditProgramName,m=n.renameProgram,f=n.resetRenameProgramStatus,b=n.editingProgramNameStatus,g=b.renamingProgramFailure,h=b.editingProgramName,O=this.getOptions();return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(e,"-program-header")},"\u7a0b\u5e8f\u5217\u8868",o.a.createElement(so.a,{placement:"top",title:"\u65b0\u5efa\u7a0b\u5e8f"},o.a.createElement(w.a,{type:"plus-square",theme:"filled",className:"".concat(e,"-program-header-add"),onClick:i})),o.a.createElement(Co,{createProgram:l,toggleCreateProgramModal:i,creatingProgramStatus:c,prefixCls:e})),0===Object.keys(a).length&&o.a.createElement("div",{style:{opacity:.5}},"\u6ca1\u6709\u7a0b\u5e8f"),Object.keys(a).length>0&&o.a.createElement("div",{className:"".concat(e,"-program-collapse")},o.a.createElement(ao.a,{accordion:!0,activeKey:O.selectedProgramName},Object.keys(a).sort().map(function(n){var r=o.a.createElement("div",{className:"".concat(e,"-program-name"),onClick:function(){O.selectedProgramName&&O.selectedProgramName!==n?(t.updateOptions(Ro({},O,{selectedProgramName:null})),clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.updateOptions(Ro({},O,{selectedProgramName:n}))},50)):t.updateOptions(Ro({},O,{selectedProgramName:n}))}},h!==n&&o.a.createElement("span",{className:"".concat(e,"-program-name-text"),onDoubleClick:function(e){e.preventDefault(),e.stopPropagation(),p(n)}},n),h===n&&o.a.createElement(jn.a,{size:"small",onKeyUp:function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),p())},onClick:function(e){e.preventDefault(),e.stopPropagation()},className:"".concat(e,"-program-name-input"),defaultValue:n,onPressEnter:function(e){n!==e.target.value?m(n,e.target.value):p()}}),h!==n&&o.a.createElement("span",{className:"".concat(e,"-program-name-actions")},o.a.createElement(w.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),p(n)},type:"edit",theme:"filled"}),o.a.createElement(w.a,{type:"copy",theme:"filled",onClick:function(e){e.preventDefault(),e.stopPropagation();for(var t=n+" copy",r=!1;!r;)r=!0,Object.keys(a).forEach(function(e){e===t&&(t+=" copy",r=!1)});m(n,t,!0)}}),o.a.createElement(w.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),d(n)},type:"delete",theme:"filled"})));return o.a.createElement(jo,{header:r,key:n},a[n].files&&a[n].files.map(function(e){return o.a.createElement("p",{key:e.name},e.name)}))}))),o.a.createElement(Po,{deleteProgram:s,toggleDeleteProgramModal:d,deletingProgramStatus:u,prefixCls:e}),!!h&&!!g&&o.a.createElement(fn.a,{title:"\u91cd\u547d\u540d\u9519\u8bef",visible:!!h&&!!g,onCancel:f,onOk:f,okText:"\u786e\u8ba4",cancelButtonProps:{style:{display:"none"}}},o.a.createElement("div",{className:"error"},!!g&&g)),!h&&!!g&&o.a.createElement(fn.a,{title:"\u6587\u4ef6\u590d\u5236\u9519\u8bef",visible:!h&&!!g,onCancel:f,onOk:f,okText:"\u786e\u8ba4",cancelButtonProps:{style:{display:"none"}}},o.a.createElement("div",{className:"error"},!!g&&g)))}}]),t}(Xt);So.propTypes={};var wo=Object(Ue.a)(function(e){return e.robot.programs},Ye,function(e){return{showCreateProgramModal:e.robot.showCreateProgramModal,creatingProgram:e.robot.creatingProgram,creatingProgramFailure:e.robot.creatingProgramFailure,creatingProgramSuccess:e.robot.creatingProgramSuccess}},function(e){return{showDeleteProgramModal:e.robot.showDeleteProgramModal,deletingProgram:e.robot.deletingProgram,deletingProgramFailure:e.robot.deletingProgramFailure,deletingProgramSuccess:e.robot.deletingProgramSuccess}},function(e){return{editingProgramName:e.robot.editingProgramName,renamingProgram:e.robot.renamingProgram,renamingProgramFailure:e.robot.renamingProgramFailure,renamingProgramSuccess:e.robot.renamingProgramSuccess}},function(e,t,n,a,r){return{programs:e,result:t,creatingProgramStatus:n,deletingProgramStatus:a,editingProgramNameStatus:r}});var xo=Object(i.b)(function(e,t){return wo(e,t)},{deleteResultByChannel:ie,loadPrograms:Fe,loadProgram:Se,toggleCreateProgramModal:function(){return U("TOGGLE_CREATE_PROGRAM_MODAL")},createProgram:_e,toggleDeleteProgramModal:function(e){return U("TOGGLE_DELETE_PROGRAM_MODAL",{name:e})},deleteProgram:Te,toggleEditProgramName:function(e){return U("TOGGLE_EDITING_PROGRAM_NAME",{name:e})},renameProgram:Le,resetRenameProgramStatus:function(){return U("RESET_RENAME_PROGRAM_STATUS")}})(Object(h.withSize)({monitorHeight:!0,refreshRate:30})(So));xo.NAME="\u53ef\u89c6\u5316\u7f16\u7a0b",xo.WIDTH=24,xo.HEIGHT=12,xo.ICON=function(e){return o.a.createElement(w.a,Object.assign({type:"codepen"},e))};var _o=xo,Io=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){for(var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=(a.motionState,a.motionPos),i=(a.motionVelPercent,a.Dxl_connected),s=a.Dxl_enabled,u=a.Dxl_auto,d=a.Dxl_normal,p=t("jog-joint",r),m=[],f=[],b=0;b<10;b++)m.push(b);if(m.length>7)for(var g=1;g<m.length-6;g++)f.push(g);return o.a.createElement("div",{className:"".concat(p)},f.map(function(e){return o.a.createElement(Vt.a,{key:e+7},o.a.createElement(Jt.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("dj".concat(e," --direction=-1"),l.i)},onMouseDown:function(){n.getOnMouseDownFn("dj".concat(e," --direction=-1"),l.i)()},onMouseUp:function(){n.getOnMouseUpFn("dj".concat(e," --stop"),l.i)()},onMouseOut:function(){n.getOnMouseUpFn("dj".concat(e," --stop"),l.i)()}},"DJ",e,"-"),o.a.createElement("div",{className:"".concat(p,"-status")},o.a.createElement("span",null,c&&(c[e+6]||0===c[e+6])?c[e+6].toFixed(3):"null")),o.a.createElement(Jt.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("dj".concat(e," --direction=1"),l.i)},onMouseDown:function(){n.getOnMouseDownFn("dj".concat(e," --direction=1"),l.i)()},onMouseUp:function(){n.getOnMouseUpFn("dj".concat(e," --stop"),l.i)()},onMouseOut:function(){n.getOnMouseUpFn("dj".concat(e," --stop"),l.i)()}},"DJ",e,"+"))}),o.a.createElement("div",{className:"".concat(p,"-status")},o.a.createElement("div",{className:"".concat(p,"-status-icons")},o.a.createElement("span",{style:{fontSize:"30px",position:"relative",top:"65px"}},!(!i||1!=i)&&o.a.createElement(w.a,{type:"wifi",style:{fontSize:"30px",position:"relative",right:"5px"},className:"success"}),!i&&o.a.createElement(w.a,{type:"wifi",style:{fontSize:"30px",position:"relative",right:"5px"},className:"danger"}),!(!s||1!=s)&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"success",style:{position:"relative",left:"5px"}}),!s&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"disabled",style:{position:"relative",left:"5px"}})),o.a.createElement("div",{style:{width:"100px",position:"relative",top:"80px",right:"17px"}},o.a.createElement("div",{style:{fontSize:"15px",float:"left"}},!(!s||1!=s)&&!(1==u)&&o.a.createElement("span",null,o.a.createElement("font",{color:"#52c41a"},"\u624b\u52a8")),!(!s||1!=s)&&!(1!=u)&&o.a.createElement("span",null,o.a.createElement("font",{color:"#52c41a"},"\u81ea\u52a8"))),o.a.createElement("div",{style:{fontSize:"15px",float:"right"}},!(!s||1!=s)&&!(!d||1!=d)&&o.a.createElement(w.a,{type:"check-circle",className:"success"}),!(!s||1!=s)&&!(!d||1!=d)&&o.a.createElement("span",null,o.a.createElement("font",{color:"#52c41a"},"\u6b63\u5e38")),!(!s||1!=s)&&!(1==d)&&o.a.createElement(w.a,{type:"stop",style:{color:"red"}}),!(!s||1!=s)&&!(1==d)&&o.a.createElement("span",null,o.a.createElement("font",{color:"#FF0000"},"\u5f02\u5e38")))))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(Xt);Io.propTypes={cell:Ut.a.object.isRequired,sendCmd:Ut.a.func.isRequired,vel:Ut.a.number,motionPos:Ut.a.array,Dxl_connected:Ut.a.bool,Dxl_enabled:Ut.a.bool,Dxl_auto:Ut.a.bool,Dxl_normal:Ut.a.bool};var No=Object(Ue.a)(ot,pt,mt,ft,bt,function(e,t,n,a,r){return{motionPos:e,Dxl_connected:t,Dxl_enabled:n,Dxl_auto:a,Dxl_normal:r}});var Do=Object(i.b)(function(e){return No(e)},{sendCmd:ce})(Io);Do.NAME="\u8235\u673a\u63a7\u5236Jog\u7ec4\u4ef6";var Mo={Blockly:_o,MotionCalib:Ta,RealtimeChart:da,Debugger:Nn,CodeEditor:Fn,Logger:_,View3D:At,SetDH:Za,"3DView":At,ModelConfiguration:cr,ZeroCalib:Ia,LoadCalib:Ba,JogCoordinate:Zt,JogJoint:tn,RobotStatus:un,ManualSwitch:vn,ToolCalib:Ra,Unknown:I,EthercatConfiguration:to,connectedSteeringJogJoint:Do,steeringControl:Do};function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ao=F.a.Item,Lo=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).getOptions=function(){return ko({},n.props.cell.options)},n.updateOptions=function(e){var t=ko({},n.props.cell);t.options=ko({},t.options,{},e),n.props.onCellUpdate(t)},n.handleConfigCell=function(){n.updateOptions(ko({},n.getOptions(),{showConfig:!0}))},n.handleDeleteCell=function(){var e=n.props;(0,e.onDelete)(e.cell.i)},n.handleCloneCell=function(){var e=n.props,t=e.onClone,a=e.cell;(a=ko({},a)).y=a.y+1,t(a)},n.editMenu=function(e){var t=Object(m.a)(n),a=n.props,r=a.cell,l=a.onCellUpdate,c=r&&r.type&&n.cellByTypes[r.type.toLowerCase()]?n.cellByTypes[r.type.toLowerCase()].CONFIG:null,i=o.a.createElement(F.a,{onClick:function(e){switch(e.key){case"config":t.handleConfigCell();break;case"clone":t.handleCloneCell();break;case"delete":t.handleDeleteCell()}}},!!c&&o.a.createElement(Ao,{key:"config"},"\u914d\u7f6e",o.a.createElement(c,{cell:r,onCellUpdate:l})),o.a.createElement(Ao,{key:"clone"},"\u514b\u9686"),o.a.createElement(Ao,{key:"delete"},"\u5220\u9664"));return o.a.createElement(j.a,{overlay:i,trigger:["click"],placement:"bottomRight",className:"".concat(e,"--button"),overlayClassName:"".concat(e,"--dropdown-menu"),getPopupContainer:t.props.getPopupContainer},o.a.createElement(w.a,{type:"edit"}))},n.renderMenu=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls;if(a.isEditable){var l=t("layout-cell-context",r);return o.a.createElement("div",{className:"".concat(l)},n.editMenu(l))}},n.state={subMenuIsOpen:!1};var a=Object(m.a)(n);return a.cellByTypes={},Object.keys(Mo).forEach(function(e){a.cellByTypes[e.toLowerCase()]=Mo[e]}),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderMenu)}}]),t}(r.Component),Uo=n(14),Bo=n.n(Uo);function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).renderLayoutCellHeader=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.isEditable,c=t("layout-cell-header",r),i=t("layout-cell",r),s="".concat(i,"--draggable"),u="".concat(c,"--draggable"),d={};return d[s]=l,d[u]=l,o.a.createElement("div",{className:Bo()("".concat(c),Wo({},d))},n.cellName(c),n.headingBar(c))},n.cellName=function(e){var t=n.props.cellName,a={};a["".concat(e,"-name__default")]=!t||""===t.trim();var r=Bo()("".concat(e,"-name"),Wo({},a));return o.a.createElement("span",{className:r},t||"\u672a\u547d\u540d")},n.headingBar=function(e){if(n.props.isEditable)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(e,"--header-bar")}),o.a.createElement("div",{className:"".concat(e,"--header-dragger")}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayoutCellHeader)}}]),t}(r.Component),zo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLayoutCell=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.isEditable,c=a.cell,i=a.onCloneCell,s=a.onCellUpdate,u=a.onDeleteCell,d=a.children,p=Object(m.a)(n),f=t("layout-cell",r);return o.a.createElement("div",{className:"".concat(f),ref:function(e){p.container=e}},o.a.createElement(Lo,{cell:c,isEditable:l,dataExists:!1,onClone:i,onDelete:u,onCellUpdate:s,getPopupContainer:function(){return p.container}}),o.a.createElement(Jo,{cell:c,cellName:c.name,isEditable:l}),o.a.createElement("div",{className:"".concat(f,"-body")},d))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayoutCell)}}]),t}(r.Component),Go=Mo.Unknown,Xo=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderLayout=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.isEditable,c=a.cell,i=a.onCloneCell,s=a.onDeleteCell,u=a.sendCmd,d=a.onCellUpdate,p=t("layout",r);return o.a.createElement(zo,{cell:c,onCellUpdate:d,onDeleteCell:s,sendCmd:u,onCloneCell:i,isEditable:l},n.renderLayoutBody(p))},n.cellByTypes={};var a=Object(m.a)(n);return Object.keys(Mo).forEach(function(e){a.cellByTypes[e.toLowerCase()]=Mo[e]}),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderLayoutBody",value:function(e){var t=this.props,n=t.cell,a=t.onCellUpdate,l=t.sendCmd,c=t.commandSendInterval,i=t.commandSendDelay;if(n.type&&this.cellByTypes[n.type.toLowerCase()]){var s=this.cellByTypes[n.type.toLowerCase()];return s.CONFIG?o.a.createElement(r.Fragment,null,o.a.createElement(s,{cell:n,onCellUpdate:a,sendCmd:l,commandSendInterval:c,commandSendDelay:i}),o.a.createElement(s.CONFIG,{cell:n,onCellUpdate:a})):o.a.createElement(s,{cell:n,onCellUpdate:a,sendCmd:l,commandSendInterval:c,commandSendDelay:i})}return o.a.createElement(Go,{cell:n,onCellUpdate:a,sendCmd:l})}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayout)}}]),t}(r.Component);var qo=Object(i.b)(function(e,t){return{commandSendInterval:It(e),commandSendDelay:Dt(e)}})(Xo),Qo=n(544),Ho=n.n(Qo);function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Yo=Object(y.WidthProvider)(C.a),Ko=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLayoutChange=function(e){if(n.props.onPositionChange){var t=Object(m.a)(n),a=!1,r=t.props.cells.map(function(t){var n=e.find(function(e){return e.i==t.i});if(n){t.x===n.x&&t.y===n.y&&t.h===n.h&&t.w===n.w||(a=!0);var r={x:n.x,y:n.y,h:n.h,w:n.w};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{},r)}});a&&n.props.onPositionChange(r)}},n.renderLayoutRender=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cells,c=a.onZoom,i=a.isEditable,s=a.onDeleteCell,u=a.onCloneCell,d=a.sendCmd,p=a.onCellUpdate,m=a.layoutCols,f=a.layoutMargin,b=a.layoutContainerPadding,g=(a.layoutRowHeight,a.windowWidth),h=a.windowHeight,O=t("layout-renderer",r),v=".".concat(t("layout-cell",r),"--draggable"),E=Math.floor(g/m);Math.floor((h-50-40)/E);return o.a.createElement("div",{className:"".concat(O," ").concat(i?"editable":"")},o.a.createElement(Yo,{layout:l,cols:m,rowHeight:E,margin:[f,f],containerPadding:[b,b],useCSSTransforms:!1,onLayoutChange:n.handleLayoutChange,draggableHandle:v,isDraggable:!0,isResizable:!0},l.map(function(e){return o.a.createElement("div",{key:e.i,className:i?"editable":""},o.a.createElement(qo,{cell:e,onDeleteCell:s,onCloneCell:u,onCellUpdate:p,onZoom:c,sendCmd:d,isEditable:i}))})))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayoutRender)}}]),t}(r.Component),$o=Ho()(Ko),el=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var t=e.getPrefixCls,a=n.props,r=a.dashboard,l=a.prefixCls,c=a.onZoom,i=a.onCloneCell,s=a.onDeleteCell,u=a.onPositionChange,d=a.sendCmd,p=a.onCellUpdate,m=a.layoutCols,f=a.layoutRowHeight,b=a.layoutMargin,g=a.layoutContainerPadding,h=t("dashboard",l);return o.a.createElement("div",{className:"".concat(h),id:"dashboard"},r.cells&&r.cells.length?o.a.createElement($o,{layoutCols:m,layoutRowHeight:f,layoutMargin:b,layoutContainerPadding:g,cells:r.cells,templates:[],manualRefresh:10,onCellUpdate:p,isEditable:!!r.editable,onZoom:c,sendCmd:d,onCloneCell:i,onDeleteCell:s,onPositionChange:u}):o.a.createElement(E,{dashboard:r,onAddCell:function(){}}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderDashboard)}}]),t}(r.Component);function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var al=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onPositionChange=function(e){var t=n.props,a=t.dashboard;(0,t.updateDashboard)(a=nl({},a,{cells:Object(b.a)(e)}))},n.onCellUpdate=function(e){var t=n.props,a=t.dashboard,r=t.updateDashboard,o=Object(b.a)(a.cells);o.forEach(function(t,n){e.i===t.i&&(o[n]=nl({},e))}),r(a=nl({},a,{cells:o}))},n.onAddCell=function(e){console.log(e),delete(e=nl({},e)).i,n.props.createCell(n.props.dashboard.i,e)},n.onDeleteCell=function(e){n.props.deleteCell(n.props.dashboard.i,e)},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dashboard,n=(e.cells,e.layoutCols),a=e.layoutRowHeight,r=e.layoutMargin,l=e.layoutContainerPadding,c=e.sendCmd;return o.a.createElement(el,{dashboard:t,layoutCols:n,layoutRowHeight:a,layoutMargin:r,layoutContainerPadding:l,inPresentationMode:!1,onPositionChange:this.onPositionChange,onCellUpdate:this.onCellUpdate,onDeleteCell:this.onDeleteCell,onCloneCell:this.onAddCell,onAddCell:this.onAddCell,sendCmd:c,onSummonOverlayTechnologies:function(){},manualRefresh:0,timeRange:{},onZoom:function(){},setScrollTop:function(){},inView:function(){}})}}]),t}(r.Component);el.propTypes={dashboard:Ut.a.object.isRequired,layoutCols:Ut.a.number.isRequired,layoutRowHeight:Ut.a.number.isRequired,layoutMargin:Ut.a.number.isRequired,layoutContainerPadding:Ut.a.number.isRequired};var rl=Object(i.b)(function(e,t){return t.match.params.id,{dashboard:St(e),layoutCols:an(e),layoutRowHeight:rn(e),layoutMargin:on(e),layoutContainerPadding:ln(e)}},{updateDashboard:z,sendCmd:ce,createCell:q,deleteCell:function(e,t){return U(Q,{dashboardId:e,cellId:t})}})(al);var ol=function(){return o.a.createElement("div",{className:"App"},"Configuration")},ll=o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:rl}),o.a.createElement(c.a,{path:"/configuration",component:ol}),o.a.createElement(c.a,{path:"/dashboards/:id",component:rl})),cl=n(326),il=n.n(cl),sl=An.a.Item,ul=Un.a.Group,dl=Un.a.Button,pl=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.createCell;n.props.form.validateFields(function(e,n){e?console.error(e):t(n)})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.toggleCreateCellModal,a=e.prefixCls,r=e.creatingCellStatus,l=this.props.form,c=l.getFieldDecorator,i=(0,l.getFieldValue)("type");return o.a.createElement(fn.a,{title:"\u6dfb\u52a0\u9762\u677f",visible:!!t,width:"75%",okText:"\u521b\u5efa",cancelText:"\u53d6\u6d88",onOk:this.handleSubmit,onCancel:n,wrapClassName:"".concat(a,"-create-cell-modal")},o.a.createElement(An.a,null,o.a.createElement(sl,{label:"\u7c7b\u578b",className:"".concat(a,"-type-selector")},c("type",{rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u9762\u677f\u7c7b\u578b!"}]})(o.a.createElement(ul,{disabled:!!r.creatingCell},Object.keys(Mo).map(function(e){if("Unknown"!==e){var t=Mo[e].ICON?Mo[e].ICON:function(e){return o.a.createElement(w.a,Object.assign({type:"block"},e))};return o.a.createElement(dl,{value:e,key:e},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(t,null)),o.a.createElement("div",{className:"".concat(a,"-type-name")},Mo[e].NAME?Mo[e].NAME:e)))}})))),o.a.createElement(sl,{label:"\u540d\u79f0",className:"".concat(a,"-input-col")},c("name",{rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u9762\u677f\u540d\u79f0"}]})(o.a.createElement(jn.a,{size:"small",disabled:!!r.creatingCell}))),o.a.createElement(sl,{label:"\u5bbd\u5ea6",className:"".concat(a,"-input-col")},c("w",{initialValue:Mo[i]&&Mo[i].WIDTH?Mo[i].WIDTH:24,rules:[{type:"integer",required:!0,message:"\u8bf7\u8f93\u5165\u9762\u677f\u5bbd\u5ea6"}]})(o.a.createElement(Gn.a,{max:48,min:3,step:1,size:"small",disabled:!!r.creatingCell}))),o.a.createElement(sl,{label:"\u9ad8\u5ea6",className:"".concat(a,"-input-col")},c("h",{initialValue:Mo[i]&&Mo[i].HEIGHT?Mo[i].HEIGHT:12,rules:[{type:"integer",required:!0,message:"\u8bf7\u8f93\u5165\u9762\u677f\u9ad8\u5ea6"}]})(o.a.createElement(Gn.a,{max:48,min:3,step:1,size:"small",disabled:!!r.creatingCell})))),o.a.createElement("div",{className:"".concat(a,"-status")},!!r.creatingCell&&o.a.createElement("div",{className:"info"},"\u521b\u5efa\u4e2d..."),!!r.creatingCellFailure&&o.a.createElement("div",{className:"error"},"\u521b\u5efa\u9519\u8bef: ",r.creatingCellFailure),!!r.creatingCellSuccess&&o.a.createElement("div",{className:"success"},"\u521b\u5efa\u6210\u529f")))}}]),t}(r.Component),ml=An.a.create()(pl);function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var bl=F.a.Item,gl=Vn.a.Option,hl=Vn.a.OptGroup,Ol=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={fullscreen:!1},n.escFunction=function(e){27===e.keyCode&&document.fullscreenElement&&document.exitFullscreen()},n.onFullscreenChange=function(e){document.fullscreenElement?n.setState({fullscreen:!0}):n.setState({fullscreen:!1})},n.handleClick=function(e){n.props.navigate(e.key)},n.createCell=function(e){var t=n.props,a=t.createCell,r=(t.pathname,t.dashboard);r&&a(r.i,e)},n.toggleLock=function(){var e=n.props,t=e.updateDashboard,a=e.dashboard;a&&t(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a,{editable:!a.editable}))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.pathname,c=a.dashboards,i=a.dashboard,s=a.workObjectIds,u=a.toolIds,d=a.updateMotionVelPercent,p=a.updateToolId,m=a.updateCoordinateId,f=a.updateWorkObjectId,b=a.toolId,g=a.coordinateId,h=a.workObjectId,O=a.motionVelPercent,v=a.toggleCreateCellModal,E=a.creatingCellStatus,y=t("header",r);return"/"===l&&c.length>0&&(l="/dashboards/".concat(c[0].i)),o.a.createElement("div",{className:y},o.a.createElement(F.a,{onClick:n.handleClick,selectedKeys:[l],mode:"horizontal"},c.map(function(e){return o.a.createElement(bl,{key:"/dashboards/".concat(e.i)},e.name)})),o.a.createElement("div",{className:"".concat(y,"-actions"),style:{position:"absolute",right:0,top:0,display:"inline-block"}},o.a.createElement(il.a,{tooltipVisible:!1,min:0,max:100,tipFormatter:function(e){return"".concat(e,"%")},value:O,onChange:function(e){n.throttleSendCmd("setvel --vel_percent=".concat(e),"setvel"),d(e)}}),o.a.createElement(Gn.a,{min:0,max:100,size:"small",value:O,onChange:function(e){n.throttleSendCmd("setvel --vel_percent=".concat(e),"setvel"),d(e)}}),o.a.createElement(Xr.a,{checked:!!g,onChange:function(e){m(e.target.checked?1:0)}},"\u5916\u90e8\u5de5\u5177"),o.a.createElement(Vn.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177\u5750\u6807",onChange:p,value:b},o.a.createElement(hl,{label:"\u9009\u62e9\u5de5\u5177\u5750\u6807\u7cfb"},u.map(function(e){return o.a.createElement(gl,{value:e,key:e},"\u5de5\u5177\u5750\u6807\u7cfb",e)}))),o.a.createElement(Vn.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u4ef6\u5750\u6807\u7cfb",onChange:f,value:h},o.a.createElement(hl,{label:"\u9009\u62e9\u5de5\u4ef6\u5750\u6807\u7cfb"},s.map(function(e){return o.a.createElement(gl,{value:e,key:e},"\u5de5\u4ef6\u5750\u6807\u7cfb",e)}))),o.a.createElement(w.a,{className:"".concat(i&&i.editable?"":"disabled"),type:"block",onClick:function(){i&&i.editable&&v()}}),o.a.createElement(w.a,{type:"lock",className:"".concat(i&&i.editable?"":"info"),onClick:n.toggleLock}),!n.state.fullscreen&&o.a.createElement(w.a,{type:"fullscreen",onClick:function(){document.getElementById("body").requestFullscreen()}}),!!n.state.fullscreen&&o.a.createElement(w.a,{type:"fullscreen-exit",onClick:function(){document.exitFullscreen()}}),o.a.createElement(w.a,{type:"sync",onClick:function(){window.location.reload()}})),o.a.createElement(ml,{visible:E.showCreateCellModal,toggleCreateCellModal:v,createCell:n.createCell,creatingCellStatus:E,prefixCls:y}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.interval,n=e.sendCmd;this.throttleSendCmd=T()(n,t),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1),document.removeEventListener("fullscreenchange",this.onFullscreenChange,!1)}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),vl=Object(Ue.a)(Rt,Pt,ht,function(e){return e.robot.workObjectIds},Ot,vt,Et,yt,It,function(e){return{showCreateCellModal:e.config.showCreateCellModal,creatingCell:e.config.creatingCell,creatingCellFailure:e.config.creatingCellFailure,creatingCellSuccess:e.config.creatingCellSuccess}},function(e,t,n,a,r,o,l,c,i,s){var u=null;if("/"!==t&&-1!==t.indexOf("/dashboards/")){var d=t.replace("/dashboards/","");u=e&&e.filter(function(e){return e.i===d})[0]}return{dashboards:e,pathname:t,toolIds:n,workObjectIds:a,toolId:r,workObjectId:o,coordinateId:l,motionVelPercent:c,interval:i,dashboard:u||e&&e[0],creatingCellStatus:s}});var El=Object(i.b)(function(e){return vl(e)},{createCell:q,navigate:K,updateDashboard:z,updateMotionVelPercent:function(e){return U("UPDATE_MOTION_VEL_PERCENT",{motionVelPercent:e})},updateToolId:function(e){return U("UPDATE_TOOL_ID",{toolId:e})},updateCoordinateId:function(e){return U("UPDATE_COORDINATE_ID",{coordinateId:e})},updateWorkObjectId:function(e){return U("UPDATE_WORK_OBJECT_ID",{workObjectId:e})},sendCmd:ce,toggleCreateCellModal:function(){return U("TOGGLE_CREATE_CELL_MODAL")}})(Ol),yl=(F.a.Item,Vn.a.Option,Vn.a.OptGroup,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.currentCommand,c=a.websocketConnected,i=a.stateCode,s=a.currentPlan,u=t("footer",r),d={100:"#AAAAAA",200:"#FF851B",300:"#FF4136",400:"#0074D9",500:"#01FF70"}[i||100],p={100:"\u53bb\u4f7f\u80fd",200:"\u624b\u52a8",300:"\u51c6\u5907\u81ea\u52a8",400:"\u81ea\u52a8",500:"\u9519\u8bef\u505c\u76ee"}[i],m="success";return 0===l.return_code?m="success":l.return_code&&(m="error"),s=!!s&&"none"!==s,o.a.createElement("div",{className:u},o.a.createElement("div",{className:"".concat(u,"-command ").concat(m)},!!l.cmd&&o.a.createElement("div",{className:"".concat(u,"-cmd ").concat(l.isRunning&&"".concat(u,"-cmd-running"))},o.a.createElement(so.a,{placement:"top",title:"\u8fd0\u884c\u547d\u4ee4"},o.a.createElement(w.a,{type:"code"})),o.a.createElement("span",null,l.cmd)),!!l.cmd_response_time&&o.a.createElement("div",{className:"".concat(u,"-cmd-response-time")},o.a.createElement(so.a,{placement:"top",title:"\u8fd4\u56de\u65f6\u95f4"},o.a.createElement(w.a,{type:"clock-circle"})),o.a.createElement("span",null,l.cmd_response_time,"ms")),void 0!==l.return_code&&o.a.createElement("div",{className:"".concat(u,"-return-code")},o.a.createElement(so.a,{placement:"top",title:"\u8fd4\u56de\u4ee3\u7801"},o.a.createElement(w.a,{type:"bulb"})),o.a.createElement("span",null,l.return_code)),!!l.return_message&&o.a.createElement("div",{className:"".concat(u,"-return-message")},o.a.createElement(so.a,{placement:"top",title:"\u8fd4\u56de\u6d88\u606f"},o.a.createElement(w.a,{type:"message"})),o.a.createElement("span",null,l.return_message))),o.a.createElement("div",{className:"".concat(u,"-status")},o.a.createElement("div",null,!!c&&o.a.createElement(so.a,{placement:"top",title:"Websocket"},o.a.createElement(w.a,{type:"wifi",className:"success"})),!!c&&o.a.createElement("span",null,"\u5df2\u8fde\u63a5"),!c&&o.a.createElement(so.a,{placement:"top",title:"Websocket"},o.a.createElement(w.a,{type:"wifi",className:"danger"})),!c&&o.a.createElement("span",null,"\u672a\u8fde\u63a5")),o.a.createElement("div",{className:p?"info":"disabled"},o.a.createElement(so.a,{placement:"top",title:"State Code"},o.a.createElement(w.a,{style:{color:d,fill:d},fill:d,type:"check-circle",className:"info",theme:"filled"})),o.a.createElement("span",null,p||"\u65e0\u72b6\u6001")),o.a.createElement("div",{className:s?"success":"disabled"},o.a.createElement(so.a,{placement:"top",title:"Current Plan"},o.a.createElement(w.a,{style:{color:d,fill:d},fill:d,type:"setting",theme:"filled",spin:!!s})),o.a.createElement("span",null,s?"\u8fd0\u52a8\u4e2d":"\u505c\u6b62"))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component)),Cl=Object(Ue.a)(function(e){return e.robot.currentCommand},xt,function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.state_code},gt,function(e,t,n,a){return{currentCommand:e,websocketConnected:t,stateCode:n,currentPlan:a}});var Pl=Object(i.b)(function(e){return Cl(e)},{})(yl),Fl=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderApp=function(e){var t=e.getPrefixCls,a=n.props,r=(a.location.pathname,a.dashboards),l=(a.navigate,a.prefixCls),c=(a.createCell,a.dashboard,a.updateDashboard,t("app",l));return r?o.a.createElement("div",{className:c},o.a.createElement(El,null),o.a.createElement("div",{className:"".concat(c,"-content")},n.renderErrorMessage(),ll),o.a.createElement(Pl,null)):o.a.createElement("div",{className:"".concat(c,"-loading")},o.a.createElement(w.a,{type:"loading"}))},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleDismissClick=n.handleDismissClick.bind(Object(m.a)(n)),n.getData(),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){}},{key:"componentWillMount",value:function(){this.props.loadInterfaceConfig(),this.props.updateRouterState({pathname:this.props.location.pathname,params:this.props.params}),this.props.ws&&this.props.startWebsocket(this.props.ws)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalTimer),this.props.stopWebsocket()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this;if(this.props.location.pathname!==e.location.pathname&&this.props.updateRouterState({pathname:e.location.pathname,params:e.params}),this.props.ws!==e.ws&&e.ws&&this.props.startWebsocket(e.ws),this.props.getInterval!==e.getInterval&&e.getInterval){this.intervalTimer&&clearInterval(this.intervalTimer);var a=e.sendCmd,r=e.getInterval;this.intervalTimer=setInterval(function(){var e=n.props,t=e.websocketConnected;e.xml;t&&a("get","get")},r)}}},{key:"handleDismissClick",value:function(e){this.props.resetErrorMessage(),e.preventDefault()}},{key:"handleChange",value:function(e){this.props.navigate("/".concat(e))}},{key:"renderErrorMessage",value:function(){var e=this.props.errorMessage;return e?o.a.createElement("p",{style:{backgroundColor:"#e99",padding:10}},o.a.createElement("b",null,e)," (",o.a.createElement("a",{href:"#",onClick:this.handleDismissClick},"Dismiss"),")"):null}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderApp)}}]),t}(r.Component);var Rl=Object(i.b)(function(e){return{dashboards:Rt(e),dashboard:wt(e),xml:Ct(e),errorMessage:e.errorMessage,websocketConnected:e.robot.websocketConnected,getInterval:Nt(e),ws:_t(e)}},{loadInterfaceConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return U(B,{requiredFields:e})},navigate:K,updateRouterState:function(e){return U(Z,{state:e})},resetErrorMessage:function(){return U("RESET_ERROR_MESSAGE")},startWebsocket:ae,stopWebsocket:function(){return U(ee,{stopped:!0})},createCell:q,sendCmd:ce,updateDashboard:z})(Fl),jl=n(92),Sl=(n(1170),n(197));n(1171),n(1175);function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _l={showCreateCellModal:!1,creatingCell:!1,creatingCellFailure:null,creatingCellSuccess:null};function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Tl=0;if(window.localStorage.getItem("currentToolId"))try{Tl=JSON.parse(window.localStorage.getItem("currentToolId"))}catch(es){}var kl=0;if(window.localStorage.getItem("currentWorkObjectId"))try{kl=JSON.parse(window.localStorage.getItem("currentWorkObjectId"))}catch(es){}var Al=0;if(window.localStorage.getItem("currentCoordinateId"))try{Al=JSON.parse(window.localStorage.getItem("currentCoordinateId"))}catch(es){}var Ll={resultsByChannel:{},websocketConnected:!1,websocketError:null,channelsById:{},commandsById:{},currentCommand:{},robotStatus:4,toolIds:Object(b.a)(Array(16).keys()),workObjectIds:Object(b.a)(Array(32).keys()),currentToolId:Tl,currentWorkObjectId:kl,currentCoordinateId:Al,currentMotionVelPercent:0,firstGet:!0,createRobotModelModalVisible:!1,currentRobotBrand:null,currentRobotModel:null,esiFileUploadingSuccess:null,esiFileUploadingRequest:null,esiFileUploadingFailure:null,esiPathFetchingSuccess:null,esiPathFetchingRequest:null,esiPathFetchingFailure:null,esiPath:null,xml:null,programs:{},showCreatingProgramModal:!1,creatingProgram:!1,creatingProgramFailure:!1,creatingProgramSuccess:!1,showDeletingProgramModal:!1,deletingProgram:!1,deletingProgramFailure:!1,deletingProgramSuccess:!1,editingProgramName:null},Ul={};function Bl(e,t,n){var a=new DataView(e),r=(a.getInt32(0),a.getInt32(4,!0),a.getFloat64(16,!0));if(t[r])try{var o=function(e){var t,n,a,r,o,l;for(t="",a=e.length,n=0;n<a;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],l=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&l)<<0)}return t}(new Uint8Array(e,40));return Ml({},JSON.parse(o),{id:r,cmd_response_time:Date.now()-r})}catch(es){console.error(es)}}var Vl=Object(jl.c)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INTERFACE_CONFIG_FETCH_REQUEST":case"INTERFACE_CONFIG_FETCH_FAILURE":return{};case"INTERFACE_CONFIG_FETCH_SUCCESS":return xl({},e,{},t.response);case W:var n=t.dashboard,a=Object(b.a)(e.dashboards);return a.forEach(function(e,t){e.i===n.i&&(a[t]=xl({},a[t],{},n))}),xl({},e,{dashboards:a});case"DASHBOARD_UPDATE_SUCCESS":var r=t.dashboard,o=Object(b.a)(e.dashboards);return o.forEach(function(e,t){e.i===r.i&&(o[t]=xl({},o[t],{},r))}),xl({},e,{dashboards:o});case"TOGGLE_CREATE_CELL_MODAL":return xl({},e,{showCreateCellModal:!e.showCreateCellModal,creatingCell:!1,creatingCellFailure:null,creatingCellSuccess:null});case"CELL_CREATE_REQUEST":return xl({},e,{creatingCell:!1,creatingCellFailure:null,creatingCellSuccess:null});case"CELL_CREATE_FAILURE":return xl({},e,{creatingCell:!1,creatingCellFailure:t.error,creatingCellSuccess:null});case"CELL_CREATE_SUCCESS":var l=t.dashboardId,c=t.cell,i=Object(b.a)(e.dashboards);return i.forEach(function(e,t){e.i===l&&(i[t]=xl({},i[t]),i[t].cells=i[t].cells.map(function(e){return xl({},e,{y:e.y+1})}),i[t].cells=[].concat(Object(b.a)(i[t].cells),[c]))}),xl({},e,{dashboards:i,showCreateCellModal:!1,creatingCellFailure:null,creatingCell:null,creatingCellSuccess:c});case"CELL_DELETE_SUCCESS":var s=t.dashboardId,u=t.cell,d=Object(b.a)(e.dashboards);return d.forEach(function(e,t){e.i===s&&(d[t]=xl({},d[t]),d[t].cells=d[t].cells.filter(function(e){return e.i!==u.i}))}),xl({},e,{dashboards:d});default:return e}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.error,r=t.errorType;return"RESET_ERROR_MESSAGE"===n?r?e[r]&&delete(e=Nl({},e))[r]:e={}:a&&((e=Nl({},e))[n]=a),e},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pathname:"/"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return t.state;default:return e}},robot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ll,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEBSOCKET_CONNECTED":return Ml({},e,{websocketConnected:!0});case"WEBSOCKET_DISCONNECTED":return Ml({},e,{websocketConnected:!1});case"WEBSOCKET_ERROR":return Ml({},e,{websocketError:t.payload});case te:var n=t.id,a=t.channel,r=t.cmd,o=t.callback;if(a){var l=Ml({},e.channelsById);l[n]=a;var c=e.commandsById,i=e.currentCommand;return"get"!==a&&((c=Ml({},c))[n]=r,o&&(Ul[n]=o),i={id:n,cmd:r,channel:a,isRunning:!0}),Ml({},e,{channelsById:l,commandsById:c,currentCommand:i})}return e;case ne:var s=t.data,u=e.channelsById,d=e.resultsByChannel,p=e.commandsById,m=e.currentCommand,f=e.firstGet,b=Bl(s,e.channelsById,e.model);if(b){var g=(u=Ml({},u))[b.id],h=Ul[b.id];return delete u[b.id],delete Ul[b.id],h&&"function"===typeof h&&h(b),"get"!==g&&p[b.id]&&delete(p=Ml({},p))[b.id],g&&((d=Ml({},d))[g]=b),m.id===b.id&&(m=Ml({},m,{},b,{isRunning:!1})),Ml({},e,f&&"get"===g?{channelsById:u,resultsByChannel:d,commandsById:p,currentCommand:m,currentMotionVelPercent:b.vel_percent||0,firstGet:!1}:{channelsById:u,resultsByChannel:d,commandsById:p,currentCommand:m})}return e;case"DELETE_RESULT_BY_CHANNEL":var O=t.channel,v=Ml({},e.resultsByChannel);return delete v[O],Ml({},e,{resultsByChannel:v});case"UPDATE_MOTION_VEL_PERCENT":return Ml({},e,{currentMotionVelPercent:t.motionVelPercent});case"UPDATE_COORDINATE_ID":return window.localStorage.setItem("currentCoordinateId",t.coordinateId),Ml({},e,{currentCoordinateId:t.coordinateId});case"UPDATE_TOOL_ID":return window.localStorage.setItem("currentToolId",t.toolId),Ml({},e,{currentToolId:t.toolId});case"UPDATE_WORK_OBJECT_ID":return window.localStorage.setItem("currentWorkObjectId",t.workObjectId),Ml({},e,{currentWorkObjectId:t.workObjectId});case"ROBOT_MODELS_FETCH_SUCCESS":return Ml({},e,{robotModels:t.robotModels});case"ROBOT_MODEL_DELETE_SUCCESS":var E=t.model,y=Ml({},e.robotModels);return y[E.brand]=Ml({},y[E.brand]),delete y[E.brand][E.model],gn()(y[E.brand])&&delete y[E.brand],Ml({},e,{robotModels:y});case"ROBOT_MODEL_PART_UPLOAD_SUCCESS":var C=t.model,P=Ml({},e.robotModels);return P[C.brand]=Ml({},P[C.brand]),P[C.brand][C.model]=C,Ml({},e,{robotModels:P});case"ROBOT_MODEL_PART_DELETE_SUCCESS":var F=t.model,R=Ml({},e.robotModels);return R[F.brand]=Ml({},R[F.brand]),R[F.brand][F.model]=F,Ml({},e,{robotModels:R});case"ROBOT_MODEL_CREATE_REQUEST":return Ml({},e,{creatingRobotModel:!0,creatingRobotModelError:!1,creatingRobotModelResult:null});case"ROBOT_MODEL_CREATE_SUCCESS":var j=t.model,S=Ml({},e.robotModels);return S[j.brand]=Ml({},S[j.brand]),S[j.brand][j.model]=j,Ml({},e,{robotModels:S,currentRobotBrand:j.brand,currentRobotModel:j.model,createRobotModelModalVisible:!1,creatingRobotModel:!1,creatingRobotModelError:!1,creatingRobotModelResult:j});case"ROBOT_MODEL_CREATE_FAILURE":return Ml({},e,{creatingRobotModel:!1,creatingRobotModelError:t.error,creatingRobotModelResult:!1});case"SHOW_CREATE_ROBOT_MODEL_MODAL":return Ml({},e,{createRobotModelModalVisible:!0,creatingRobotModel:!1,creatingRobotModelError:null,creatingRobotModelResult:null});case"HIDE_CREATE_ROBOT_MODEL_MODAL":return Ml({},e,{createRobotModelModalVisible:!1});case"SELECT_CURRENT_ROBOT_BRAND":return Ml({},e,{currentRobotBrand:t.brand});case"SELECT_CURRENT_ROBOT_MODEL":return Ml({},e,{currentRobotModel:t.model});case"UPLOAD_ESI_FILE_REQUEST":return Ml({},e,{esiFileUploadingSuccess:null,esiFileUploadingRequest:!0,esiFileUploadingFailure:null});case"UPLOAD_ESI_FILE_FAILURE":return Ml({},e,{esiFileUploadingSuccess:null,esiFileUploadingRequest:!1,esiFileUploadingFailure:t.error});case"UPLOAD_ESI_FILE_SUCCESS":return Ml({},e,{esiFileUploadingRequest:!1,esiFileUploadingSuccess:!0,esiFileUploadingFailure:!1});case"ESI_PATH_FETCH_REQUEST":return Ml({},e,{esiPath:null,esiPathFetchingRequest:!0,esiPathFetchingSuccess:!1,esiPathFetchingFailure:!1});case"ESI_PATH_FETCH_FAILURE":return Ml({},e,{esiPath:null,esiPathFetchingRequest:!1,esiPathFetchingSuccess:!1,esiPathFetchingFailure:t.error});case"ESI_PATH_FETCH_SUCCESS":return Ml({},e,{esiPath:t.path,esiPathFetchingRequest:!1,esiPathFetchingSuccess:!0,esiPathFetchingFailure:!1});case"CONFIG_XML_FETCH_SUCCESS":return Ml({},e,{xml:t.xml});case"PROGRAMS_FETCH_REQUEST":return Ml({},e,{loadingProgram:!0,loadingProgramError:null});case"PROGRAMS_FETCH_FAILURE":return Ml({},e,{loadingProgram:!1,loadingProgramError:t.error});case"PROGRAMS_FETCH_SUCCESS":return Ml({},e,{loadingProgram:!1,loadingProgramError:null,programs:t.programs});case"PROGRAM_UPDATE_REQUEST":var w=Ml({},e.programs);return w[t.name]=t.program,Ml({},e,{updatingProgram:!0,updatingProgramError:null,programs:w});case"PROGRAM_UPDATE_FAILURE":return Ml({},e,{updatingProgram:!1,updatingProgramError:t.error});case"PROGRAM_UPDATE_SUCCESS":var x=Ml({},e.programs);return x[t.program.name]=t.program,Ml({},e,{updatingProgram:!1,updatingProgramError:null,programs:x});case"TOGGLE_CREATE_PROGRAM_MODAL":return Ml({},e,{showCreateProgramModal:!e.showCreateProgramModal,creatingProgram:!1,creatingProgramFailure:null,creatingProgramSuccess:null});case"PROGRAM_CREATE_REQUEST":return Ml({},e,{creatingProgram:!1,creatingProgramFailure:null,creatingProgramSuccess:null});case"PROGRAM_CREATE_FAILURE":return Ml({},e,{creatingProgram:!1,creatingProgramFailure:t.error,creatingProgramSuccess:null});case"PROGRAM_CREATE_SUCCESS":var _=t.program,I=Ml({},e.programs);return I[_.name]=_,Ml({},e,{programs:I,showCreateProgramModal:!1,creatingProgramFailure:null,creatingProgram:null,creatingProgramSuccess:_});case"TOGGLE_DELETE_PROGRAM_MODAL":return Ml({},e,{showDeleteProgramModal:t.name?t.name:!e.showDeleteProgramModal,deletingProgram:!1,deletingProgramFailure:null,deletingProgramSuccess:null});case"PROGRAM_DELETE_REQUEST":return Ml({},e,{deletingProgram:!1,deletingProgramFailure:null,deletingProgramSuccess:null});case"PROGRAM_DELETE_FAILURE":return Ml({},e,{deletingProgram:!1,deletingProgramFailure:t.error,deletingProgramSuccess:null});case"PROGRAM_DELETE_SUCCESS":var N=t.program,D=Ml({},e.programs);return delete D[N.name],Ml({},e,{programs:D,showDeleteProgramModal:!1,deletingProgramFailure:null,deletingProgram:null,deletingProgramSuccess:N});case"TOGGLE_EDITING_PROGRAM_NAME":var M=t.name;return Ml({},e,{renamingProgram:!1,renamingProgramFailure:null,renamingProgramSuccess:null,editingProgramName:e.editingProgramName==M?null:M});case"PROGRAM_RENAME_REQUEST":return Ml({},e,{renamingProgram:!1,renamingProgramFailure:null,renamingProgramSuccess:null});case"PROGRAM_RENAME_FAILURE":return Ml({},e,{renamingProgram:!1,renamingProgramFailure:t.error,renamingProgramSuccess:null});case"PROGRAM_RENAME_SUCCESS":var T=t.program,k=t.name,A=t.copy,L=Ml({},e.programs);return A||delete L[k],L[T.name]=T,Ml({},e,{programs:L,editingProgramName:null,renamingProgram:null,renamingProgramFailure:null,renamingProgramSuccess:T});case"RESET_RENAME_PROGRAM_STATUS":return Ml({},e,{renamingProgram:null,renamingProgramFailure:null,renamingProgramSuccess:null});default:return e}return e}}),Wl=jl.d;var Jl=n(16),zl=n.n(Jl),Gl=n(4);n(1237),n(274),n(1238);function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ql(e){return fetch(e).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}function Hl(e,t){return fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}function Zl(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}function Yl(e,t){return fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}var Kl=function(){return Ql("/api/config/interface")},$l=function(e){return(e=ql({},e)).cells&&(e.cells=e.cells.map(function(e){return(e=ql({},e)).options&&(e.options=JSON.stringify(e.options)),e})),Hl("/api/dashboards/".concat(e.i),e)},ec=function(e,t){return t.options&&"string"!==typeof t.options&&((t=ql({},t)).options=JSON.stringify(t.options)),Zl("/api/dashboards/".concat(e,"/cells"),ql({},t))},tc=function(e,t){return Yl("/api/dashboards/".concat(e,"/cells/").concat(t),{})},nc=function(){return Ql("/api/robots")},ac=function(e,t,n){return Yl("/api/robots/".concat(e,"/").concat(t,"/parts/").concat(n))},rc=function(e,t){return Yl("/api/robots/".concat(e,"/").concat(t))},oc=function(e){return Zl("/api/robots",e)},lc=function(){return Ql("/api/esi/path")},cc=function(){return fetch("/api/config/robot/xml").then(function(e){return e.text().then(function(t){return{text:t,response:e}})}).then(function(e){var t=e.text;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})},ic=function(){return Ql("/api/programs")},sc=function(e){return Ql("/api/programs/".concat(encodeURIComponent(e)))},uc=function(e){return Zl("/api/programs",{name:e})},dc=function(e,t){return Hl("/api/programs/".concat(encodeURIComponent(e)),t)},pc=function(e){return Yl("/api/programs/".concat(encodeURIComponent(e)))},mc=function(e,t,n){return a=n?"/api/programs/".concat(encodeURIComponent(e),"?copy=true"):"/api/programs/".concat(encodeURIComponent(e)),r={name:t},fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}});var a,r},fc=n(96),bc=a,gc=Object(fc.a)(),hc=zl.a.mark(xc),Oc=zl.a.mark(_c),vc=zl.a.mark(Ic),Ec=zl.a.mark(Nc),yc=zl.a.mark(Dc),Cc=zl.a.mark(Mc),Pc=zl.a.mark(Tc),Fc=zl.a.mark(kc),Rc=zl.a.mark(Ac),jc=zl.a.mark(Lc),Sc=zl.a.mark(Uc),wc=V;function xc(){var e,t,n;return zl.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Gl.f)(wc.request());case 2:return a.next=4,Object(Gl.b)(bc.fetchInterfaceConfig);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(Gl.f)(wc.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(Gl.f)(wc.failure(n));case 14:case"end":return a.stop()}},hc)}function _c(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.c)(50);case 2:return e.next=4,Object(Gl.b)(xc);case 4:case"end":return e.stop()}},Oc)}function Ic(){var e,t,n;return zl.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Gl.f)(ye.request());case 2:return a.next=4,Object(Gl.b)(bc.fetchConfigXml);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(Gl.f)(ye.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(Gl.f)(ye.failure(n));case 14:case"end":return a.stop()}},vc)}function Nc(e){var t,n,a,r;return zl.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.dashboard,o.next=3,Object(Gl.c)(500);case 3:return o.next=5,Object(Gl.h)(jt,t.i);case 5:if(t=o.sent,gn()(t)){o.next=21;break}return o.next=9,Object(Gl.f)(J.request());case 9:return o.next=11,Object(Gl.b)(bc.updateDashboard,t);case 11:if(n=o.sent,a=n.response,r=n.error,!a){o.next=19;break}return o.next=17,Object(Gl.f)(J.success(a));case 17:o.next=21;break;case 19:return o.next=21,Object(Gl.f)(J.failure(r));case 21:case"end":return o.stop()}},Ec)}function Dc(e){var t,n,a,r,o;return zl.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.dashboardId,n=e.cell,l.next=3,Object(Gl.c)(50);case 3:return l.next=5,Object(Gl.f)(X.request());case 5:return l.next=7,Object(Gl.b)(bc.createCell,t,n);case 7:if(a=l.sent,r=a.response,o=a.error,!r){l.next=15;break}return l.next=13,Object(Gl.f)(X.success(t,r));case 13:l.next=17;break;case 15:return l.next=17,Object(Gl.f)(X.failure(o));case 17:case"end":return l.stop()}},yc)}function Mc(e){var t,n,a,r,o;return zl.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.dashboardId,n=e.cellId,l.next=3,Object(Gl.c)(50);case 3:return l.next=5,Object(Gl.f)(H.request(t,n));case 5:return l.next=7,Object(Gl.b)(bc.deleteCell,t,n);case 7:if(a=l.sent,r=a.response,o=a.error,!r){l.next=15;break}return l.next=13,Object(Gl.f)(H.success(t,r));case 13:l.next=17;break;case 15:return l.next=17,Object(Gl.f)(H.failure(o));case 17:case"end":return l.stop()}},Cc)}function Tc(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(W,Nc);case 2:case"end":return e.stop()}},Pc)}function kc(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(G,Dc);case 2:case"end":return e.stop()}},Fc)}function Ac(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(B,_c);case 2:case"end":return e.stop()}},Rc)}function Lc(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(Q,Mc);case 2:case"end":return e.stop()}},jc)}function Uc(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(Ee,Ic);case 2:case"end":return e.stop()}},Sc)}var Bc=[Object(Gl.e)(Ac),Object(Gl.e)(Tc),Object(Gl.e)(kc),Object(Gl.e)(Lc),Object(Gl.e)(Uc)],Vc=zl.a.mark(Qc),Wc=zl.a.mark(Hc),Jc=zl.a.mark(Zc),zc=zl.a.mark(Yc);function Gc(e,t){var n=t.split("&");if(n.length>3){var a=parseInt(n[0]),r=parseInt(n[1]),o=parseInt(n[2]),l=parseInt(n[3]),c=parseInt(n[4]),i=n[5].length,s=new ArrayBuffer(40+i),u=new DataView(s);u.setInt32(0,i,!0),u.setInt32(4,a,!0),u.setInt32(8,r,!0),u.setFloat64(16,o,!0),u.setInt32(24,l,!0),u.setInt32(32,c,!0);for(var d=0;d<i;d++)u.setUint8(40+d,n[5].charCodeAt(d));e.send(u.buffer)}}function Xc(e){return new Promise(function(t,n){var a=new WebSocket(e||window.location.origin.replace("https","wss").replace("http","ws"));a.onopen=function(){a.binaryType="arraybuffer",t(a)},a.onerror=function(e){n(e)}})}function qc(e){return Object(Sl.c)(function(t){e.onmessage=function(e){e.data instanceof ArrayBuffer&&t({data:e.data,type:ne})},e.onclose=function(){t(oe())},e.onerror=function(e){t(le(e.message))};return function(){e.onmessage=null,e.onerror=null}})}function Qc(e){var t,n,a;return zl.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(Gl.i)(te);case 3:t=r.sent,n=t.cmd,a=t.id,r.t0=e.readyState,r.next=r.t0===WebSocket.CONNECTING?9:r.t0===WebSocket.OPEN?10:r.t0===WebSocket.CLOSING?11:r.t0===WebSocket.CLOSED?12:13;break;case 9:return r.abrupt("break",13);case 10:Gc(e,"get"===n?"0&1&"+a+"&0&0&"+n:"1&1&"+a+"&0&0&"+n);case 11:case 12:return r.abrupt("break",13);case 13:r.next=0;break;case 15:case"end":return r.stop()}},Vc)}function Hc(e){var t;return zl.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,Object(Gl.i)(e);case 4:return t=n.sent,n.next=7,Object(Gl.f)(t);case 7:n.next=1;break;case 9:return n.prev=9,console.log("message channel closed"),n.finish(9);case 12:case"end":return n.stop()}},Wc,null,[[0,,9,12]])}function Zc(e){return zl.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Gl.c)(5e3);case 2:return t.next=4,Object(Gl.f)(ae(e));case 4:case"end":return t.stop()}},Jc)}function Yc(){var e,t,n,a,r,o,l;return zl.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(Gl.i)($);case 3:return a=c.sent,r=a.url,c.prev=5,c.next=8,Object(Gl.b)(Xc,r);case 8:return e=c.sent,c.next=11,Object(Gl.b)(qc,e);case 11:return t=c.sent,c.next=14,Object(Gl.f)(re());case 14:return c.next=16,Object(Gl.g)({internal:Object(Gl.b)(Qc,e),external:Object(Gl.b)(Hc,t),cancel:Object(Gl.i)(ee)});case 16:o=c.sent,l=o.cancel,n=l,c.next=26;break;case 21:return c.prev=21,c.t0=c.catch(5),console.log(c.t0),c.next=26,Object(Gl.f)(le(c.t0.message));case 26:return c.prev=26,e&&(e.close(),e=null),c.next=30,Object(Gl.f)(oe());case 30:if(t&&(t.close(),t=null),n){c.next=34;break}return c.next=34,Object(Gl.e)(Zc,r);case 34:return c.finish(26);case 35:c.next=0;break;case 37:case"end":return c.stop()}},zc,null,[[5,21,26,35]])}var Kc=[Object(Gl.e)(Yc)],$c=zl.a.mark(ji),ei=zl.a.mark(Si),ti=zl.a.mark(wi),ni=zl.a.mark(xi),ai=zl.a.mark(_i),ri=zl.a.mark(Ii),oi=zl.a.mark(Ni),li=zl.a.mark(Di),ci=zl.a.mark(Mi),ii=zl.a.mark(Ti),si=zl.a.mark(ki),ui=zl.a.mark(Ai),di=zl.a.mark(Li),pi=zl.a.mark(Ui),mi=zl.a.mark(Bi),fi=zl.a.mark(Vi),bi=zl.a.mark(Wi),gi=zl.a.mark(Ji),hi=zl.a.mark(zi),Oi=zl.a.mark(Gi),vi=zl.a.mark(Xi),Ei=zl.a.mark(qi),yi=pe,Ci=fe,Pi=ge,Fi=ue,Ri=ve;function ji(){var e,t,n;return zl.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Gl.f)(Fi.request());case 2:return a.next=4,Object(Gl.b)(bc.fetchRobotModels);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(Gl.f)(Fi.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(Gl.f)(Fi.failure(n));case 14:case"end":return a.stop()}},$c)}function Si(){var e,t,n;return zl.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Gl.f)(Ri.request());case 2:return a.next=4,Object(Gl.b)(bc.fetchESIPath);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(Gl.f)(Ri.success(t.path));case 10:a.next=14;break;case 12:return a.next=14,Object(Gl.f)(Ri.failure(n));case 14:case"end":return a.stop()}},ei)}function wi(){var e,t,n;return zl.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Gl.f)(Pe.request());case 2:return a.next=4,Object(Gl.b)(bc.fetchPrograms);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(Gl.f)(Pe.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(Gl.f)(Pe.failure(n));case 14:case"end":return a.stop()}},ti)}function xi(e){var t,n,a,r;return zl.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,o.next=3,Object(Gl.f)(je.request());case 3:return o.next=5,Object(Gl.b)(bc.fetchProgram,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(Gl.f)(je.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(Gl.f)(je.failure(r));case 15:case"end":return o.stop()}},ni)}function _i(e){var t,n,a,r;return zl.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,o.next=3,Object(Gl.f)(xe.request());case 3:return o.next=5,Object(Gl.b)(bc.createProgram,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(Gl.f)(xe.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(Gl.f)(xe.failure(r));case 15:case"end":return o.stop()}},ai)}function Ii(e){var t,n,a,r,o;return zl.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.name,n=e.program,l.next=3,Object(Gl.c)(500);case 3:return l.next=5,Object(Gl.f)(Ne.request(t,n));case 5:return l.next=7,Object(Gl.b)(bc.updateProgram,t,n);case 7:if(a=l.sent,r=a.response,o=a.error,!r){l.next=15;break}return l.next=13,Object(Gl.f)(Ne.success(r));case 13:l.next=17;break;case 15:return l.next=17,Object(Gl.f)(Ne.failure(o));case 17:case"end":return l.stop()}},ri)}function Ni(e){var t,n,a,r;return zl.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,o.next=3,Object(Gl.f)(Me.request());case 3:return o.next=5,Object(Gl.b)(bc.deleteProgram,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(Gl.f)(Me.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(Gl.f)(Me.failure(r));case 15:case"end":return o.stop()}},oi)}function Di(e){var t,n,a,r,o,l;return zl.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.name,n=e.newName,a=e.copy,c.next=3,Object(Gl.f)(Ae.request());case 3:return c.next=5,Object(Gl.b)(bc.renameProgram,t,n,a);case 5:if(r=c.sent,o=r.response,l=r.error,!o){c.next=13;break}return c.next=11,Object(Gl.f)(Ae.success(t,o,a));case 11:c.next=15;break;case 13:return c.next=15,Object(Gl.f)(Ae.failure(l));case 15:case"end":return c.stop()}},li)}function Mi(e){var t,n,a,r,o,l;return zl.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.brand,n=e.model,a=e.part,c.next=3,Object(Gl.f)(yi.request());case 3:return c.next=5,Object(Gl.b)(bc.deleteRobotModelPart,t,n,a);case 5:if(r=c.sent,o=r.response,l=r.error,!o){c.next=13;break}return c.next=11,Object(Gl.f)(yi.success(o));case 11:c.next=15;break;case 13:return c.next=15,Object(Gl.f)(yi.failure(l));case 15:case"end":return c.stop()}},ci)}function Ti(e){var t,n,a,r,o;return zl.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.brand,n=e.model,l.next=3,Object(Gl.f)(Ci.request());case 3:return l.next=5,Object(Gl.b)(bc.deleteRobotModel,t,n);case 5:if(a=l.sent,r=a.response,o=a.error,!r){l.next=13;break}return l.next=11,Object(Gl.f)(Ci.success(r));case 11:l.next=15;break;case 13:return l.next=15,Object(Gl.f)(Ci.failure(o));case 15:case"end":return l.stop()}},ii)}function ki(e){var t,n,a,r;return zl.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.model,o.next=3,Object(Gl.f)(Pi.request());case 3:return o.next=5,Object(Gl.b)(bc.createRobotModel,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(Gl.f)(Pi.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(Gl.f)(Pi.failure(r));case 15:case"end":return o.stop()}},si)}function Ai(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(se,ji);case 2:case"end":return e.stop()}},ui)}function Li(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(de,Mi);case 2:case"end":return e.stop()}},di)}function Ui(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(me,Ti);case 2:case"end":return e.stop()}},pi)}function Bi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(be,ki);case 2:case"end":return e.stop()}},mi)}function Vi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(Oe,Si);case 2:case"end":return e.stop()}},fi)}function Wi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(Ce,wi);case 2:case"end":return e.stop()}},bi)}function Ji(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(Re,xi);case 2:case"end":return e.stop()}},gi)}function zi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(we,_i);case 2:case"end":return e.stop()}},hi)}function Gi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(Ie,Ii);case 2:case"end":return e.stop()}},Oi)}function Xi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(De,Ni);case 2:case"end":return e.stop()}},vi)}function qi(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.j)(ke,Di);case 2:case"end":return e.stop()}},Ei)}var Qi=[Object(Gl.e)(Ai),Object(Gl.e)(Li),Object(Gl.e)(Ui),Object(Gl.e)(Bi),Object(Gl.e)(Vi),Object(Gl.e)(Wi),Object(Gl.e)(Ji),Object(Gl.e)(zi),Object(Gl.e)(Gi),Object(Gl.e)(Xi),Object(Gl.e)(qi)],Hi=zl.a.mark(Yi),Zi=zl.a.mark(Ki);function Yi(){var e,t;return zl.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Gl.i)(Y);case 3:return e=n.sent,t=e.pathname,n.next=7,gc.push(t);case 7:n.next=0;break;case 9:case"end":return n.stop()}},Hi)}function Ki(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gl.a)([].concat(Object(b.a)(Bc),Object(b.a)(Kc),Object(b.a)(Qi),[Object(Gl.e)(Yi)]));case 2:case"end":return e.stop()}},Zi)}n(1240);var $i=function(e){var t=Object(Sl.b)(),n=Object(jl.e)(Vl,e,Wl(Object(jl.a)(t)));return n.runSaga=t.run,n.close=function(){return n.dispatch(Sl.a)},n}();$i.runSaga(Ki),Object(l.render)(o.a.createElement(i.a,{store:$i},o.a.createElement(v.a,{prefixCls:"rchmi"},o.a.createElement(c.b,{history:gc},o.a.createElement(c.a,{path:"/",component:Rl})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},542:function(e,t,n){e.exports=n.p+"static/media/six_axes.090ff2c1.png"},543:function(e,t,n){e.exports=n.p+"static/media/seven_axes.10605d29.png"},545:function(e,t,n){e.exports=n(1241)}},[[545,1,2]]]);
//# sourceMappingURL=main.9576973f.chunk.js.map