(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1240:function(e,t,n){},1241:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchInterfaceConfig",function(){return dc}),n.d(a,"updateDashboard",function(){return pc}),n.d(a,"createCell",function(){return mc}),n.d(a,"deleteCell",function(){return fc}),n.d(a,"fetchRobotModels",function(){return bc}),n.d(a,"deleteRobotModelPart",function(){return gc}),n.d(a,"deleteRobotModel",function(){return hc}),n.d(a,"createRobotModel",function(){return Oc}),n.d(a,"fetchESIPath",function(){return vc}),n.d(a,"fetchConfigXml",function(){return Ec}),n.d(a,"fetchPrograms",function(){return yc}),n.d(a,"fetchProgram",function(){return Cc}),n.d(a,"createProgram",function(){return Pc}),n.d(a,"updateProgram",function(){return jc}),n.d(a,"deleteProgram",function(){return Fc}),n.d(a,"renameProgram",function(){return Rc});var r=n(0),o=n.n(r),l=n(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(117),i=n(25),s=n(7),u=n(17),d=n(6),p=n(8),m=n(28),f=n(9),b=n(19),g=n(29),h=n(193),O=n(14),v=n.n(O),E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var t=e.getPrefixCls,a=n.props,r=(a.dashboard,t("dashboard-empty",a.prefixCls));return o.a.createElement("div",{className:"".concat(r)},"\u5f53\u524d\u9762\u677f\u6ca1\u6709\u4efb\u4f55\u529f\u80fd\u5355\u5143")},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderDashboard)}}]),t}(r.Component),y=n(328),C=n.n(y),P=n(102),j=n.n(P),F=n(236),R=n.n(F),S=n(12),w=n.n(S),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,t("logger",r));return o.a.createElement("div",{className:"".concat(l)},o.a.createElement(w.a,{type:"area-chart",style:{fontSize:50}}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component);x.NAME="\u65e5\u5fd7\u56de\u653e";var _=x,I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=t("unknown-cell-type",r);return o.a.createElement("div",{className:"".concat(c)},o.a.createElement("div",null,"\u4e0d\u652f\u6301\u7684\u7ec4\u4ef6\u7c7b ",l.type))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component),N=n(329),D=n.n(N),T=n(238),M=n.n(T);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L=Date.now();function U(e){return A({type:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var V="LOAD_INTERFACE_CONFIG",B={request:function(){return U("INTERFACE_CONFIG_FETCH_REQUEST",{})},success:function(e){return(e=A({},e)).dashboards&&(e.dashboards=e.dashboards.map(function(e){return(e=A({},e)).cells=e.cells.map(function(e){e=A({},e),console.log(e.type,"before",e.options);try{e.options=JSON.parse(e.options)}catch(t){e.options={}}return console.log(e.options),e}),e})),U("INTERFACE_CONFIG_FETCH_SUCCESS",{response:e})},failure:function(e){return U("INTERFACE_CONFIG_FETCH_FAILURE",{error:e})}},W="UPDATE_DASHBOARD",J={request:function(e){return U("DASHBOARD_UPDATE_REQUEST",{dashboard:e})},success:function(e){return e.cells&&((e=A({},e)).cells=e.cells.map(function(e){if((e=A({},e)).options){console.log(e.type,"before",e.options);try{e.options=JSON.parse(e.options)}catch(t){e.options={}}console.log(e.type,e.options)}return e})),U("DASHBOARD_UPDATE_SUCCESS",{dashboard:e})},failure:function(e){return U("DASHBOARD_UPDATE_FAILURE",{error:e})}},G=function(e){return U(W,{dashboard:e})},z="CREATE_CELL",q={request:function(e){return U("CELL_CREATE_REQUEST",{dashboardId:e})},success:function(e,t){if((t=A({},t)).options)try{t.options=JSON.parse(t.options)}catch(n){t.options={}}return U("CELL_CREATE_SUCCESS",{dashboardId:e,cell:t})},failure:function(e){return U("CELL_CREATE_FAILURE",{error:e})}},X=function(e,t){return U(z,{dashboardId:e,cell:t})},Q="DELETE_CELL",H={request:function(e,t){return U("CELL_DELETE_REQUEST",{dashboardId:e,cellId:t})},success:function(e,t){return U("CELL_DELETE_SUCCESS",{dashboardId:e,cell:t})},failure:function(e){return U("CELL_DELETE_FAILURE",{error:e})}},Z="UPDATE_ROUTER_STATE",Y="NAVIGATE",K=function(e){return U(Y,{pathname:e})},$="START_WEBSOCKET",ee="STOP_WEBSOCKET",te="SEND_CMD",ne="CMD_RESPONSE",ae=function(e){return U($,{url:e})},re=function(){return U("WEBSOCKET_CONNECTED")},oe=function(){return U("WEBSOCKET_DISCONNECTED")},le=function(e){return U("WEBSOCKET_ERROR",{error:e})},ce=function(e,t,n){var a=Date.now();return a<=L?L+=1:L=a,U(te,{cmd:e,id:L,channel:t,callback:n})},ie=function(e){return U("DELETE_RESULT_BY_CHANNEL",{channel:e})},se="LOAD_ROBOT_MODELS",ue={request:function(){return U("ROBOT_MODELS_FETCH_REQUEST",{})},success:function(e){return U("ROBOT_MODELS_FETCH_SUCCESS",{robotModels:e})},failure:function(e){return U("ROBOT_MODELS_FETCH_FAILURE",{error:e})}},de="DELETE_ROBOT_MODEL_PART",pe={request:function(){return U("ROBOT_MODEL_PART_DELETE_REQUEST",{})},success:function(e){return U("ROBOT_MODEL_PART_DELETE_SUCCESS",{model:e})},failure:function(e){return U("ROBOT_MODEL_PART_DELETE_FAILURE",{error:e})}},me="DELETE_ROBOT_MODEL",fe={request:function(){return U("ROBOT_MODEL_DELETE_REQUEST",{})},success:function(e){return U("ROBOT_MODEL_DELETE_SUCCESS",{model:e})},failure:function(e){return U("ROBOT_MODEL_DELETE_FAILURE",{error:e})}},be="CREATE_ROBOT_MODEL",ge={request:function(e){return U("ROBOT_MODEL_CREATE_REQUEST",{model:e})},success:function(e){return U("ROBOT_MODEL_CREATE_SUCCESS",{model:e})},failure:function(e){return U("ROBOT_MODEL_CREATE_FAILURE",{error:e})}},he={request:function(){return U("UPLOAD_ESI_FILE_REQUEST")},success:function(e){return U("UPLOAD_ESI_FILE_SUCCESS",{path:e})},failure:function(e){return U("UPLOAD_ESI_FILE_FAILURE",{error:e})}},Oe="LOAD_ESI_PATH",ve={request:function(){return U("ESI_PATH_FETCH_REQUEST")},success:function(e){return U("ESI_PATH_FETCH_SUCCESS",{path:e})},failure:function(e){return U("ESI_PATH_FETCH_FAILURE",{error:e})}},Ee="LOAD_CONFIG_XML",ye={request:function(){return U("CONFIG_XML_FETCH_REQUEST")},success:function(e){return U("CONFIG_XML_FETCH_SUCCESS",{xml:e})},failure:function(e){return U("CONFIG_XML_FETCH_FAILURE",{error:e})}},Ce="LOAD_PROGRAMS",Pe={request:function(){return U("PROGRAMS_FETCH_REQUEST")},success:function(e){return U("PROGRAMS_FETCH_SUCCESS",{programs:e})},failure:function(e){return U("PROGRAMS_FETCH_FAILURE",{error:e})}},je=function(){return U(Ce)},Fe="LOAD_PROGRAM",Re={request:function(){return U("PROGRAM_FETCH_REQUEST")},success:function(e){return U("PROGRAM_FETCH_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_FETCH_FAILURE",{error:e})}},Se=function(e){return U(Fe,{name:e})},we="CREATE_PROGRAM",xe={request:function(){return U("PROGRAM_CREATE_REQUEST")},success:function(e){return U("PROGRAM_CREATE_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_CREATE_FAILURE",{error:e})}},_e=function(e){var t=e.name;return U(we,{name:t})},Ie="UPDATE_PROGRAM",Ne={request:function(e,t){return U("PROGRAM_UPDATE_REQUEST",{name:e,program:t})},success:function(e){return U("PROGRAM_UPDATE_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_UPDATE_FAILURE",{error:e})}},De="DELETE_PROGRAM",Te={request:function(e){return U("PROGRAM_DELETE_REQUEST",{program:e})},success:function(e){return U("PROGRAM_DELETE_SUCCESS",{program:e})},failure:function(e){return U("PROGRAM_DELETE_FAILURE",{error:e})}},Me=function(e){return U(De,{name:e})},ke="RENAME_PROGRAM",Ae={request:function(e,t,n){return U("PROGRAM_RENAME_REQUEST",{name:e,newName:t,copy:n})},success:function(e,t,n){return U("PROGRAM_RENAME_SUCCESS",{name:e,program:t,copy:n})},failure:function(e){return U("PROGRAM_RENAME_FAILURE",{error:e})}},Le=function(e,t,n){return U(ke,{name:e,newName:t,copy:n})},Ue=n(27),Ve=n(235),Be=n.n(Ve),We=n(164),Je=n.n(We),Ge=n(49),ze=n.n(Ge),qe=n(60),Xe=n.n(qe);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ze=Object(Ue.b)(Be.a,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e+"-"+JSON.stringify(t)},"")}),Ye=function(e,t){return e.robot.resultsByChannel[t.cell.i]},Ke=function(e,t){return e.robot.resultsByChannel[t]},$e=(Ze(Ye,function(e){return e}),Ze(Ke,function(e){return e}),function(e,t){var n=t.cell,a="command"===He({},n.options).channel?n.i:"get",r=e.robot.resultsByChannel[a];return r?Object.keys(r).filter(function(e){return!!Je()(r[e])||!(!ze()(r[e])||!Je()(r[e][0]))}):[]}),et=Ze($e,function(e){return e}),tt=Ze(function(e,t){var n=t.cell,a="command"===He({},n.options).channel?n.i:"get",r=e.robot.resultsByChannel[a],o={};r&&$e(e,{cell:n}).forEach(function(e){ze()(r[e])&&Je()(r[e][0])&&(o[e]=r[e].map(function(e,t){return t}))});return o},function(e){return e}),nt=function(e,t){var n=t.cell;return"command"===n.options.channel?{cell:n,result:Ke(e,n.i)}:{cell:n,result:Ke(e,"get")}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t={},n=null;return Object(Ue.a)(nt,function(a){var r=a.result,o=a.cell;if(o.options.paused)return t;if(Xe()(o.options.sources,n)||(n=o.options.sources?Object(b.a)(o.options.sources):[],t={}),t=He({},t),r){var l=new Date,c=l.getHours(),i=l.getMinutes();i<10&&(i="0"+i);var s=l.getSeconds();s<10&&(s="0"+s);var u=l.toString(),d="".concat(c,":").concat(i,":").concat(s);n.map(function(n){var a=n.source;(n.index||0===n.index)&&(a="".concat(a,"_").concat(n.index)),t[a]||(t[a]=[]),ze()(r[n.source])&&Je()(r[n.source][n.index])?t[a]=[].concat(Object(b.a)(t[a]),[{name:u,value:[d,r[n.source][n.index]]}]):Je()(r[n.source])?t[a]=[].concat(Object(b.a)(t[a]),[{name:u,value:[d,r[n.source]]}]):t[a]=[].concat(Object(b.a)(t[a]),[{name:u,value:[d,0]}]);var o=t[a].length;o>e&&t[a].splice(0,o-e)})}return t})},rt=(Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.ai},function(e){return e}),Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.di},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pe},function(e){return e})),ot=function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.end_pq},lt=(Object(Ue.a)(ot,function(e){return e}),Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_acc},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_pos},function(e){return e})),ct=Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_state},function(e){return e}),it=(Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.motion_toq},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.part_pq},function(e){return e})),st=Ze(it,function(e){return e&&e.join("&")}),ut=Object(Ue.a)(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_al_state},function(e){return e}),dt=(Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_link_num},function(e){return e}),Ze(function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.slave_online_state},function(e){return e})),pt=function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.current_plan},mt=function(e){return e.robot.toolIds},ft=function(e){return e.robot.currentToolId},bt=function(e){return e.robot.currentWorkObjectId},gt=function(e){return e.robot.currentCoordinateId},ht=function(e){return e.robot.currentMotionVelPercent||0},Ot=function(e){return e.robot.xml},vt=function(e){return e.router.pathname},Et=function(e){return e.config.dashboards},yt=Object(Ue.a)(Et,function(e){return e&&e.map(function(e){return{name:e.name,i:e.i,editable:e.editable}})}),Ct=function(e,t){var n=Et(e);if(n)return n.filter(function(e){return e.i===t})[0]},Pt=Object(Ue.a)(Et,vt,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a}return e&&e[0]}),jt=(Object(Ue.a)(yt,vt,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a.i}return e&&e[0].i}),Object(Ue.a)(yt,vt,function(e,t){if("/"!==t&&-1!==t.indexOf("/dashboards/")){var n=t.replace("/dashboards/",""),a=e&&e.filter(function(e){return e.i===n})[0];if(a)return a}return e&&e[0]})),Ft=function(e){return e.robot.websocketConnected},Rt=function(e){var t=e.config;return t.ws&&t.ws.url},St=function(e){var t=e.config;return t.ws&&t.ws.commandSendInterval},wt=function(e){var t=e.config;return t.ws&&t.ws.getInterval},xt=function(e){var t=e.config;return t.ws&&t.ws.commandSendDelay},_t=function(e){var t=e.config;return t.ws&&t.ws.unityUpdateInterval},It=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderLogger=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,t("view3d",r));return o.a.createElement("div",{className:"".concat(l),ref:function(e){return n.container=e}},o.a.createElement(D.a,{unityContent:n.unityContent}))},n.unityContent=new N.UnityContent("/unity/8.json","/unity/UnityLoader.js"),n.state={},n.unityContent.on("progress",function(e){n.setState({progression:e}),1===e&&(n.unityContent.send("empt","GetUrlFromJs",window.location.origin),n.props.xml&&n.unityContent.send("empt","GetRobotXmlFromJS",n.props.xml),n.props.partPQ&&n.unityContent.send("empt","ReceiveDataFromJs",n.props.partPQ),n.unityContent.send("empt","SetCameraBackGround","0&0&0"),n.unityContent.send("empt","SetFPS","20"))}),n.throttleSend=M()(n.unityContent.send.bind(n.unityContent),n.props.unityUpdateInterval),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.deleteResultByChannel("xml"),this.props.loadConfigXml()}},{key:"componentWillUnmount",value:function(){this.unityContent.remove("progress")}},{key:"shouldComponentUpdate",value:function(e,t,n){var a=this;return e.xml!==this.props.xml&&e.xml&&1===this.state.progression&&this.unityContent.send("empt","GetRobotXmlFromJS",e.xml),e.partPQ!==this.props.partPQ&&e.partPQ&&1===this.state.progression&&setTimeout(function(){a.throttleSend("empt","ReceiveDataFromJs",e.partPQ)},0),!1}},{key:"unityProgress",value:function(e,t){e.Module&&this.setState({progress:e.progress})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLogger)}}]),t}(r.Component);var Nt=Object(i.b)(function(e){return{xml:Ot(e),partPQ:st(e),unityUpdateInterval:_t(e)}},{loadConfigXml:function(){return U(Ee)},deleteResultByChannel:ie})(It);Nt.NAME="\u4e09\u7ef4\u89c6\u56fe";var Dt=Nt,Tt=n(1),Mt=n.n(Tt),kt=n(23),At=n.n(kt),Lt=n(21),Ut=n.n(Lt);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).interval=null,n.timeout=null,n.sendCmd=function(e,t){var a=n.props,r=a.sendCmd,o=a.cell;r(e,t||o.i)},n.getSendCmdFn=function(e,t){return function(){n.sendCmd(e,t)}.bind(Object(m.a)(n))},n.getOnMouseDownFn=function(e,t){return function(){n.interval&&clearInterval(n.interval);var a=n.props,r=a.commandSendInterval,o=a.commandSendDelay,l=function(){n.sendCmd(e,t)},c=Object(m.a)(n);c.timeout=setTimeout(function(){c.interval=setInterval(l,r)},o)}.bind(Object(m.a)(n))},n.getOnMouseUpFn=function(e,t){return function(){n.timeout&&clearTimeout(n.timeout),n.interval&&clearInterval(n.interval),n.timeout&&n.interval&&e&&t&&(setTimeout(function(){n.sendCmd(e,t)},10),n.timeout=null,n.interval=null)}.bind(Object(m.a)(n))},n.getOptions=function(){var e=n.props.cell;return e.options?e.options:{}},n.updateOptions=function(e){var t=Bt({},n.props.cell);t.options=Bt({},t.options,{},e),n.props.onCellUpdate(t)},n.renderContent=function(e){e.prefixCls;throw new Error("renderComponent not implemented")},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),Jt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogCoordinate=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.endPE,c=a.motionVelPercent,i=a.coordinateId,s=a.toolId,u=a.workObjectId,d=a.cell,p=t("jog-coordinate",r),m=["x","y","z","rx","ry","rz"];return o.a.createElement("div",{className:"".concat(p)},["X","Y","Z","RX","RY","RZ"].map(function(e,t){return o.a.createElement(At.a,{key:e},o.a.createElement(Ut.a,{type:"primary",size:"large",onClick:function(){n.getSendCmdFn("j".concat(m[t]," --vel_percent=").concat(c," --direction=-1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseDown:function(){n.getOnMouseDownFn("j".concat(m[t]," --vel_percent=").concat(c," --direction=-1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(m[t]," --stop"),d.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(m[t]," --stop"),d.i)()}},e,"-"),o.a.createElement(At.a,{className:"".concat(p,"-end_pe")},o.a.createElement("div",null,o.a.createElement("span",null,l&&(l[t]||0===l[t])?(1e3*l[t]).toFixed(3):"null"))),o.a.createElement(Ut.a,{type:"primary",size:"large",onClick:function(){n.getSendCmdFn("j".concat(m[t]," --vel_percent=").concat(c," --direction=1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseDown:function(){n.getOnMouseDownFn("j".concat(m[t]," --vel_percent=").concat(c," --direction=1 --cor=").concat(i," --tool=tool").concat(s," --wobj=wobj").concat(u),d.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(m[t]," --stop"),d.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(m[t]," --stop"),d.i)()}},e,"+"))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogCoordinate)}}]),t}(Wt);Jt.propTypes={cell:Mt.a.object.isRequired,sendCmd:Mt.a.func.isRequired,motionVelPercent:Mt.a.number,coordinateId:Mt.a.number.isRequired,toolId:Mt.a.number.isRequired,workObjectId:Mt.a.number.isRequired,endPE:Mt.a.array};var Gt=Object(Ue.a)(ht,gt,ft,bt,rt,function(e,t,n,a,r){return{coordinateId:t,motionVelPercent:e,toolId:n,workObjectId:a,endPE:r}});var zt=Object(i.b)(function(e){return Gt(e)},{sendCmd:ce})(Jt);zt.NAME="\u624b\u52a8\u7b1b\u5361\u5c14\u5750\u6807\u7cfbJog\u7ec4\u4ef6";var qt=zt,Xt=function(e){return o.a.createElement("svg",Object.assign({width:"90px",height:"76px",viewBox:"0 0 90 76",version:"1.1"},e),o.a.createElement("rect",{fillRule:"nonzero",x:"0",y:"55.243",width:"18.306",height:"20.204"}),o.a.createElement("rect",{fillRule:"nonzero",x:"23.711",y:"37.304",width:"18.493",height:"38.143"}),o.a.createElement("rect",{fillRule:"nonzero",x:"47.609",y:"18.929",width:"18.493",height:"56.518"}),o.a.createElement("rect",{fillRule:"nonzero",x:"71.507",y:"0.38",width:"18.493",height:"75.067"}))};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Zt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){for(var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.slaveOnlineState,i=a.slaveAlState,s=a.motionState,u=a.motionPos,d=a.motionVelPercent,p=n.getOptions(),m=p.jogList||6,f=t("jog-joint",r),b=[],g=0;g<m;g++)b.push(g);return o.a.createElement("div",{className:"".concat(f)},b.map(function(e){return o.a.createElement(At.a,{key:e},o.a.createElement(Ut.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("j".concat(e+1," --direction=-1 --vel_percent=").concat(d),l.i)},onMouseDown:function(){n.getOnMouseDownFn("j".concat(e+1," --direction=-1 --vel_percent=").concat(d),l.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()}},"J",e+1,"-"),o.a.createElement("div",{className:"".concat(f,"-status")},o.a.createElement("span",null,u&&(u[e]||0===u[e])?(u[e]/Math.PI*180).toFixed(3):"null"),o.a.createElement("div",{className:"".concat(f,"-status-icons")},o.a.createElement(w.a,{component:Xt,className:"".concat(c&&c[e]?"".concat(f,"-slave-online-state ").concat(f,"-slave-online-state-").concat(i&&i[e]):"".concat(f,"-slave-online-state disabled"))}),!(!s||!s[e])&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"success"}),!(s&&s[e])&&o.a.createElement(w.a,{type:"check-circle",theme:"filled",className:"disabled"}))),o.a.createElement(Ut.a,{type:"primary",size:"large",onClick:function(){n.sendCmd("j".concat(e+1," --direction=1 --vel_percent=").concat(d),l.i)},onMouseDown:function(){n.getOnMouseDownFn("j".concat(e+1," --direction=1 --vel_percent=").concat(d),l.i)()},onMouseUp:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()},onMouseOut:function(){n.getOnMouseUpFn("j".concat(e+1," --stop"),l.i)()}},"J",e+1,"+"))}),o.a.createElement(Ut.a,{className:"".concat(f,"-addJogJoint"),size:"small",shape:"round",onClick:n.addButtonFunc=function(){n.updateOptions(Ht({},p,{jogList:m+1}))}},"\u6dfb\u52a0"),o.a.createElement(Ut.a,{className:"".concat(f,"-deleteJogJoint"),size:"small",shape:"round",onClick:n.deleteButtonFunc=function(){n.updateOptions(Ht({},p,{jogList:m-1}))}},"\u5220\u9664"))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(Wt);Zt.propTypes={cell:Mt.a.object.isRequired,sendCmd:Mt.a.func.isRequired,vel:Mt.a.number,motionPos:Mt.a.array,slaveOnlineState:Mt.a.array};var Yt=Object(Ue.a)(ht,lt,ct,dt,ut,function(e,t,n,a,r){return{motionVelPercent:e,motionPos:t,motionState:n,slaveOnlineState:a,slaveAlState:r}});var Kt=Object(i.b)(function(e){return Yt(e)},{sendCmd:ce})(Zt);Kt.NAME="\u624b\u52a8\u5173\u8282\u5750\u6807\u7cfbJog\u7ec4\u4ef6";var $t=Kt,en=function(e){var t=e.robot;return t.resultsByChannel&&t.resultsByChannel.get&&t.resultsByChannel.get.state_code},tn=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.cols},nn=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.rowHeight},an=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.margin},rn=function(e){var t=e.config;return t&&t.layoutConfig&&t.layoutConfig.containerPadding},on=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,a.websocketConnected),c=a.stateCode;c||(c=100);console.log("robot state code",c);var i={100:"#AAAAAA",200:"#FF851B",300:"#FF4136",400:"#0074D9",500:"#01FF70"}[c],s={100:"\u53bb\u4f7f\u80fd",200:"\u624b\u52a8",300:"\u51c6\u5907\u81ea\u52a8",400:"\u81ea\u52a8",500:"\u9519\u8bef\u505c\u76ee"}[c],u=t("robot-status",r);return o.a.createElement("div",{className:"".concat(u)},o.a.createElement("div",null,!!l&&o.a.createElement(w.a,{type:"wifi",className:"success"}),!!l&&o.a.createElement("span",null,"\u5df2\u8fde\u63a5"),!l&&o.a.createElement(w.a,{type:"wifi",className:"danger"}),!l&&o.a.createElement("span",null,"\u672a\u8fde\u63a5")),o.a.createElement("div",null,o.a.createElement(w.a,{style:{color:i,fill:i},fill:i,type:"check-circle",className:"info",theme:"filled"}),o.a.createElement("span",null,s||"\u65e0\u72b6\u6001")))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component);var ln=Object(i.b)(function(e){return{stateCode:en(e),websocketConnected:Ft(e)}})(on);ln.NAME="\u673a\u5668\u4eba\u72b6\u6001";var cn=ln,sn=n(320),un=n.n(sn),dn=n(56),pn=n.n(dn),mn=n(89),fn=n.n(mn),bn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={enable:!0},n.onChange=function(e){var t=n.props.cell;e?(n.sendCmd("md","".concat(t.i,"-md")),n.sendCmd("rc","".concat(t.i,"-rc")),n.sendCmd("en","".concat(t.i,"-en")),n.setState({enable:!0})):(n.sendCmd("ds","".concat(t.i,"-ds")),n.setState({enable:!1}))},n.resetEnable=function(){var e=n.props.cell;n.props.deleteResultByChannel("".concat(e.i,"-md")),n.props.deleteResultByChannel("".concat(e.i,"-rc")),n.props.deleteResultByChannel("".concat(e.i,"-en")),n.setState({enable:!1})},n.resetDisable=function(){var e=n.props.cell;n.props.deleteResultByChannel("".concat(e.i,"-ds")),n.setState({enable:!0})},n.renderManualSwitch=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.stateCode,i=a.resultMD,s=a.resultRC,u=a.resultEN,d=a.resultDS,p=(Math.floor(c),Math.floor(c),t("manual-switch",r)),f=(Object(m.a)(n),n.state.enable),b=f&&i&&s&&u&&(0!==i.return_code||0!==s.return_code||0!==u.return_code),g=!f&&d&&0!==d.return_code;return o.a.createElement("div",{className:"".concat(p)},o.a.createElement("div",null,o.a.createElement(un.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:f&&i&&s&&u&&0===i.return_code&&0===s.return_code&&0===u.return_code,onChange:n.onChange}),o.a.createElement("span",null,100===c?"\u4f7f\u80fd":"\u672a\u4f7f\u80fd")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"drag",onClick:function(){n.sendCmd("mvJoint",l.i)}}),o.a.createElement("span",null,"\u62d6\u52a8")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"pause-circle",onClick:function(){n.sendCmd("FCStop",l.i)}}),o.a.createElement("span",null,"\u505c\u6b62\u529b\u63a7")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"swap",onClick:function(){n.sendCmd("mvf",l.i)}}),o.a.createElement("span",null,"\u8f68\u8ff9\u590d\u73b0")),o.a.createElement("div",null,o.a.createElement(w.a,{type:"rollback",onClick:function(){n.sendCmd("rs --pos={0.5,0.39252,0.7899,0.5,0.5,0.5} --vel=0.02",l.i)}}),o.a.createElement("span",null,"\u56de\u96f6\u70b9")),o.a.createElement(pn.a,{visible:b,title:"\u4f7f\u80fd\u9519\u8bef",onOk:n.resetEnable,onCancel:n.resetEnable,centered:!0,footer:[o.a.createElement(Ut.a,{key:"close",onClick:n.resetEnable},"\u5173\u95ed")]},!(!i||0===i.return_code)&&o.a.createElement("p",{className:"danger"},"MD ",i&&(i.return_message?"\u8fd4\u56de\u7801\uff1a".concat(i.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(i.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(i.return_code))),!(!s||0===s.return_code)&&o.a.createElement("p",{className:"danger"},"RC ",s&&(s.return_message?"\u8fd4\u56de\u7801\uff1a".concat(s.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(s.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(s.return_code))),!(!u||0===u.return_code)&&o.a.createElement("p",{className:"danger"},"EN ",u&&(u.return_message?"\u8fd4\u56de\u7801\uff1a".concat(u.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(u.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(u.return_code)))),o.a.createElement(pn.a,{visible:g,title:"\u53bb\u4f7f\u80fd\u9519\u8bef",onOk:n.resetDisable,onCancel:n.resetDisable,centered:!0,footer:[o.a.createElement(Ut.a,{key:"close",onClick:n.resetDisable},"\u5173\u95ed")]},o.a.createElement("span",{className:"danger"},d&&(d.return_message?"\u8fd4\u56de\u7801\uff1a".concat(d.return_code," \u8fd4\u56de\u6d88\u606f\uff1a").concat(d.return_message," "):"\u8fd4\u56de\u7801\uff1a".concat(d.return_code)))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderManualSwitch)}}]),t}(Wt);bn.propTypes={cell:Mt.a.object.isRequired,stateCode:Mt.a.number};var gn=Object(i.b)(function(){var e=Ze(function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-md")]},function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-rc")]},function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-en")]},function(e,t){return e.robot.resultsByChannel["".concat(t.cell.i,"-ds")]},function(e,t,n,a){return{resultMD:e,resultRC:t,resultEN:n,resultDS:a}});return function(t,n){return e(t,n)}},{deleteResultByChannel:ie})(bn);gn.NAME="\u624b\u52a8\u63a7\u5236\u5f00\u5173";var hn=gn,On=(n(270),n(535)),vn=n.n(On),En=(n(690),n(692),n(693),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){console.log("change",e)},n.renderJogJoint=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,t("code-editor",r));return o.a.createElement("div",{className:"".concat(l)},o.a.createElement(vn.a,{mode:"javascript",theme:"monokai",width:"100%",height:"100%",value:'\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\nfunction onLoad(editor) {\n  console.log("i\'ve loaded");\n}\n    ',onChange:n.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderJogJoint)}}]),t}(r.Component));var yn=Object(i.b)(function(e){return{robotStatus:e.robot.robotStatus}})(En);yn.NAME="\u4ee3\u7801\u7f16\u8f91";var Cn=yn,Pn=n(45),jn=n.n(Pn),Fn=n(536),Rn=n.n(Fn),Sn=jn.a.TextArea,wn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).interval=null,n.timeout=null,n.getSendCmdFn=function(){return function(){var e=n.props,t=e.sendCmd,a=e.cell,r=n.getOptions();r.command&&r.command.split("\n").forEach(function(e){(e=e.trim())&&(t(e,a.i),n.terminal.runCommandOnActive("showCmd "+e))})}.bind(Object(m.a)(n))},n.getOnMouseDownFn=function(){return function(){n.interval&&clearInterval(n.interval);var e=n.getSendCmdFn(),t=Object(m.a)(n),a=n.props,r=a.commandSendInterval,o=a.commandSendDelay;t.timeout=setTimeout(function(){t.interval=setInterval(e,r)},o)}.bind(Object(m.a)(n))},n.getOnMouseUpFn=function(){return function(){n.interval&&clearInterval(n.interval),n.timeout&&clearTimeout(n.timeout)}.bind(Object(m.a)(n))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,a.results,n.getOptions()),c=t("debugger",r),i=Object(m.a)(n);return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(At.a,null,o.a.createElement(Sn,{rows:2,value:l.command,onChange:function(e){n.updateOptions({command:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u4e00\u884c\u673a\u5668\u4eba\u6307\u4ee4"}),o.a.createElement(Ut.a,{onClick:n.getSendCmdFn(),onMouseDown:n.getOnMouseDownFn(),onMouseUp:n.getOnMouseUpFn(),onMouseOut:n.getOnMouseUpFn(),type:"primary",shape:"round",icon:"play-circle",size:"large"},"Send"),o.a.createElement("div",{className:"".concat(c,"-terminal")},o.a.createElement(Rn.a,{color:"green",backgroundColor:"black",barColor:"black",hideTopBar:!0,allowTabs:!1,commands:{showCmd:function(e,t,n){if(e[1])t(e.slice(1).join(" "));else{var a=i.getOptions();a.command&&t(a.command)}},send:function(e,t,n){i.props.sendCmd(e[1],i.props.cell.i)},showResult:function(e,t,a){t(JSON.stringify(n.result))}},descriptions:{send:'\u53d1\u9001\u6307\u4ee4\u7ed9\u673a\u5668\u4eba, "send [\u673a\u5668\u4eba\u6307\u4ee4]", \u4f8b\u5982 "send get"',showResult:"\u663e\u793a\u6700\u8fd1\u4e00\u6761\u8fd4\u56de\u503c",showCmd:"\u663e\u793a\u5f53\u524d\u6307\u4ee4\u503c"},ref:function(e){return n.terminal=e}}))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return e.result!==this.props.result&&(this.result=e.result,this.terminal.runCommandOnActive("showResult")),e.cell!==this.props.cell||e.result!==this.props.result}}]),t}(Wt);wn.propTypes={results:Mt.a.array.isRequired};var xn=Object(i.b)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=[];return Object(Ue.a)(Ye,function(n,a){console.log(a),n&&t.push(n);var r=t.length;return r>e&&t.splice(0,r-e),t})}(10);return function(t,n){return{results:e(t,n),result:Ke(t,n.cell.i)}}})(wn);xn.NAME="\u8c03\u8bd5\u9762\u677f";var _n=xn;function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Dn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getOptions=function(){var e=n.props.cell;return e.options?e.options:{}},n.updateOptions=function(e){var t=Nn({},n.props.cell);t.options=Nn({},t.options,{},e),n.props.onCellUpdate(t)},n.showConfig=function(){var e=n.getOptions();n.updateOptions(Nn({},e,{showConfig:!0}))},n.hideConfig=function(){console.log("hideConfig");var e=n.getOptions();n.updateOptions(Nn({},e,{showConfig:null}))},n.renderContent=function(e){e.prefixCls;throw new Error("renderContent not implemented")},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),Tn=n(40),Mn=n.n(Tn),kn=n(51),An=n.n(kn),Ln=n(34),Un=n.n(Ln),Vn=n(33),Bn=n.n(Vn),Wn=n(46),Jn=n.n(Wn);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qn=jn.a.Search,Xn=An.a.Group,Qn=Mn.a.Item,Hn=Un.a.Option,Zn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sources:[]},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var a=n.getOptions();n.updateOptions(zn({},a,{},t,{sources:t.sources,showConfig:!1}))}})},n.remove=function(e){n.setState({sources:n.state.sources.filter(function(t,n){return n!==e})})},n.add=function(){n.setState({sources:[].concat(Object(b.a)(n.state.sources),[{}])})},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.sendCmd,i=n.getOptions(),s=n.props.form.getFieldDecorator,u=t("realtime-chart-config",r),d=i.interval||1e3;return o.a.createElement(pn.a,{title:"\u6dfb\u52a0\u6570\u636e",visible:!!i.showConfig,maskClosable:!1,okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",width:"80%",onOk:n.handleSubmit,onCancel:n.hideConfig,wrapClassName:"".concat(u)},o.a.createElement(Mn.a,{layout:"horizontal"},o.a.createElement(Qn,{label:"\u6570\u636e\u6765\u6e90"},s("channel",{initialValue:"command"===i.channel?"command":"get",rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6765\u6e90"}]})(o.a.createElement(Xn,{onChange:function(e){n.updateOptions(zn({},i,{channel:e.target.value}))}},o.a.createElement(An.a,{value:"get"},"\u9ed8\u8ba4GET"),o.a.createElement(An.a,{value:"command"},"\u81ea\u5b9a\u4e49\u547d\u4ee4")))),"command"===i.channel&&o.a.createElement(At.a,null,o.a.createElement(Bn.a,{span:20},o.a.createElement(Qn,{label:"\u8fd0\u884c\u6307\u4ee4",labelCol:{span:4},wrapperCol:{span:20}},s("command",{initialValue:i.command,rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4"}]})(o.a.createElement(qn,{onSearch:function(e){c(e,l.i)},enterButton:"\u8fd0\u884c"})))),o.a.createElement(Bn.a,{span:4},o.a.createElement(Qn,{label:"\u8fd0\u884c\u95f4\u9694",labelCol:{span:12},wrapperCol:{span:12}},s("interval",{initialValue:d,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4"}]})(o.a.createElement(Jn.a,{min:30,step:1,formatter:function(e){return"".concat(e,"\u6beb\u79d2")},parser:function(e){return e.replace("\u6beb\u79d2","")}}))))),n.renderDataSources(i)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){var a=e.cell,r=e.dataSources,o=this.props,l=o.cell,c=o.dataSources;if(!Xe()(a,l)&&l&&l.options&&l.options&&l.options.sources)try{this.setState({sources:l.options.sources})}catch(i){}Xe()(r,c)||this.setState({sources:this.state.sources.filter(function(e){return!e.source||-1!==c.indexOf(e.source)})})}},{key:"renderDataSources",value:function(e){var t=this,n=this.props.form,a=n.getFieldDecorator,l=(n.getFieldValue,n.getFieldsValue),c=this.props,i=c.dataSources,s=c.dataIndexes;(e.sources||[]).forEach(function(e,t){a("sources[".concat(t,"].source"),{initialValue:e.source})});var u=this.state.sources;if(!i||!s)return o.a.createElement("div",null,"\u6570\u636e\u7b49\u5f85\u4e2d...");if(0===Object.keys(i).length)return o.a.createElement("div",{style:{textAlign:"center"},className:"error"},"\u65e0\u53ef\u6dfb\u52a0\u6570\u636e\u9879\uff0c\u8bf7\u8f93\u5165\u5e76\u8fd0\u884c\u6307\u4ee4\uff0c\u5e76\u786e\u8ba4\u8fd4\u56de\u7ed3\u679c\u4e2d\u5305\u542b\u6570\u503c\u3002");var d=l().sources;d||(d=[]);var p=u.map(function(e,n){return o.a.createElement(At.a,{key:n},o.a.createElement(Bn.a,{span:10},o.a.createElement(Qn,{label:"\u6570\u636e\u9879",labelCol:{span:8},wrapperCol:{span:16}},a("sources[".concat(n,"].source"),{initialValue:e.source,rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u9879"}]})(o.a.createElement(Un.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9\u6570\u636e\u9879"},i.map(function(e){return o.a.createElement(Hn,{key:e,value:e},e)}))))),o.a.createElement(Bn.a,{span:10},!!d[n]&&!!s[d[n].source]&&o.a.createElement(Qn,{label:"index",labelCol:{span:8},wrapperCol:{span:16}},a("sources[".concat(n,"].index"),{initialValue:e.index,rules:[{type:"number",required:!0,message:"\u8bf7\u9009\u62e9index"}]})(o.a.createElement(Un.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9index"},s[d[n].source].map(function(e){return o.a.createElement(Hn,{key:e.toString(),value:e},e)}))))),o.a.createElement(Bn.a,{span:4},o.a.createElement(Mn.a.Item,{style:{paddingLeft:20}},o.a.createElement(Ut.a,{onClick:t.remove.bind(t,n),type:"danger"},o.a.createElement(w.a,{type:"minus"})," \u79fb\u9664"))))});return o.a.createElement(r.Fragment,null,p,o.a.createElement(Mn.a.Item,{wrapperCol:{span:24},style:{textAlign:"center"}},o.a.createElement(Ut.a,{type:"dashed",onClick:this.add},o.a.createElement(w.a,{type:"plus"})," \u6dfb\u52a0\u6570\u636e\u9879")))}}]),t}(Dn),Yn=Object(Ue.a)(et,tt,function(e,t){return{dataSources:e,dataIndexes:t}});var Kn=Object(i.b)(function(e,t){return Yn(e,t)},{sendCmd:ce,deleteResultByChannel:ie})(Mn.a.create({mapPropsToFields:function(e){var t=e.sources;e.cell;return function e(t){return Object.keys(t).reduce(function(n,a){return zn({},n,Object(g.a)({},a,"object"!==typeof t[a]||"value"in t[a]?Mn.a.createFormField(zn({},t[a],{value:t[a]&&t[a].value})):ze()(t[a])?t[a].map(function(t){return e(t)}):e(t[a])))},{})}({sources:t})},onValuesChange:function(e,t){}})(Zn)),$n=n(540),ea=n.n($n),ta=n(323),na=n.n(ta),aa=["#dd6b6699","#759aa099","#e69d8799","#8dc1a999","#ea7e5399","#eedd7899","#73a37399","#73b9bc99","#7289ab99","#91ca8c99","#f49f4299"],ra={color:aa,backgroundColor:"#111",tooltip:{axisPointer:{lineStyle:{color:"#555"},crossStyle:{color:"#555"}}},legend:{textStyle:{color:"#555"}},textStyle:{color:"#555"},title:{textStyle:{color:"#555"}},toolbox:{iconStyle:{normal:{borderColor:"#555"}}},dataZoom:{textStyle:{color:"#555"}},visualMap:{textStyle:{color:"#555"}},timeline:{lineStyle:{color:"#555"},itemStyle:{normal:{color:aa[1]}},label:{normal:{textStyle:{color:"#555"}}},controlStyle:{normal:{color:"#555",borderColor:"#555"}}},timeAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},logAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},valueAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},categoryAxis:{axisLine:{lineStyle:{color:"#555"}},axisTick:{lineStyle:{color:"#555"}},axisLabel:{textStyle:{color:"#555"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#555"}}},line:{symbol:"circle"},graph:{color:aa},gauge:{title:{textStyle:{color:"#555"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};ra.categoryAxis.splitLine.show=!1,na.a.registerTheme("robot_theme",ra);var oa=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataChannel,n=e.results;if(0===Object.keys(n).length)return null;var a={title:{text:"\u6570\u636e\u6765\u6e90 "+t,x:"center",y:"bottom",textStyle:{fontSize:12}},legend:{data:Object.keys(n)},xAxis:{splitLine:{show:!1},boundaryGap:!0,min:"dataMin",max:"dataMax",type:"category"},yAxis:{splitLine:{show:!1},type:"value"},series:Object.keys(n).map(function(e){return{name:e,data:n[e],symbol:"none",type:"line"}})};return o.a.createElement(r.Fragment,null,o.a.createElement(ea.a,{style:{width:"100%",height:"100%"},theme:"robot_theme",option:a,notMerge:!0,lazyUpdate:!0}))}}]),t}(r.Component);function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ca=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).interval=null,n.state={playing:!0},n.resetInterval=function(){clearInterval(n.interval);var e=n.props,t=e.cell,a=e.sendCmd;if(t.options&&!t.options.showConfig&&"command"===t.options.channel&&t.options.command&&t.options.interval&&!t.options.paused){var r=t.options.command,o=t.i;n.interval=setInterval(function(){a(r,o)},t.options.interval)}},n.handleChange=function(e){var t=n.getOptions();n.updateOptions(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{channel:e}))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,l=a.prefixCls,c=a.cell,i=a.results,s=t("realtime-chart",l),u=c.options&&c.options.channel&&c.options.sources&&c.options.sources.length>0,d="".concat("get"===c.options.channel?"get":c.options.command);return o.a.createElement("div",{className:"".concat(s," ").concat(!u&&s+"-no-data")},!u&&o.a.createElement("div",null,o.a.createElement("span",null,"\u672a\u914d\u7f6e\u6570\u636e\u6e90 \u6216 \u672a\u5173\u8054\u6570\u636e\u9879"),o.a.createElement("div",{style:{marginTop:20}},o.a.createElement(Ut.a,{type:"primary",onClick:function(){n.updateOptions({showConfig:!0})}},"\u6dfb\u52a0\u914d\u7f6e\u6570\u636e"))),u&&o.a.createElement(r.Fragment,null,o.a.createElement(oa,{dataChannel:d,prefixCls:s,results:i}),c.options.paused&&o.a.createElement(w.a,{type:"play-circle",className:"".concat(s,"-play ").concat(s,"-play-start"),onClick:function(){n.updateOptions({paused:!1})}}),!c.options.paused&&o.a.createElement(w.a,{type:"pause-circle",className:"".concat(s,"-play"),onClick:function(){n.updateOptions({paused:!0})}})))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidMount",value:function(){this.resetInterval(),this.start=new Date}},{key:"shouldComponentUpdate",value:function(e,t,n){var a=new Date;return a-this.start>1e3&&(this.start=a,!0)}},{key:"componentDidUpdate",value:function(e,t,n){var a=e.cell,r=this.props.cell;Xe()(a,r)||this.resetInterval(),r.options.showConfig!==a.options.showConfig&&r.options.showConfig&&this.props.deleteResultByChannel(r.i)}}]),t}(Wt);ca.propTypes={results:Mt.a.object.isRequired};var ia=Object(i.b)(function(){var e=at(1e3);return function(t,n){return{results:e(t,n)}}},{deleteResultByChannel:ie})(ca);ia.NAME="\u5b9e\u65f6\u7ed8\u56fe",ia.CONFIG=Kn;var sa=ia,ua=n(325),da=n.n(ua),pa=n(196),ma=n.n(pa);function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ba=Un.a.Option,ga={UserInput:"\u76f4\u63a5\u8f93\u5165\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u548c\u8d44\u6001(\u6b27\u62c9\u89d2)",CalibT4P:"\u4ee5\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u53c2\u8003\u5750\u6807\u7cfb\uff0c\u6807\u5b9a\u51fa\u5de5\u5177\u5750\u6807\u7cfb\u539f\u70b9\u7684\u4f4d\u7f6e\u504f\u79fb\u91cf\uff0c\u5de5\u5177\u5750\u6807\u7cfb\u7684\u59ff\u6001\u9ed8\u8ba4\u4e0e\u6cd5\u5170\u5750\u6807\u7cfb\u4e00\u81f4\u3002",CalibT5P:"\u4ee5\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u53c2\u8003\u5750\u6807\u7cfb\uff0c\u6807\u5b9a\u51fa\u5de5\u5177\u5750\u6807 \u7cfb\u539f\u70b9\u7684\u4f4d\u7f6e\u504f\u79fb\u91cf\u4ee5 \u53ca\u5de5\u5177\u5750\u6807\u7cfb Z \u8f74\u7684\u65b9 \u5411\u3002",CalibT6P:"\u4ee5\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u53c2\u8003\u5750\u6807\u7cfb\uff0c\u6807\u5b9a\u51fa\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u59ff\u3002"},ha={CalibT4P:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"1)\u9009\u62e9\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u5f53\u524d\u5de5\u5177\u5750\u6807\u7cfb\uff0c\u673a\u5668\u4eba\u5e95\u5ea7\u5750\u6807\u7cfb\u4e3a \u5f53\u524d\u5de5\u4ef6\u5750\u6807\u7cfb; "),o.a.createElement("p",null," 2)\u624b\u52a8\u793a\u6559\uff0c\u4ee5\u4e0d\u540c\u59ff\u6001\u4f7f\u79fb\u52a8\u5de5\u5177\u4f7f\u5de5\u5177\u4e2d\u5fc3\u70b9\u6cbf\u67d0\u4e00\u65b9 \u5411\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u5e76\u4fdd\u5b58\u6b64\u65f6\u7684\u4f4d\u59ff\uff0c\u4f9d\u6b21\u6cbf 4 \u4e2a\u4e0d\u540c \u65b9\u5411\u83b7\u53d6\u793a\u6559\u70b9\u7684\u4f4d\u59ff\u6570\u636e;"),o.a.createElement("p",null,"3)\u786e\u8ba4\u6807\u5b9a\u7ed3\u679c\u3002")),CalibT5P:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"1)\u9009\u62e9\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u5f53\u524d\u5de5\u5177\u5750\u6807\u7cfb\uff0c\u673a\u5668\u4eba\u5e95\u5ea7\u5750\u6807\u7cfb\u4e3a \u5f53\u524d\u5de5\u4ef6\u5750\u6807\u7cfb;"),o.a.createElement("p",null,"2)\u624b\u52a8\u793a\u6559\uff0c\u4ee5\u4e0d\u540c\u59ff\u6001\u4f7f\u79fb\u52a8\u5de5\u5177\u4f7f\u5de5\u5177\u4e2d\u5fc3\u70b9\u6cbf\u67d0\u4e00\u65b9 \u5411\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u5e76\u4fdd\u5b58\u6b64\u65f6\u7684\u4f4d\u59ff\uff0c\u4f9d\u6b21\u6cbf 4 \u4e2a\u4e0d\u540c \u65b9\u5411\u83b7\u53d6\u793a\u6559\u70b9\u7684\u4f4d\u59ff\u6570\u636e; "),o.a.createElement("p",null,"3)\u4ee5\u7b2c 4 \u70b9\u7684\u5de5\u5177\u4f4d\u59ff\u4e3a\u57fa\u51c6\uff0c\u4fdd\u6301\u5de5\u5177\u59ff\u6001\u4e0d\u53d8\uff0c\u5c06\u5de5\u5177 \u5750\u6807\u7cfb Z \u8f74\u6b63\u65b9\u5411\u4e0a\u67d0\u4e00\u7279\u5f81\u70b9\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u4fdd\u5b58\u7b2c 5 \u4e2a\u793a\u6559\u70b9\u7684\u4f4d\u59ff; "),o.a.createElement("p",null,"4)\u786e\u8ba4\u6807\u5b9a\u7ed3\u679c\u3002")),CalibT6P:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"1)\u9009\u62e9\u6cd5\u5170\u5750\u6807\u7cfb\u4e3a\u5f53\u524d\u5de5\u5177\u5750\u6807\u7cfb\uff0c\u673a\u5668\u4eba\u5e95\u5ea7\u5750\u6807\u7cfb\u4e3a \u5f53\u524d\u5de5\u4ef6\u5750\u6807\u7cfb; "),o.a.createElement("p",null,"2)\u624b\u52a8\u793a\u6559\uff0c\u4ee5\u4e0d\u540c\u59ff\u6001\u4f7f\u79fb\u52a8\u5de5\u5177\u4f7f\u5de5\u5177\u4e2d\u5fc3\u70b9\u6cbf\u67d0\u4e00\u65b9 \u5411\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u5e76\u4fdd\u5b58\u6b64\u65f6\u7684\u4f4d\u59ff\uff0c\u4f9d\u6b21\u6cbf 4 \u4e2a\u4e0d\u540c \u65b9\u5411\u83b7\u53d6\u793a\u6559\u70b9\u7684\u4f4d\u59ff\u6570\u636e;"),o.a.createElement("p",null,"3)\u4ee5\u7b2c 4 \u70b9\u7684\u5de5\u5177\u4f4d\u59ff\u4e3a\u57fa\u51c6\uff0c\u4fdd\u6301\u5de5\u5177\u59ff\u6001\u4e0d\u53d8\uff0c\u5c06\u5de5\u5177 \u5750\u6807\u7cfb Z \u8f74\u6b63\u65b9\u5411\u4e0a\u67d0\u4e00\u7279\u5f81\u70b9\u4e0e\u5916\u90e8\u56fa\u5b9a\u70b9\u63a5\u89e6\uff0c\u4fdd\u5b58\u7b2c 5 \u4e2a\u793a\u6559\u70b9\u7684\u4f4d\u59ff;")),UserInput:o.a.createElement("div",{style:{maxWidth:300}},o.a.createElement("p",null,"\u7528\u6237\u8f93\u5165\u6807\u5b9a \u76f4\u63a5\u8f93\u5165\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u548c\u59ff\u6001\uff08\u6b27\u62c9\u89d2\uff09\uff0c \u4f9d\u6b21\u8f93\u5165\u5de5\u5177\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u548c\u59ff\u6001\uff0c\u7136\u540e\u70b9\u51fb\u4fdd\u5b58"))},Oa={UserInput:"\u7528\u6237\u8f93\u5165",CalibT4P:"\u56db\u70b9\u6807\u5b9a\u6cd5",CalibT5P:"\u4e94\u70b9\u6807\u5b9a\u6cd5",CalibT6P:"\u516d\u70b9\u6807\u5b9a\u6cd5"},va={CalibT4P:4,CalibT5P:5,CalibT6P:6},Ea=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={calibMethod:"CalibT4P",toolId:0,toolName:"",pes:[],showCalibResult:!1,showSaveResult:!1,userInput:{x:0,y:0,z:0,a:0,b:0,c:0}},n.handleNameChange=function(e){n.setState({toolName:e.target.value,showCalibResult:!1,showSaveResult:!1})},n.handleSelectToolId=function(e){n.setState({toolId:e,pes:[],showCalibResult:!1,toolName:null,showSaveResult:!1})},n.handleSelectCalibMethod=function(e){n.setState({calibMethod:e,pes:[],showCalibResult:!1,toolName:null,showSaveResult:!1})},n.renderTable=function(e){var t=function(t,n){return n.last?o.a.createElement("span",{className:"".concat(e,"-table-cell ").concat(e,"-table-cell-last")},t):o.a.createElement("span",{className:"".concat(e,"-table-cell")},t)},a=[{title:"\u7f16\u53f7",dataIndex:"rowName",key:"rowName",align:"center"},{title:"X[mm]",dataIndex:"x",key:"xi",render:t,align:"center"},{title:"Y[mm]",dataIndex:"y",key:"yi",render:t,align:"center"},{title:"Z[mm]",dataIndex:"z",key:"zi",render:t,align:"center"},{title:"A",dataIndex:"a",key:"ai",render:t,align:"center"},{title:"B",dataIndex:"b",key:"bi",render:t,align:"center"},{title:"C",dataIndex:"c",key:"ci",render:t,align:"center"}],r=n.props,l=r.endPE,c=(r.cell,[]);n.state.pes.map(function(e,t){c.push({rowName:"\u6807\u5b9a\u70b9".concat(t+1),rowKey:t,key:t,xi:"x".concat(t),yi:"y".concat(t),zi:"z".concat(t),ai:"a".concat(t),bi:"b".concat(t),ci:"c".concat(t),x:e[0].toFixed(3),y:e[1].toFixed(3),z:e[2].toFixed(3),a:e[3].toFixed(3),b:e[4].toFixed(3),c:e[5].toFixed(3)})}),l&&n.state.pes.length<va[n.state.calibMethod]&&c.push({rowName:"\u6807\u5b9a\u70b9".concat(c.length+1),rowKey:"last",key:"last".concat(c.length+1),xi:"xlast",yi:"ylast",zi:"zlast",ai:"alast",bi:"blast",ci:"clast",x:l[0].toFixed(3),y:l[1].toFixed(3),z:l[2].toFixed(3),a:l[3].toFixed(3),b:l[4].toFixed(3),c:l[5].toFixed(3),last:!0});var i=Object(m.a)(n),s=o.a.createElement("div",{className:"".concat(e,"-table-footer")},i.state.pes.length>0&&o.a.createElement(Ut.a,{type:"danger",onClick:function(){i.setState({showCalibResult:!1,showSaveResult:!1,pes:[]})}},"\u6e05\u7a7a\u6570\u636e"),!!(l&&i.state.pes.length<va[n.state.calibMethod])&&o.a.createElement(Ut.a,{type:"primary",onClick:function(){var e=i.props.endPE;i.setState({pes:[].concat(Object(b.a)(i.state.pes),[e])})}},"\u63d2\u5165\u6570\u636e"),i.state.pes.length===va[n.state.calibMethod]&&o.a.createElement(Ut.a,{type:"primary",onClick:function(){var e=i.state,t=e.pes,n=e.calibMethod,a=i.props,r=a.cell;(0,a.deleteResultByChannel)(r.i),i.setState({showCalibResult:!0,showSaveResult:!1}),i.sendCmd("".concat(n," --pose={").concat(t.join(",").replace(/ /g,","),"}"))}},"\u5f00\u59cb\u6807\u5b9a"));return o.a.createElement(ma.a,{className:"".concat(e,"-table"),dataSource:c,columns:a,size:"small",locale:{emptyText:"endPE\u6570\u636e\u8f7d\u5165\u4e2d..."},bordered:!0,pagination:!1,footer:function(){return s}})},n.getUserInputUpdateFn=function(e){var t=Object(m.a)(n);return function(n){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.state.userInput);a[e]=n,t.setState({userInput:a})}},n.getCellRenderer=function(e){var t=Object(m.a)(n);return function(n,a){return o.a.createElement(Jn.a,{step:.001,size:"small",value:a[e],onChange:t.getUserInputUpdateFn(e)})}},n.renderUserInput=function(e){var t=n.state.userInput,a=[{title:"X[mm]",dataIndex:"x",key:"xi",align:"center",render:n.getCellRenderer("x")},{title:"Y[mm]",dataIndex:"y",key:"yi",align:"center",render:n.getCellRenderer("y")},{title:"Z[mm]",dataIndex:"z",key:"zi",align:"center",render:n.getCellRenderer("z")},{title:"A",dataIndex:"a",key:"ai",align:"center",render:n.getCellRenderer("a")},{title:"B",dataIndex:"b",key:"bi",align:"center",render:n.getCellRenderer("b")},{title:"C",dataIndex:"c",key:"ci",align:"center",render:n.getCellRenderer("c")}],r=[{xi:"xlast",yi:"ylast",zi:"zlast",ai:"alast",bi:"blast",ci:"clast",rowKey:"result",x:t.x,y:t.y,z:t.z,a:t.a,b:t.b,c:t.c,last:!0}],l=Object(m.a)(n),c=o.a.createElement("div",{className:"".concat(e,"-table-footer")},o.a.createElement(Ut.a,{type:"primary",onClick:function(){var e=l.state,t=e.toolId,n=e.toolName,a=e.userInput;n=n||"Tool".concat(t);var r=l.props,o=r.cell,c=r.deleteResultByChannel;l.setState({showSaveResult:!0}),c(o.i);var i=[a.x,a.y,a.z,a.a,a.b,a.c];l.sendCmd("SetTF --tool_id=".concat(t," --tool_name=").concat(n," --tool_pe={").concat(i.join(",").replace(/ /g,","),"}"),o.i)}},"\u4fdd\u5b58"));return o.a.createElement("div",{className:"".concat(e,"-calib-userinput")},o.a.createElement(ma.a,{className:"".concat(e,"-table"),dataSource:r,columns:a,size:"small",locale:{emptyText:"\u6807\u5b9a\u7ed3\u679c\u8f7d\u5165\u4e2d..."},bordered:!0,pagination:!1,footer:function(){return c}}))},n.renderResult=function(e){var t=n.state.showCalibResult,a=n.props,r=a.result;a.cell;if(!t||!r)return null;if(0!==r.return_code||!r.tool_pe)return o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),o.a.createElement("div",{className:"error"},"\u4ee3\u7801:",r.return_code),o.a.createElement("div",{className:"error"},"\u9519\u8bef:",r.return_message));var l=[{xi:"xlast",yi:"ylast",zi:"zlast",ai:"alast",bi:"blast",ci:"clast",rowKey:"result",x:r.tool_pe[0].toFixed(3),y:r.tool_pe[1].toFixed(3),z:r.tool_pe[2].toFixed(3),a:r.tool_pe[3].toFixed(3),b:r.tool_pe[4].toFixed(3),c:r.tool_pe[5].toFixed(3),last:!0}],c=Object(m.a)(n),i=o.a.createElement("div",{className:"".concat(e,"-table-footer")},o.a.createElement(Ut.a,{type:"primary",onClick:function(){var e=c.state,t=e.toolId,n=e.toolName,a=r.tool_pe.map(function(e){return e});n=n||"Tool".concat(t);var o=c.props,l=o.cell,i=o.deleteResultByChannel;c.setState({showCalibResult:!1,showSaveResult:!0}),i(l.i),c.sendCmd("SetTF --tool_id=".concat(t," --tool_name=").concat(n," --tool_pe={").concat(a.join(",").replace(/ /g,","),"}"),l.i)}},"\u4fdd\u5b58"));return o.a.createElement("div",{className:"".concat(e,"-calib-result")},o.a.createElement("div",null,"\u6807\u5b9a\u7ed3\u679c"),o.a.createElement(ma.a,{className:"".concat(e,"-table"),dataSource:l,columns:[{title:"X[mm]",dataIndex:"x",key:"xi",align:"center"},{title:"Y[mm]",dataIndex:"y",key:"yi",align:"center"},{title:"Z[mm]",dataIndex:"z",key:"zi",align:"center"},{title:"A",dataIndex:"a",key:"ai",align:"center"},{title:"B",dataIndex:"b",key:"bi",align:"center"},{title:"C",dataIndex:"c",key:"ci",align:"center"}],size:"small",locale:{emptyText:"\u6807\u5b9a\u7ed3\u679c\u8f7d\u5165\u4e2d..."},bordered:!0,pagination:!1,footer:function(){return i}}),o.a.createElement("div",{className:"".concat(e,"-calib-result-message")},r.CalibrationInfo))},n.renderSaveResult=function(e){var t=n.state.showSaveResult,a=n.props,r=a.result;a.cell;return t&&r?0!==r.return_code?o.a.createElement("div",{className:"".concat(e,"-save-result error")},o.a.createElement("div",null,"\u4fdd\u5b58\u51fa\u9519"),o.a.createElement("div",{className:"error"},"\u4ee3\u7801:",r.return_code),!!r.CalibrationInfo&&o.a.createElement("div",{className:"error"},"\u9519\u8bef:",r.CalibrationInfo),!!r.return_message&&o.a.createElement("div",{className:"error"},"\u9519\u8bef:",r.return_message)):o.a.createElement("div",{className:"".concat(e,"-save-result success")},o.a.createElement("div",null,"\u4fdd\u5b58\u6210\u529f"),!!r.CalibrationInfo&&o.a.createElement("div",{className:"".concat(e,"-save-result-message success")},r.CalibrationInfo),!!r.return_message&&o.a.createElement("div",{className:"success"},r.return_message)):null},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=(a.cell,a.toolIds),c=t("calib-tool",r),i=Object(m.a)(n);return o.a.createElement("div",{className:"".concat(c)},o.a.createElement(At.a,null,o.a.createElement(Bn.a,{lg:10,className:"".concat(c,"-user-input-container")},o.a.createElement("div",null,o.a.createElement("span",null,"\u6807\u5b9a\u65b9\u6cd5"),o.a.createElement(Un.a,{size:"small",placeholder:"\u9009\u62e9\u6807\u5b9a\u65b9\u6cd5",onChange:n.handleSelectCalibMethod,value:n.state.calibMethod},Object.keys(Oa).map(function(e){return o.a.createElement(ba,{value:e,key:e},Oa[e])})),o.a.createElement(da.a,{placement:"bottom",title:o.a.createElement("span",null,Oa[n.state.calibMethod]),content:ha[n.state.calibMethod],trigger:"click"},o.a.createElement(w.a,{type:"question"}))),o.a.createElement("div",null,o.a.createElement("span",null,"\u5de5\u5177\u53f7"),o.a.createElement(Un.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177\u53f7",onChange:n.handleSelectToolId,value:n.state.toolId},l.map(function(e){return o.a.createElement(ba,{value:e,key:e},"\u5de5\u5177",e)}))),o.a.createElement("div",null,o.a.createElement("span",null,"\u540d\u79f0"),o.a.createElement(jn.a,{value:n.state.toolName,size:"small",placeholder:"Tool".concat(n.state.toolId),onChange:n.handleNameChange}),!!n.state.toolName&&o.a.createElement(Ut.a,{size:"small",type:"primary",style:{marginLeft:5},onClick:function(){i.setState({pes:[],showCalibResult:!1});var e=i.state,t=e.toolName,n=e.toolId;i.sendCmd("RenameT --tool_id=".concat(n," --tool_name=").concat(t))}},"\u4fee\u6539"))),o.a.createElement(Bn.a,{lg:14,className:"".concat(c,"-hints-container")},ga[n.state.calibMethod])),"UserInput"===n.state.calibMethod&&o.a.createElement(At.a,null,n.renderUserInput(c)),"UserInput"!==n.state.calibMethod&&o.a.createElement(At.a,null,n.renderTable(c)),"UserInput"!==n.state.calibMethod&&o.a.createElement(At.a,null,n.renderResult(c)),o.a.createElement(At.a,null,n.renderSaveResult(c)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Wt);Ea.propTypes={endPE:Mt.a.array,result:Mt.a.object,toolIds:Mt.a.array};var ya=Object(Ue.a)(rt,Ye,mt,function(e,t,n){return{endPE:e,result:t,toolIds:n}});var Ca=Object(i.b)(function(e,t){return ya(e,t)},{deleteResultByChannel:ie})(Ea);Ca.NAME="\u5de5\u5177\u5750\u6807\u7cfb\u6807\u5b9a";var Pa=Ca,ja=Un.a.Option,Fa=An.a.Group,Ra=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).calibMethods={CalibZF:"\u65e0\u8d1f\u8f7d\u9996\u6b21\u6807\u5b9a",CalibZO:"\u5de5\u5177\u8d1f\u8f7d\u96f6\u4f4d\u504f\u79fb\u91cf\u6807\u5b9a",CalibZL:"\u5916\u90e8\u8d1f\u8f7d\u7684\u96f6\u70b9\u6807\u5b9a"},n.state={calibMethod:"CalibZF",toolId:0,toolName:"",pes:[],showCalibResult:!1},n.handleSelectToolId=function(e){n.setState({toolId:e,pes:[],showCalibResult:!1})},n.handleSelectCalibMethod=function(e){n.setState({calibMethod:e.target.value,showCalibResult:!1})},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.toolIds,s=r.deleteResultByChannel,u=a.state,d=u.toolId,p=u.calibMethod,f=t("zero-calib",l);return o.a.createElement("div",{className:"".concat(f)},o.a.createElement(At.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Fa,{onChange:n.handleSelectCalibMethod,value:p,className:"".concat(f,"-options")},Object.keys(a.calibMethods).map(function(e){return o.a.createElement(An.a,{key:e,value:e},a.calibMethods[e])})))),"CalibZF"!==p&&o.a.createElement(At.a,null,o.a.createElement(Bn.a,{className:"".concat(f,"-select")},o.a.createElement(Un.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177",onChange:a.handleSelectToolId,value:d},i.map(function(e){return o.a.createElement(ja,{value:e,key:e},"\u5de5\u5177",e)})),o.a.createElement("span",null,"tool_",d))),o.a.createElement(At.a,null,o.a.createElement(Bn.a,{className:"".concat(f,"-buttons")},[0,1,2].map(function(e){return o.a.createElement(At.a,{key:e},o.a.createElement(Ut.a,{type:"primary",onClick:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.sendCmd("".concat(p," --axis_id=").concat(2*e),c.i):a.sendCmd("".concat(p," --axis_id=").concat(2*e," --tool_id=").concat(d),c.i)},onMouseDown:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e),c.i)():a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e," --tool_id=").concat(d),c.i)()},onMouseUp:function(){a.getOnMouseUpFn()()},onMouseOut:function(){a.getOnMouseUpFn()()}},"\u6821\u6b63A",2*e+1),o.a.createElement(Ut.a,{type:"primary",onClick:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.sendCmd("".concat(p," --axis_id=").concat(2*e+1),c.i):a.sendCmd("".concat(p," --axis_id=").concat(2*e+1," --tool_id=").concat(d),c.i)},onMouseDown:function(){s(c.i),a.setState({showCalibResult:!0}),"CalibZF"===p?a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e+1),c.i)():a.getOnMouseDownFn("".concat(p," --axis_id=").concat(2*e+1," --tool_id=").concat(d),c.i)()},onMouseUp:function(){a.getOnMouseUpFn()()},onMouseOut:function(){a.getOnMouseUpFn()()}},"\u6821\u6b63A",2*e+2))}))),o.a.createElement(At.a,null,n.renderResult(f)))},n.renderResult=function(e){var t=n.state.showCalibResult,a=n.props.result;if(!t||!a)return null;var r=["cmd_response_time","id"];return 0!==a.return_code?o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-calib-result success")},o.a.createElement("div",null,"\u6807\u5b9a\u6210\u529f"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Wt);Ra.propTypes={toolIds:Mt.a.array.isRequired,result:Mt.a.object};var Sa=Object(Ue.a)(mt,Ye,function(e,t){return{toolIds:e,result:t}});var wa=Object(i.b)(function(e,t){return Sa(e,t)},{deleteResultByChannel:ie})(Ra);wa.NAME="\u96f6\u70b9\u6807\u5b9a";var xa=wa,_a=(jn.a.Search,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).name="\u6574\u673a\u52a8\u529b\u5b66\u6807\u5b9a",n.state={motionPos:[0,0,0,0,0,0,0,0,0,0,0,0],showCalibResult:!1,showSaveResult:!1},n.handleInsert=function(e,t){var a=Object(b.a)(n.state.motionPos);a[e]=Math.floor(t/Math.PI*180),n.setState({motionPos:a,showCalibResult:!1,showSaveResult:!1})},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.deleteResultByChannel,s=r.currentMotionPos,u=a.state.motionPos,d=t("motion-and-load-calib",l);return s?o.a.createElement("div",{className:"".concat(d)},[0,1,2,3,4,5].map(function(e){return o.a.createElement(At.a,{key:e,className:"".concat(d,"-buttons")},o.a.createElement("div",null,o.a.createElement("span",null," A",e+1,"+ "),o.a.createElement(Jn.a,{step:1,min:-360,max:360,size:"small",value:u[2*e],onChange:function(t){var a=Object(b.a)(n.state.motionPos);a[2*e]=t,n.setState({motionPos:a,showCalibResult:!1,showSaveResult:!1})}}),o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*e,s[e])}},"\u63d2\u5165")),o.a.createElement("div",null,o.a.createElement("span",null," A",e+1,"- "),o.a.createElement(Jn.a,{step:1,min:-360,max:360,size:"small",value:u[2*e+1],onChange:function(t){var a=Object(b.a)(n.state.motionPos);a[2*e+1]=t,n.setState({motionPos:a,showCalibResult:!1,showSaveResult:!1})}}),o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*e+1,s[e])}},"\u63d2\u5165")))}),o.a.createElement(At.a,{className:"".concat(d,"-calib-button")},o.a.createElement(Ut.a,{type:"primary",onClick:function(){a.setState({showCalibResult:!0,showSaveResult:!1}),i(c.i);var e=a.state.motionPos,t=a.props.currentMotionVelPercent;a.sendCmd("JointDyna --A1P=".concat(e[0]/180*Math.PI," --A1N=").concat(e[1]/180*Math.PI," --A2P=").concat(e[2]/180*Math.PI," --A2N=").concat(e[3]/180*Math.PI," --A3P=").concat(e[4]/180*Math.PI," --A3N=").concat(e[5]/180*Math.PI," --A4P=").concat(e[6]/180*Math.PI," --A4N=").concat(e[7]/180*Math.PI," --A5P=").concat(e[8]/180*Math.PI," --A5N=").concat(e[9]/180*Math.PI," --A6P=").concat(e[10]/180*Math.PI," --A6N=").concat(e[11]/180*Math.PI," --VEL=").concat(t))}},"\u5f00\u59cb\u6807\u5b9a")),o.a.createElement(At.a,null,n.renderResult(d)),o.a.createElement(At.a,null,n.renderSaveResult(d))):o.a.createElement("div",{className:"".concat(d," loading")},"motion pos \u8f7d\u5165\u4e2d...")},n.renderSaveResult=function(e){var t=n.state.showSaveResult,a=n.props.result;if(!t||!a)return null;var r=["cmd_response_time","id"];return 0!==a.return_code?o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u4fdd\u5b58\u9519\u8bef"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-calib-result success")},o.a.createElement("div",null,"\u4fdd\u5b58\u6210\u529f"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))}))},n.renderResult=function(e){var t=n.state.showCalibResult,a=n.props,r=a.result,l=a.deleteResultByChannel,c=a.cell,i=Object(m.a)(n);if(!t||!r)return null;var s=["cmd_response_time","id"];return 0===r.return_code&&r.link_param?o.a.createElement("div",{className:"".concat(e,"-calib-result success")},o.a.createElement("div",null,"\u6807\u5b9a\u6210\u529f"),Object.keys(r).map(function(e){return!!r[e]&&-1===s.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,r[e]))}),o.a.createElement(Ut.a,{type:"primary",onClick:function(){i.setState({showCalibResult:!1,showSaveResult:!0}),l(c.i);var e="JointDynaSave";r.link_param.forEach(function(t,n){e+=" --P".concat(n+1,"=").concat(t)}),i.sendCmd(e,c.i)}},"\u4fdd\u5b58")):o.a.createElement("div",{className:"".concat(e,"-calib-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),Object.keys(r).map(function(e){return!!r[e]&&-1===s.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,r[e]))}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Wt));_a.propTypes={toolIds:Mt.a.array.isRequired,result:Mt.a.object};var Ia=Object(Ue.a)(mt,Ye,lt,ht,function(e,t,n,a){return{toolIds:e,result:t,currentMotionPos:n,currentMotionVelPercent:a}});var Na=Object(i.b)(function(e,t){return Ia(e,t)},{deleteResultByChannel:ie})(_a);Na.NAME="\u6574\u673a\u52a8\u529b\u5b66\u6807\u5b9a";var Da=Na,Ta=(jn.a.Search,An.a.Group),Ma=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).name="\u672b\u7aef\u8d1f\u8f7d\u6807",n.state={motionPos:[0,0,0,0,0,0],input:[0,0,0,0,0,0,0,0,0,0],method:"input",showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1},n.inputLabels=["mass","cogx","cogy","cogz","ixx","iyy","izz","ixy","iyz","ixz"],n.updateInput=function(e,t){var a=Object(b.a)(n.state.input);a[e]=t,n.setState({input:a,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.updateMotionPos=function(e,t){var a=Object(b.a)(n.state.motionPos);a[e]=t,n.setState({motionPos:a,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.handleInsert=function(e,t){var a=Object(b.a)(n.state.motionPos);a[e]=Math.floor(t/Math.PI*180),n.setState({motionPos:a,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.handleSelectInputMethod=function(e){n.setState({method:e.target.value,showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1})},n.renderInput=function(e){var t=n.state,a=t.input,l=t.showInputSaveResult,c=Object(m.a)(n),i=c.props,s=i.deleteResultByChannel,u=i.cell;return o.a.createElement(r.Fragment,null,[0,1,2,3,4].map(function(t,r){return o.a.createElement(At.a,{key:t,className:"".concat(e,"-input")},o.a.createElement("div",null,o.a.createElement("span",null," ",n.inputLabels[2*t]," "),o.a.createElement(Jn.a,{step:1,min:-360,max:360,value:a[2*t],size:"small",onChange:function(e){c.updateInput(2*t,e)}})),o.a.createElement("div",null,o.a.createElement("span",null," ",n.inputLabels[2*t+1]," "),o.a.createElement(Jn.a,{step:1,min:-360,max:360,value:a[2*t+1],size:"small",onChange:function(e){c.updateInput(2*t+1,e)}})))}),o.a.createElement(At.a,{className:"".concat(e,"-calib-button")},o.a.createElement(Ut.a,{type:"primary",onClick:function(){c.setState({showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!0}),s(u.i);var e="LoadDynaSave1";a.forEach(function(t,n){e+=" --P".concat(n+1,"=").concat(t/180*Math.PI)}),c.sendCmd(e,u.i)}},"\u4fdd\u5b58")),l&&n.renderSaveResult(e))},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.deleteResultByChannel,s=r.currentMotionPos,u=a.state,d=u.motionPos,p=u.method,f=t("motion-and-load-calib",l);return s?o.a.createElement("div",{className:"".concat(f)},o.a.createElement(At.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Ta,{onChange:n.handleSelectInputMethod,value:p,className:"".concat(f,"-options")},o.a.createElement(An.a,{key:"calib",value:"calib"},"\u6807\u5b9a"),o.a.createElement(An.a,{key:"input",value:"input"},"\u8f93\u5165")))),"input"===p&&n.renderInput(f),"calib"===p&&o.a.createElement(At.a,{className:"".concat(f,"-title")},"\u8f93\u5165\u5173\u8282\u5141\u8fd0\u52a8\u8303\u56f4"),"calib"===p&&[3,5,6].map(function(e,t){return o.a.createElement(At.a,{key:e,className:"".concat(f,"-buttons")},o.a.createElement("div",null,o.a.createElement("span",null," A",e,"+ "),o.a.createElement(Jn.a,{step:1,min:-360,max:360,size:"small",value:d[2*t],onChange:function(e){n.updateMotionPos(2*t,e)}}),o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*t,s[e-1])}},"\u63d2\u5165")),o.a.createElement("div",null,o.a.createElement("span",null," A",e,"- "),o.a.createElement(Jn.a,{step:1,min:-360,max:360,size:"small",value:d[2*t+1],onChange:function(e){n.updateMotionPos(2*t+1,e)}}),o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:function(){n.handleInsert(2*t+1,s[e-1])}},"\u63d2\u5165")))}),"calib"===p&&o.a.createElement(At.a,{className:"".concat(f,"-calib-boxes")},o.a.createElement(Bn.a,null,o.a.createElement(Ut.a,{type:"primary",onClick:function(){a.setState({showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!0,showUnloadedSaveResult:!1,showInputSaveResult:!1}),i(c.i);var e=a.state.motionPos,t=a.props.currentMotionVelPercent;a.sendCmd("LoadDyna --A3P=".concat(e[0]/180*Math.PI," --A3N=").concat(e[1]/180*Math.PI," --A5P=").concat(e[2]/180*Math.PI," --A5N=").concat(e[3]/180*Math.PI," --A6P=").concat(e[4]/180*Math.PI," --A6N=").concat(e[5]/180*Math.PI," --VEL=").concat(t," --TYPE=1"))}},"\u65e0\u8d1f\u8f7d\u6807\u5b9a"),a.state.showUnloadedCalibResult&&a.renderResult(f,"LoadDynaSave0",{showLoadedCalibResult:!1,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!0,showInputSaveResult:!1}),a.state.showUnloadedSaveResult&&a.renderSaveResult(f)),o.a.createElement(Bn.a,null,o.a.createElement(Ut.a,{type:"primary",onClick:function(){a.setState({showLoadedCalibResult:!0,showLoadedSaveResult:!1,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1}),i(c.i);var e=a.state.motionPos,t=a.props.currentMotionVelPercent;a.sendCmd("LoadDyna --A3P=".concat(e[0]/180*Math.PI," --A3N=").concat(e[1]/180*Math.PI," --A5P=").concat(e[2]/180*Math.PI," --A5N=").concat(e[3]/180*Math.PI," --A6P=").concat(e[4]/180*Math.PI," --A6N=").concat(e[5]/180*Math.PI," --VEL=").concat(t," --TYPE=-1"))}},"\u8d1f\u8f7d\u6807\u5b9a"),a.state.showLoadedCalibResult&&a.renderResult(f,"LoadDynaSave1",{showLoadedCalibResult:!1,showLoadedSaveResult:!0,showUnloadedCalibResult:!1,showUnloadedSaveResult:!1,showInputSaveResult:!1}),a.state.showLoadedSaveResult&&a.renderSaveResult(f)))):o.a.createElement("div",{className:"".concat(f," loading")},"motion pos \u8f7d\u5165\u4e2d...")},n.renderSaveResult=function(e){var t=n.props.result;if(!t)return null;var a=["cmd_response_time","id"];return 0!==t.return_code?o.a.createElement("div",{className:"".concat(e,"-box-result error")},o.a.createElement("div",null,"\u4fdd\u5b58\u9519\u8bef"),Object.keys(t).map(function(e){return!!t[e]&&-1===a.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,t[e]))}),o.a.createElement("div",null)):o.a.createElement("div",{className:"".concat(e,"-box-result success")},o.a.createElement("div",null,"\u4fdd\u5b58\u6210\u529f"),Object.keys(t).map(function(e){return!!t[e]&&-1===a.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,t[e]))}),o.a.createElement("div",null))},n.renderResult=function(e,t,a){var r=Object(m.a)(n),l=["cmd_response_time","id"],c=r.props,i=c.result,s=c.cell,u=c.deleteResultByChannel;return i?0===i.return_code&&i.link_param?o.a.createElement("div",{className:"".concat(e,"-box-result success")},o.a.createElement("div",null,"\u6807\u5b9a\u6210\u529f"),Object.keys(i).map(function(e){return!!i[e]&&-1===l.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,i[e]))}),o.a.createElement("div",null,o.a.createElement(Ut.a,{type:"primary",onClick:function(){r.setState(a),u(s.i);var e=t;i.link_param.forEach(function(t,n){e+=" --P".concat(n+1,"=").concat(t)}),r.sendCmd(e,s.i)}},"\u4fdd\u5b58"))):o.a.createElement("div",{className:"".concat(e,"-box-result error")},o.a.createElement("div",null,"\u6807\u5b9a\u9519\u8bef"),Object.keys(i).map(function(e){return!!i[e]&&-1===l.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,i[e]))}),o.a.createElement("div",null)):null},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Wt);Ma.propTypes={toolIds:Mt.a.array.isRequired,result:Mt.a.object};var ka=Object(Ue.a)(mt,Ye,lt,ht,function(e,t,n,a){return{toolIds:e,result:t,currentMotionPos:n,currentMotionVelPercent:a}});var Aa=Object(i.b)(function(e,t){return ka(e,t)},{deleteResultByChannel:ie})(Ma);Aa.NAME="\u672b\u7aef\u8d1f\u8f7d\u6807\u5b9a";var La=Aa,Ua=n(542),Va=n.n(Ua),Ba=n(543),Wa=n.n(Ba);function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Ga=Un.a.Option,za=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).name="\u6784\u578b\u53c2\u6570\u914d",n.width=24,n.height=12,n.icon=function(e){return o.a.createElement(w.a,e)},n.state={type:"six_axes",inputs:{},showSaveResult:!1},n.handleSelectType=function(e){var t=n.props;(0,t.deleteResultByChannel)(t.cell.i),n.setState({type:e,inputs:{},showSaveResult:!1})},n.updateInput=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.state.inputs);a[e]=t,n.setState({inputs:a})},n.renderSixAxesInput=function(e){var t=n.state,a=t.inputs,l=t.showSaveResult,c=Object(m.a)(n),i=c.props,s=i.deleteResultByChannel,u=i.cell;return o.a.createElement(r.Fragment,null,["a1","a2","a3","d1","d3","d4","tool0"].map(function(t,n){return o.a.createElement(At.a,{key:t,className:"".concat(e,"-input")},o.a.createElement("span",null," ",t," "),o.a.createElement(Jn.a,{disabled:l,step:1,value:a[t],size:"small",onChange:function(e){c.updateInput(t,e)}}))}),o.a.createElement(At.a,{className:"".concat(e,"-save-button")},o.a.createElement(Ut.a,{type:"primary",disabled:l,onClick:function(){c.setState({showSaveResult:!0}),s(u.i);var e=c.state.inputs,t="setdh --six_axes";Object.keys(e).forEach(function(n){t+=" --".concat(n,"_six_axes=").concat(e[n]/1e3)}),c.sendCmd(t,u.i)}},"\u4fdd\u5b58")))},n.renderSevenAxesInput=function(e){var t=n.state,a=t.inputs,l=t.showSaveResult,c=Object(m.a)(n),i=c.props,s=i.deleteResultByChannel,u=i.cell;return o.a.createElement(r.Fragment,null,["d1","d3","d5","tool0"].map(function(t){return o.a.createElement(At.a,{key:t,className:"".concat(e,"-input")},o.a.createElement("span",null," ",t," "),o.a.createElement(Jn.a,{disabled:l,step:1,value:a[t],size:"small",onChange:function(e){c.updateInput(t,e)}}))}),o.a.createElement(At.a,{className:"".concat(e,"-save-button")},o.a.createElement(Ut.a,{type:"primary",disabled:l,onClick:function(){c.setState({showSaveResult:!0}),s(u.i);var e=c.state.inputs,t="setdh --seven_axes";Object.keys(e).forEach(function(n){t+=" --".concat(n,"_seven_axes=").concat(e[n]/1e3)}),c.sendCmd(t,u.i)}},"\u4fdd\u5b58")))},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=t("setdh",a.props.prefixCls),l=n.state,c=l.type,i=l.showSaveResult;return o.a.createElement("div",{className:"".concat(r)},o.a.createElement(At.a,null,o.a.createElement(Bn.a,{span:12},o.a.createElement(At.a,{className:"".concat(r,"-input")},o.a.createElement(Un.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177",onChange:a.handleSelectType,value:c},o.a.createElement(Ga,{value:"six_axes",key:"six_axes"},"\u516d\u8f74\u673a\u5668\u4eba"),o.a.createElement(Ga,{value:"seven_axes",key:"seven_axes"},"\u4e03\u8f74\u673a\u5668\u4eba"))),"six_axes"===c&&n.renderSixAxesInput(r),"seven_axes"===c&&n.renderSevenAxesInput(r)),o.a.createElement(Bn.a,{span:12,className:"".concat(r,"-bg"),style:{backgroundImage:"url(".concat("six_axes"===c?Va.a:Wa.a,")")}}),o.a.createElement(pn.a,{visible:i,title:"\u4fdd\u5b58",centered:!0,onCancel:function(){a.setState({showSaveResult:!1})},footer:[o.a.createElement(Ut.a,{key:"close",onClick:function(){a.setState({showSaveResult:!1})}},"\u5173\u95ed")]},n.renderResult(r))))},n.renderResult=function(e){var t=n.props,a=t.result,r=(t.deleteResultByChannel,t.cell,["cmd_response_time","id"]);return a?0===a.return_code&&a.link_param?o.a.createElement("div",{className:"".concat(e,"-result success")},o.a.createElement("div",null,"\u6210\u529f"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-result error")},o.a.createElement("div",null,"\u9519\u8bef"),Object.keys(a).map(function(e){return!!a[e]&&-1===r.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,a[e]))})):o.a.createElement("div",{className:"".concat(e,"-result info")},o.a.createElement("div",null,"\u4fdd\u5b58\u4e2d..."))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Wt);za.propTypes={result:Mt.a.object};var qa=Object(Ue.a)(Ye,function(e){return{result:e}});var Xa=Object(i.b)(function(e,t){return qa(e,t)},{deleteResultByChannel:ie})(za);Xa.NAME="\u6784\u578b\u53c2\u6570\u914d\u7f6e";var Qa=Xa,Ha=n(241),Za=n.n(Ha),Ya=Un.a.Option,Ka={labelCol:{span:4},wrapperCol:{span:8}},$a=Mn.a.Item,er=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.createRobotModel;n.props.form.validateFields(function(e,n){e||t(n)})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,n=(t.prefixCls,t.visible),a=t.creatingRobotModel,r=t.creatingRobotModelError,l=t.hideCreateRobotModelModal;return o.a.createElement(pn.a,{visible:n,title:"\u521b\u5efa\u673a\u5668\u4eba",onOk:this.handleSubmit,okText:"\u521b\u5efa",cancelText:"\u53d6\u6d88",onCancel:function(){l()},centered:!0},o.a.createElement(Mn.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement($a,Object.assign({},Ka,{label:"\u54c1\u724c"}),e("brand",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u5668\u4eba\u54c1\u724c!"}]})(o.a.createElement(jn.a,{placeholder:"Brand"}))),o.a.createElement($a,Object.assign({},Ka,{label:"\u578b\u53f7"}),e("model",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u5668\u4eba\u578b\u53f7!"}]})(o.a.createElement(jn.a,{placeholder:"Model"})))),!!a&&o.a.createElement("span",{className:"info"},"\u521b\u5efa\u4e2d..."),!!r&&o.a.createElement("span",{className:"error"},r))}}]),t}(r.Component),tr=Mn.a.create()(er),nr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).name="\u4e09\u7ef4\u6a21\u578b\u914d\u7f6e",n.state={showCalibResult:!1,showSaveResult:!1,brand:null,model:null,showCreateModal:!1},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.deleteResultByChannel,s=r.robotModels,u=r.robotModelPartUploadSuccess,d=r.deleteRobotModelPart,p=r.deleteRobotModel,f=r.creatingRobotModel,b=r.creatingRobotModelError,g=(r.creatingRobotModelResult,r.showCreateRobotModelModal),h=r.modalVisible,O=r.createRobotModel,v=r.selectCurrentRobotBrand,E=r.selectCurrentRobotModel,y=r.hideCreateRobotModelModal,C=r.model,P=r.brand,j=(a.state.motionPos,t("model-configuration",l));if(!s)return o.a.createElement("div",{className:"".concat(j," loading")},"\u53c2\u6570\u8f7d\u5165\u4e2d...");P&&s[P]||(P=Object.keys(s)[0]),P&&(C&&s[P][C]||(C=Object.keys(s[P])[0]));var F=[];return P&&C&&(F=Object.keys(s[P][C].parts).filter(function(e){return!s[P][C].parts[e]})),o.a.createElement("div",{className:j},!!s&&C&&P&&o.a.createElement(At.a,{className:"".concat(j,"-brand"),style:{marginBottom:20}},o.a.createElement("span",null,"\u673a\u5668\u4eba\u54c1\u724c"),o.a.createElement(Un.a,{size:"small",style:{width:200},placeholder:"\u9009\u62e9\u673a\u5668\u4eba\u54c1\u724c",onChange:function(e){n.setState({saving:!1}),i(c.i),v(e)},value:P},Object.keys(s).map(function(e){return o.a.createElement(Ya,{value:e,key:e},e)}))),!!s&&C&&P&&C&&!!s[P]&&o.a.createElement(At.a,{className:"".concat(j,"-model"),style:{marginBottom:20}},o.a.createElement("span",null,"\u673a\u5668\u4eba\u578b\u53f7"),o.a.createElement(Un.a,{size:"small",style:{width:200},placeholder:"\u9009\u62e9\u673a\u5668\u4eba\u578b\u53f7",onChange:function(e){n.setState({saving:!1}),i(c.i),E(e)},value:C},Object.keys(s[P]).map(function(e){return o.a.createElement(Ya,{value:e,key:e},e)})),o.a.createElement(Ut.a,{style:{marginLeft:10,marginBottom:20},size:"small",onClick:function(){n.setState({saving:!1}),i(c.i),p(P,C)}},"\u5220\u9664")),o.a.createElement(At.a,{className:"".concat(j,"-model")},o.a.createElement(Ut.a,{size:"small",onClick:function(){n.setState({saving:!1}),i(c.i),g()}},"\u6dfb\u52a0\u673a\u5668\u4eba"),o.a.createElement(tr,{visible:h,hideCreateRobotModelModal:y,centered:!0,createRobotModel:O,creatingRobotModel:f,creatingRobotModelError:b})),o.a.createElement(At.a,{className:"".concat(j,"-parts")},!!s&&!!s[P]&&!!s[P][C]&&!!s[P][C].parts&&Object.keys(s[P][C].parts).map(function(e){return s[P][C].parts[e]&&[].push({uid:"-1",name:s[P][C].parts[e],status:"done",url:""}),o.a.createElement(At.a,{className:"".concat(j,"-part ").concat(n.state.saving&&!s[P][C].parts[e]&&"error"),key:e},o.a.createElement("span",null,"PART ",e,":"),!!s[P][C].parts[e]&&o.a.createElement("span",{className:"".concat(j,"-part-file")},o.a.createElement(w.a,{type:"file-markdown"})," ",s[P][C].parts[e],o.a.createElement(w.a,{type:"close",className:"".concat(j,"-delete"),onClick:function(){d(P,C,e)}})),!s[P][C].parts[e]&&o.a.createElement(Za.a,{className:"".concat(j,"-part-upload"),multiple:!1,action:"/api/robots/".concat(P,"/").concat(C,"/parts/").concat(e),showUploadList:!1,onChange:function(e){var t=e.file;e.fileList,e.event;"done"===t.status&&u(t.response)}},o.a.createElement(Ut.a,null,o.a.createElement(w.a,{type:"upload"}),"\u4e0a\u4f20")))})),o.a.createElement(At.a,{className:"".concat(j,"-save")},o.a.createElement(Ut.a,{size:"large",type:"primary",onClick:function(){if(n.setState({saving:!0}),i(c.i),0===F.length){var e=s[P][C].parts,t=s[P][C].path;n.sendCmd("cs_stop");var a="setppath --file_path="+Object.keys(e).map(function(n){return"".concat(t,"/").concat(e[n])}).join(";");n.sendCmd(a),n.sendCmd("savexml")}}},"\u4fdd\u5b58"),n.state.saving&&F.length>0&&o.a.createElement("p",{className:"error"},"\u8bf7\u4e0a\u4f20\u673a\u5668\u4eba\u6a21\u578b  ",F.join(","))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.loadRobotModels()}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(Wt);nr.propTypes={result:Mt.a.object};var ar=Object(Ue.a)(Ye,function(e){return e.robot.robotModels},function(e){return e.robot.creatingRobotModel},function(e){return e.robot.creatingRobotModelError},function(e){return e.robot.creatingRobotModelResult},function(e){return e.robot.createRobotModelModalVisible},function(e){return e.robot.currentRobotBrand},function(e){return e.robot.currentRobotModel},function(e,t,n,a,r,o,l,c){return{robotModels:t,result:e,creatingRobotModel:n,creatingRobotModelError:a,creatingRobotModelResult:r,modalVisible:o,brand:l,model:c}});var rr=Object(i.b)(function(e,t){return ar(e,t)},{deleteResultByChannel:ie,loadRobotModels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return U(se,{requiredFields:e})},robotModelPartUploadSuccess:function(e){return U("ROBOT_MODEL_PART_UPLOAD_SUCCESS",{model:e})},deleteRobotModelPart:function(e,t,n){return U(de,{brand:e,model:t,part:n})},deleteRobotModel:function(e,t){return U(me,{brand:e,model:t})},createRobotModel:function(e){return U(be,{model:e})},showCreateRobotModelModal:function(){return U("SHOW_CREATE_ROBOT_MODEL_MODAL")},hideCreateRobotModelModal:function(){return U("HIDE_CREATE_ROBOT_MODEL_MODAL")},selectCurrentRobotBrand:function(e){return U("SELECT_CURRENT_ROBOT_BRAND",{brand:e})},selectCurrentRobotModel:function(e){return U("SELECT_CURRENT_ROBOT_MODEL",{model:e})}})(nr);rr.NAME="\u4e09\u7ef4\u6a21\u578b\u914d\u7f6e";var or=rr,lr=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filter,n=e.result;return t=t||[],o.a.createElement("div",this.props,Object.keys(n).map(function(e){return!!n[e]&&-1===t.indexOf(e)&&o.a.createElement("div",{key:e},o.a.createElement("span",null,e),":",o.a.createElement("span",null,n[e]))}))}}]),t}(r.Component),cr=function e(){Object(s.a)(this,e),this.toXML=function(){throw"toXML not implemented"},this.toJSON=function(){throw"toJSON not implemented"}};cr.FromXML=function(e){throw"FromXML not implemented"},cr.FromJSON=function(e){throw"FromJSON not implemented"},cr.GetNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return JSON.parse(e)}catch(n){return t}},cr.GetDegreeNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return JSON.parse(e)/Math.PI*180}catch(n){return t}},cr.ToRadian=function(e){return e/180*Math.PI},cr.ToXMLAttrString=function(e,t){return t||0===t?"".concat(e,'="').concat(t,'"'):""};var ir=cr,sr=function(e){function t(e,n,a,r){var o;return Object(s.a)(this,t),(o=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<PdoEntry ".concat(t.ToXMLAttrString("name",o.name)," ").concat(t.ToXMLAttrString("index",o.index),"  ").concat(t.ToXMLAttrString("subindex",o.subIndex)," ").concat(t.ToXMLAttrString("size",o.size)," />")},o.toJSON=function(){return{name:o.name,index:o.index,subIndex:o.subIndex,size:o.size}},o.name=e,o.index=n,o.subIndex=a,o.size=r,o}return Object(f.a)(t,e),t}(ir);sr.FromXML=function(e){return new sr(e.getAttribute("name"),e.getAttribute("index"),e.getAttribute("subindex"),e.getAttribute("size"))},sr.FromJSON=function(e){var t=e.name,n=e.index,a=e.subIndex,r=e.size;return new sr(t,n,a,r)};var ur=sr,dr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<Pdo ".concat(t.ToXMLAttrString("name",r.name)," ").concat(t.ToXMLAttrString("index",r.index),">").concat(r.entries?r.entries.map(function(e){return e.toXML()}).join(""):"","</Pdo>")},r.toJSON=function(){return{name:r.name,index:r.index,entries:r.entries&&r.entries.map(function(e){return e.toJSON()})}},r.index=e,r.name=n,r.entries=a,r}return Object(f.a)(t,e),t}(ir);dr.FromXML=function(e){return new dr(e.getAttribute("index"),e.getAttribute("name"),Object(b.a)(e.getElementsByTagName("PdoEntry")).filter(function(e){return 1===e.nodeType}).map(ur.FromXML))},dr.FromJSON=function(e){var t=e.index,n=e.name,a=e.entries;return new dr(t,n,a&&a.map(ur.FromJSON))};var pr=dr,mr=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<SyncManager ".concat(t.ToXMLAttrString("is_tx",a.isTx),">").concat(a.pdoes?a.pdoes.map(function(e){return e.toXML()}).join(""):"","</SyncManager>")},a.toJSON=function(){return{isTx:a.isTx,pdoes:a.pdoes&&a.pdoes.map(function(e){return e.toJSON()})}},a.isTx=e,a.pdoes=n,a}return Object(f.a)(t,e),t}(ir);mr.FromXML=function(e){return new mr(e.getAttribute("is_tx"),Object(b.a)(e.getElementsByTagName("Pdo")).filter(function(e){return 1===e.nodeType}).map(pr.FromXML))},mr.FromJSON=function(e){var t=e.isTx,n=e.pdoes;return new mr(t,n&&n.map(pr.FromJSON))};var fr=mr,br=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<SyncManagerPoolObject>".concat(n.syncManagers?n.syncManagers.map(function(e){return e.toXML()}).join(""):"","</SyncManagerPoolObject>")},n.toJSON=function(){return{syncManagers:n.syncManagers&&n.syncManagers.map(function(e){return e.toJSON()})}},n.syncManagers=e,n}return Object(f.a)(t,e),t}(ir);br.FromXML=function(e){return new br(Object(b.a)(e.getElementsByTagName("SyncManager")).filter(function(e){return 1===e.nodeType}).map(fr.FromXML))},br.FromJSON=function(e){var t=e.syncManagers;return new br(t&&t.map(fr.FromJSON))};var gr=br,hr=function(e){function t(e,n,a,r,o,l,c){var i;Object(s.a)(this,t),(i=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<EthercatSlave ".concat(t.ToXMLAttrString("phy_id",i.phyId)," ").concat(t.ToXMLAttrString("vendor_id",i.vendorId)," ").concat(t.ToXMLAttrString("product_code",i.productCode)," ").concat(t.ToXMLAttrString("revision_num",i.revisionNum)," ").concat(t.ToXMLAttrString("dc_assign_activate",i.dcAssignActivate),"> ").concat(i.syncManagerPoolObjects?i.syncManagerPoolObjects.map(function(e){return e.toXML()}).join(""):"","</EthercatSlave>")},i.toJSON=function(){return{uuid:i.uuid,isMotion:!1,phyId:i.phyId,vendorId:i.vendorId,productCode:i.productCode,revisionNum:i.revisionNum,dcAssignActivate:i.dcAssignActivate,syncManagerPoolObjects:i.syncManagerPoolObjects&&i.syncManagerPoolObjects.map(function(e){return e.toJSON()})}},i.uuid=e;try{i.phyId=JSON.parse(n)}catch(u){console.log(n),i.phyId=0}return i.vendorId=i.vendorId,i.productCode=i.productCode,i.revisionNum=o,i.dcAssignActivate=l,i.syncManagerPoolObjects=c,i}return Object(f.a)(t,e),t}(ir);hr.FromXML=function(e){return new hr(Math.random().toString(36),e.getAttribute("phy_id"),e.getAttribute("vendor_id"),e.getAttribute("product_code"),e.getAttribute("revision_num"),e.getAttribute("dc_assign_activate"),Object(b.a)(e.getElementsByTagName("SyncManagerPoolObject")).filter(function(e){return 1===e.nodeType}).map(gr.FromXML))},hr.FromJSON=function(e){var t=e.uuid,n=e.phyId,a=e.vendorId,r=e.productCode,o=e.revisionNum,l=e.dcAssignActivate,c=e.syncManagerPoolObjects;return new hr(t||Math.random().toString(36),n,a,r,o,l,c&&c.map(gr.FromJSON))};var Or=hr,vr=function(e){function t(e,n,a,r,o,l,c,i,u,m,f,b,g,h,O,v,E,y){var C;return Object(s.a)(this,t),(C=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<EthercatMotion ".concat(t.ToXMLAttrString("phy_id",C.phyId)," ").concat(t.ToXMLAttrString("vendor_id",C.vendorId)," ").concat(t.ToXMLAttrString("product_code",C.productCode)," ").concat(t.ToXMLAttrString("revision_num",C.revisionNum)," ").concat(t.ToXMLAttrString("dc_assign_activate",C.dcAssignActivate)," ").concat(t.ToXMLAttrString("max_pos",t.ToRadian(C.maxPos))," ").concat(t.ToXMLAttrString("min_pos",t.ToRadian(C.minPos)),"  ").concat(t.ToXMLAttrString("max_vel",t.ToRadian(C.maxVel))," ").concat(t.ToXMLAttrString("min_vel",t.ToRadian(C.minVel))," ").concat(t.ToXMLAttrString("max_acc",t.ToRadian(C.maxAcc))," ").concat(t.ToXMLAttrString("min_acc",t.ToRadian(C.minAcc))," ").concat(t.ToXMLAttrString("max_pos_following_error",C.maxPosFollowingError)," ").concat(t.ToXMLAttrString("max_vel_following_error",C.maxVelFollowingError)," ").concat(t.ToXMLAttrString("pos_factor",C.posFactor)," ").concat(t.ToXMLAttrString("pos_offset",t.ToRadian(C.posOffset))," ").concat(t.ToXMLAttrString("home_pos",t.ToRadian(C.homePos))," >").concat(C.syncManagerPoolObjects?C.syncManagerPoolObjects.map(function(e){return e.toXML()}).join(""):"","</EthercatMotion>")},C.toJSON=function(){return{uuid:C.uuid,isMotion:!0,phyId:C.phyId,vendorId:C.vendorId,productCode:C.productCode,revisionNum:C.revisionNum,dcAssignActivate:C.dcAssignActivate,maxPos:C.maxPos,minPos:C.minPos,maxVel:C.maxVel,minVel:C.minVel,maxAcc:C.maxAcc,minAcc:C.minAcc,maxPosFollowingError:C.maxPosFollowingError,maxVelFollowingError:C.maxVelFollowingError,posFactor:C.posFactor,posOffset:C.posOffset,homePos:C.homePos,syncManagerPoolObjects:C.syncManagerPoolObjects&&C.syncManagerPoolObjects.map(function(e){return e.toJSON()})}},C.uuid=e,C.phyId=n,C.vendorId=a,C.productCode=r,C.revisionNum=o,C.dcAssignActivate=l,C.maxPos=c,C.minPos=i,C.maxVel=u,C.minVel=m,C.maxAcc=f,C.minAcc=b,C.maxPosFollowingError=g,C.maxVelFollowingError=h,C.posFactor=O,C.posOffset=v,C.homePos=E,C.syncManagerPoolObjects=y,C}return Object(f.a)(t,e),t}(ir);vr.FromXML=function(e){var t=vr.GetNumber(e.getAttribute("phy_id")),n=e.getAttribute("vendor_id"),a=e.getAttribute("product_code"),r=e.getAttribute("revision_num"),o=e.getAttribute("dc_assign_activate"),l=vr.GetDegreeNumber(e.getAttribute("max_pos")),c=vr.GetDegreeNumber(e.getAttribute("min_pos")),i=vr.GetDegreeNumber(e.getAttribute("max_vel")),s=vr.GetDegreeNumber(e.getAttribute("min_vel")),u=vr.GetDegreeNumber(e.getAttribute("max_acc")),d=vr.GetDegreeNumber(e.getAttribute("min_acc")),p=vr.GetNumber(e.getAttribute("max_pos_following_error")),m=vr.GetNumber(e.getAttribute("max_vel_following_error")),f=vr.GetNumber(e.getAttribute("pos_factor")),g=vr.GetDegreeNumber(e.getAttribute("pos_offset")),h=vr.GetDegreeNumber(e.getAttribute("home_pos"));return new vr(Math.random().toString(36),t,n,a,r,o,l,c,i,s,u,d,p,m,f,g,h,Object(b.a)(e.getElementsByTagName("SyncManagerPoolObject")).filter(function(e){return 1===e.nodeType}).map(gr.FromXML))},vr.FromJSON=function(e){var t=e.uuid,n=e.phyId,a=e.vendorId,r=e.productCode,o=e.revisionNum,l=e.dcAssignActivate,c=e.maxPos,i=e.minPos,s=e.maxVel,u=e.minVel,d=e.maxAcc,p=e.minAcc,m=e.maxPosFollowingError,f=e.maxVelFollowingError,b=e.posFactor,g=e.posOffset,h=e.homePos,O=e.syncManagerPoolObjects;return new vr(t||Math.random().toString(36),n,a,r,o,l,c,i,s,u,d,p,m,f,b,g,h,O&&O.map(gr.FromJSON))};var Er=vr,yr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<SlavePoolObject ".concat(t.ToXMLAttrString("name",r.name),">").concat(r.slaves?r.slaves.map(function(e){return e.toXML()}).join(""):"").concat(r.motions?r.motions.map(function(e){return e.toXML()}).join(""):"","</SlavePoolObject>")},r.toJSON=function(){return{name:r.name,slaves:r.slaves&&r.slaves.map(function(e){return e.toJSON()}),motions:r.motions&&r.motions.map(function(e){return e.toJSON()})}},r.name=e,r.slaves=n,r.motions=a,r}return Object(f.a)(t,e),t}(ir);yr.FromXML=function(e){return new yr(e.getAttribute("name"),Object(b.a)(e.getElementsByTagName("EthercatSlave")).filter(function(e){return 1===e.nodeType}).map(Or.FromXML),Object(b.a)(e.getElementsByTagName("EthercatMotion")).filter(function(e){return 1===e.nodeType}).map(Er.FromXML))},yr.FromJSON=function(e){var t=e.name,n=e.slaves,a=e.motions;return new yr(t,n&&n.map(Or.FromJSON),a&&a.map(Er.FromJSON))};var Cr=yr,Pr=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<EthercatController ".concat(t.ToXMLAttrString("name",a.name),">").concat(a.slavePoolObjects?a.slavePoolObjects.map(function(e){return e.toXML()}).join(""):"","</EthercatController>")},a.toJSON=function(){return{name:a.name,slavePoolObjects:a.slavePoolObjects&&a.slavePoolObjects.map(function(e){return e.toJSON()})}},a.name=e,a.slavePoolObjects=n,a}return Object(f.a)(t,e),t}(ir);Pr.FromXML=function(e){return new Pr(e.getAttribute("name"),Object(b.a)(e.getElementsByTagName("SlavePoolObject")).filter(function(e){return 1===e.nodeType}).map(Cr.FromXML))},Pr.FromJSON=function(e){var t=e.name,n=e.slavePoolObjects;return new Pr(t,n&&n.map(Cr.FromJSON))};var jr=Pr,Fr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<Device ".concat(t.ToXMLAttrString("Name",r.name)," ").concat(t.ToXMLAttrString("ProductCode",r.productCode)," ").concat(t.ToXMLAttrString("RevisionNo",r.revisionNo)," />")},r.toJSON=function(){return{name:r.name,productCode:r.productCode,revisionNo:r.revisionNo}},r.name=e,r.productCode=n,r.revisionNo=a,r}return Object(f.a)(t,e),t}(ir);Fr.FromXML=function(e){return new Fr(e.getAttribute("Name"),e.getAttribute("ProductCode"),e.getAttribute("RevisionNo"))},Fr.FromJSON=function(e){var t=e.name,n=e.productCode,a=e.revisionNo;return new Fr(t,n,a)};var Rr=Fr,Sr=function(e){function t(e,n,a){var r;return Object(s.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<Vendor ".concat(t.ToXMLAttrString("Id",r.id)," ").concat(t.ToXMLAttrString("Name",r.name),">").concat(r.devices&&r.devices.map(function(e){return e.toXML()}).join(""),"</Vendor>")},r.toJSON=function(){return{name:r.name,id:r.id,devices:r.devices&&r.devices.map(function(e){return e.toJSON()})}},r.id=e,r.name=n,r.devices=a,r}return Object(f.a)(t,e),t}(ir);Sr.FromXML=function(e){return new Sr(e.getAttribute("Id"),e.getAttribute("Name"),Object(b.a)(e.getElementsByTagName("Device")).map(Rr.FromXML))},Sr.FromJSON=function(e){var t=e.id,n=e.name,a=e.devices;return new Sr(t,n,a&&a.map(Rr.FromJSON))};var wr=Sr,xr=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).toXML=function(){return"<ethercat_master>".concat(n.vendors?n.vendors.map(function(e){return e.toXML()}).join(""):"","</ethercat_master>")},n.toJSON=function(){return{vendors:n.vendors&&n.vendors.map(function(e){return e.toJSON()})}},n.vendors=e,n}return Object(f.a)(t,e),t}(ir);xr.FromXML=function(e){return new xr(Object(b.a)(e.getElementsByTagName("Vendor")).map(wr.FromXML))},xr.FromJSON=function(e){var t=e.vendors;return new xr(t&&t.map(wr.FromJSON))};var _r=function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-setesipath")]},Ir=function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-scanslave")]},Nr=Object(Ue.a)(Ir,function(e){if(e&&e.controller_xml){var t=(new DOMParser).parseFromString(e.controller_xml,"text/xml").getElementsByTagName("EthercatController");if(t&&t[0])return jr.FromXML(t[0]).toJSON()}return null}),Dr=Object(Ue.a)(_r,function(e){if(e&&e.device_list_xml){var t=(new DOMParser).parseFromString(e.device_list_xml,"text/xml").getElementsByTagName("ethercat_master");if(t&&t[0])return xr.FromXML(t[0]).toJSON()}return null}),Tr=Object(Ue.a)(function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-pdolist-for-device")]},function(e){if(console.log("xxxx",e),e&&e.pdo_list_xml){var t=(new DOMParser).parseFromString(e.pdo_list_xml,"text/xml").getElementsByTagName("EthercatSlave");if(t&&t[0])return Or.FromXML(t[0]).toJSON()}return null}),Mr=Object(Ue.a)(function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-pdolist-for-slave")]},function(e){return console.log(e),e&&e.device_list_xml,null}),kr=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.sendCmd,a=e.cell,r=e.esiFileUploadRequest,l=e.esiFileUploadFailure,c=e.esiFileUploadSuccess,i=e.ws,s=e.esiPath,u=e.esiFileUploadingRequest,d=e.esiFileUploadingSuccess,p=e.esiFileUploadingFailure,m=e.setEsiPathResult,f=e.scanSlaveResult,b=e.deleteResultByChannel,g=e.slaves,h=e.addSlave,O=e.removeSlave,v=e.selectSlave,E=e.selectedSlave;return o.a.createElement("div",{className:"".concat(t,"-sidebar")},o.a.createElement(At.a,{className:"".concat(t,"-buttons")},o.a.createElement(Za.a,{className:"".concat(t,"-esi-upload"),accept:".xml",multiple:!1,action:"/api/esi",disabled:!i,showUploadList:!1,onChange:function(e){var t=e.file;e.fileList,e.event;"uploading"===t.status?(b("".concat(a.i,"-setesipath")),b("".concat(a.i,"-scanslave")),r()):"done"===t.status?(c(t.response.path),n("cs_stop","".concat(a.i,"-stop")),n("setesipath --path=".concat(s),"".concat(a.i,"-setesipath"))):"error"===t.status&&l(t.response.error)}},o.a.createElement(Ut.a,{disabled:!i},o.a.createElement(w.a,{type:"upload"}),"\u4e0a\u4f20ESI\u6587\u4ef6")),o.a.createElement(Ut.a,{className:"".concat(t,"-scanslave"),disabled:!i,onClick:function(){b("".concat(a.i,"-scanslave")),m&&!m.return_code||(n("cs_stop","".concat(a.i,"-stop")),n("setesipath --path=".concat(s),"".concat(a.i,"-setesipath"))),n("scanslave","".concat(a.i,"-scanslave"))}},o.a.createElement(w.a,{type:"monitor"}),"\u626b\u63cf\u4ece\u7ad9")),o.a.createElement(At.a,{className:"".concat(t,"-info")},!f&&!m&&u&&o.a.createElement("span",{className:"info"},"ESI\u6587\u4ef6\u4e0a\u4f20\u4e2d..."),!f&&!m&&d&&o.a.createElement("span",{className:"success"},"ESI\u6587\u4ef6\u4e0a\u4f20\u6210\u529f!"),!f&&!m&&p&&o.a.createElement("span",{className:"info"},"ESI\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25! ERROR:",p),!f&&!!m&&!!m.return_code&&o.a.createElement(lr,{className:"error",filter:["cmd_response_time","id"],result:m}),!f&&!!m&&!m.return_code&&o.a.createElement("span",{className:"success"},"setesipath \u6210\u529f!"),!!f&&!!f.return_code&&o.a.createElement(lr,{className:"error",filter:["cmd_response_time","id"],result:m}),!!f&&!f.return_code&&o.a.createElement("span",{className:"success"},"scanslave \u6210\u529f!")),!!g&&o.a.createElement(At.a,{className:"".concat(t,"-slaves-list")},Object.keys(g).map(function(e){return o.a.createElement("div",{key:e,className:"".concat(E===e?"".concat(t,"-selected-slave"):""," ").concat(t,"-slaves-list-item"),onClick:function(){v(e)}},g[e].isMotion?"\u7535\u673a":"\u4ece\u7ad9",g[e].phyId,o.a.createElement(Ut.a,{size:"small",onClick:function(t){t.preventDefault(),t.stopPropagation(),O(e)}},"\u5220\u9664"))}),o.a.createElement(At.a,{className:"".concat(t,"-add-slave")},o.a.createElement(Ut.a,{onClick:h},"\u6dfb\u52a0\u4ece\u7ad9"))))}}]),t}(r.Component),Ar=Object(Ue.a)(function(e){return e.robot.esiPath},Ft,_r,Ir,Nr,function(e){return e.robot.esiFileUploadingRequest},function(e){return e.robot.esiFileUploadingSuccess},function(e){return e.robot.esiFileUploadingFailure},Dr,function(e,t,n,a,r,o,l,c,i){return console.log(r,i),{esiPath:e,ws:t,setEsiPathResult:n,scanSlaveResult:a,scanSlaveJsonResult:r,esiFileUploadingRequest:o,esiFileUploadingSuccess:l,esiFileUploadingFailure:c,setEsiPathJSONResult:i}});var Lr=Object(i.b)(function(e,t){return he.request(),Ar(e,t)},{esiFileUploadRequest:he.request,esiFileUploadFailure:he.failure,esiFileUploadSuccess:he.success,sendCmd:ce,deleteResultByChannel:ie})(kr),Ur=Un.a.Option,Vr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedVendor:null,selectedDevice:null},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=(e.sendCmd,e.cell,e.selectedVendor),a=(e.selectedDevice,e.selectDevice),r=e.selectVendor,l=this.props.vendors,c={size:"small",style:{width:200},placeholder:"\u9009\u62e9\u54c1\u724c",onChange:function(e){r(e)}};r&&r.id&&(c.value=r.id);var i={size:"small",style:{width:200},placeholder:"\u9009\u62e9\u578b\u53f7",onChange:function(e){a(e)}};return a&&a.name&&(i.value=a.name),o.a.createElement("div",{className:"".concat(t,"-header-bar")},l&&o.a.createElement(Un.a,c,l.map(function(e){return o.a.createElement(Ur,{value:e.id,key:e.id},e.name)})),l&&n&&n.devices&&o.a.createElement(Un.a,i,n.devices.map(function(e,t){return o.a.createElement(Ur,{value:e.name,key:t},e.name)})),o.a.createElement(Ut.a,{onClick:this.props.save,type:"primary"},"\u4fdd\u5b58"))}}]),t}(r.Component),Br=Object(Ue.a)(function(){},function(e){return{result:e}});var Wr=Object(i.b)(function(e,t){return Br(e,t)},{sendCmd:ce})(Vr),Jr=n(114),Gr=n.n(Jr);function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xr=Mn.a.Item,Qr={labelCol:{span:10},wrapperCol:{span:14}},Hr=function(e,t,n){"string"===typeof t&&t.match(/^(?:0[xX])?[0-9a-fA-F]+$/)?n():n("not hex")},Zr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).name="Ethercat\u4ece\u7ad9\u914d\u7f6e",n.width=24,n.height=24,n.state={selectedVendor:null,selectedDevice:null,selectedSlave:null},n.addSlave=function(){var e=qr({},n.state.slaves);if(!fn()(e)){var t=Math.max.apply(Math,Object(b.a)(Object.keys(e).map(function(t){return e[t].phyId})))+1,a=qr({},e[0],{phyId:t,uuid:Math.random().toString(36)});delete a.syncManagerPoolObjects,e[a.uuid]=a,n.setState({slaves:e,saveError:null})}},n.selectSlave=function(e){var t=n.state.slaves;if(t[e]){var a=t[e],r=a.vendorId,o=a.productCode,l=a.revisionNum;r&&o&&l&&n.getEsiPdoListForDevice(r,o,l),n.setState({selectedSlave:e,saveError:null})}else n.setState({selectedSlave:null,saveError:null})},n.selectVendor=function(e){var t=n.state.vendors;n.setState({selectedVendor:t.filter(function(t){return t.id===e})[0],selectedDevice:null,saveError:null})},n.selectDevice=function(e){var t=n.state.selectedVendor;if(t){var a=t.devices.filter(function(t){return t.name===e})[0];if(n.setState({selectedDevice:a,saveError:null}),a){var r=t.id,o=a.productCode,l=a.revisionNo;r&&o&&l&&n.getEsiPdoListForDevice(r,o,l)}}},n.removeSlave=function(e){var t=qr({},n.state.slaves);fn()(t)||(delete t[e],n.setState({slaves:t,saveError:null}))},n.addPdo=function(e){var t=qr({},n.state.slaves),a=n.state.selectedSlave,r=qr({},t[a]);r.syncManagerPoolObjects=Object(b.a)(r.syncManagerPoolObjects||[]),r.syncManagerPoolObjects[0].syncManagers=Object(b.a)(r.syncManagerPoolObjects[0].syncManagers||[]),r.syncManagerPoolObjects[0].syncManagers[e]=qr({},r.syncManagerPoolObjects[0].syncManagers[e]||{}),r.syncManagerPoolObjects[0].syncManagers[e].pdoes=[].concat(Object(b.a)(r.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),[{}]),t[a]=r,r.rnd=Math.random(),n.setState({slaves:t,saveError:null})},n.removePdo=function(e,t){var a=qr({},n.state.slaves),r=n.state.selectedSlave,o=qr({},a[r]);o.syncManagerPoolObjects=Object(b.a)(o.syncManagerPoolObjects||[]),o.syncManagerPoolObjects[0].syncManagers=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers||[]),o.syncManagerPoolObjects[0].syncManagers[e]=qr({},o.syncManagerPoolObjects[0].syncManagers[e]||{}),o.syncManagerPoolObjects[0].syncManagers[e].pdoes=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),o.syncManagerPoolObjects[0].syncManagers[e].pdoes.splice(t,1),a[r]=o,o.rnd=Math.random(),n.setState({slaves:a,saveError:null})},n.addPdoEntry=function(e,t){var a=qr({},n.state.slaves),r=n.state.selectedSlave,o=qr({},a[r]);o.syncManagerPoolObjects=Object(b.a)(o.syncManagerPoolObjects||[]),o.syncManagerPoolObjects[0].syncManagers=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers||{}),o.syncManagerPoolObjects[0].syncManagers[e]=qr({},o.syncManagerPoolObjects[0].syncManagers[e]||{}),o.syncManagerPoolObjects[0].syncManagers[e].pdoes=Object(b.a)(o.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]=qr({},o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]||{}),o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries=[].concat(Object(b.a)(o.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries||[]),[{}]),a[r]=o,o.rnd=Math.random(),n.setState({slaves:a,saveError:null})},n.removePdoEntry=function(e,t,a){var r=qr({},n.state.slaves),o=n.state.selectedSlave,l=qr({},r[o]);l.syncManagerPoolObjects=Object(b.a)(l.syncManagerPoolObjects||[]),l.syncManagerPoolObjects[0].syncManagers=Object(b.a)(l.syncManagerPoolObjects[0].syncManagers||{}),l.syncManagerPoolObjects[0].syncManagers[e]=qr({},l.syncManagerPoolObjects[0].syncManagers[e]||{}),l.syncManagerPoolObjects[0].syncManagers[e].pdoes=Object(b.a)(l.syncManagerPoolObjects[0].syncManagers[e].pdoes||[]),l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]=qr({},l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t]||{}),l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries=Object(b.a)(l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries||[]),l.syncManagerPoolObjects[0].syncManagers[e].pdoes[t].entries.splice(a,1),r[o]=l,l.rnd=Math.random(),n.setState({slaves:r,saveError:null})},n.renderSlaveInputs=function(e,t){return o.a.createElement(At.a,null,[["name","name",t.name,[]],["vendorId","vendor id",t.vendorId,[{validator:Hr,message:"Please input hex"}]],["productCode","productCode",t.productCode,[{validator:Hr,message:"Please input hex"}]],["phyId","physical id",t.phyId,[{type:"integer",message:"Please input integer"}]],["revisionNum","revision No.",t.revisionNum,[{validator:Hr,message:"Please input hex"}]],["dcAssignActivate","dc assign activate",t.dcAssignActivate,[{validator:Hr,message:"Please input hex"}]]].map(function(t){var a;return(a=n).renderFormItemInput.apply(a,[e].concat(Object(b.a)(t),[7,!0]))}))},n.renderMotionInputs=function(e,t){return o.a.createElement(r.Fragment,null,n.renderSlaveInputs(e,t),o.a.createElement(At.a,null,[["maxPos","max pos",t.maxPos,7,!0,.01,"\u5ea6",-360,360],["maxVel","max vel",t.maxVel,7,!0,.01,"\u5ea6/s",-360,360],["maxAcc","max acc",t.maxAcc,7,!0,.01,"\u5ea6/s2",-360,360],["minPos","min pos",t.minPos,7,!0,.01,"\u5ea6",-360,360],["minVel","min vel",t.minVel,7,!0,.01,"\u5ea6/s",-360,360],["minAcc","min acc",t.minAcc,7,!0,.01,"\u5ea6/s2",-360,360],["posFactor","pos factor",t.posFactor,7,!0,.01,"",-Number.MAX_VALUE,Number.MAX_VALUE],["posOffset","pos offset",t.posOffset,7,!0,.01,"\u5ea6",-360,360],["homePos","home pos",t.homePos,7,!0,.01,"\u5ea6",-360,360],["maxPosFollowingError","max pos following error",t.maxPosFollowingError,11,!0,1e-4,"",-Number.MAX_VALUE,Number.MAX_VALUE],["maxVelFollowingError","max vel following error",t.maxVelFollowingError,11,!0,1e-4,"",-Number.MAX_VALUE,Number.MAX_VALUE]].map(function(t){var a;return(a=n).renderFormItemNumberInput.apply(a,[e].concat(Object(b.a)(t)))})))},n.renderPdoEntry=function(e,t,a,r,l){var c=n.props.form.getFieldDecorator,i={name:[],index:[{validator:Hr,message:"Please input hex"}],subIndex:[{validator:Hr,message:"Please input hex"}],size:[{type:"integer",message:"Please input integer",transform:function(e){return Number(e)?Number(e):0}}]};return o.a.createElement(At.a,{key:l,className:"".concat(e,"-sync-manager-pdo-entry")},o.a.createElement(Bn.a,{span:4},"PDO Entry"),["name","index","subIndex","size"].map(function(e){return o.a.createElement(Bn.a,{key:e,span:4},o.a.createElement(Xr,{hasFeedback:!0},c("slave.syncManagerPoolObjects[0].syncManagers[".concat(a,"].pdoes[").concat(r,"].entries[").concat(l,"].").concat(e),{initialValue:t[e],rules:[].concat(Object(b.a)(i[e]),[{required:!0,message:"Please input ".concat(e)}])})(o.a.createElement(jn.a,{placeholder:"".concat(e),size:"small"}))))}),o.a.createElement(Bn.a,{span:4},o.a.createElement(Ut.a,{size:"small",type:"danger",onClick:function(){n.removePdoEntry(a,r,l)}},"DEL")))},n.renderPdo=function(e,t,a,r){var l=n.props.form.getFieldDecorator,c={name:[],index:[{validator:Hr,message:"Please input hex"}]};return o.a.createElement("div",{className:"".concat(e,"-sync-manager-pdo"),key:r},o.a.createElement(At.a,{className:"".concat(e,"-sync-manager-pdo-header")},o.a.createElement(Bn.a,{span:2},"Pdo ",r+1),["name","index"].map(function(e){return o.a.createElement(Bn.a,{span:6,key:e},o.a.createElement(Xr,Object.assign({},Qr,{label:e,hasFeedback:!0}),l("slave.syncManagerPoolObjects[0].syncManagers[".concat(a,"].pdoes[").concat(r,"].").concat(e),{initialValue:t[e],rules:[].concat(Object(b.a)(c[e]),[{required:!0,message:"Please input ".concat(e)}])})(o.a.createElement(jn.a,{placeholder:"".concat(e),size:"small"}))))}),o.a.createElement(Bn.a,{span:8,offset:2,className:"".concat(e,"-sync-manager-pdo-delete")},o.a.createElement(Xr,null,o.a.createElement(Ut.a,{size:"small",type:"danger",onClick:function(){n.removePdo(a,r)}},"DEL")))),o.a.createElement("div",{className:"".concat(e,"-sync-manager-pdo-entries")},o.a.createElement(At.a,{className:"".concat(e,"-sync-manager-pdo-entries-header")},o.a.createElement(Bn.a,{span:4}),["name","index","subIndex","size"].map(function(e){return o.a.createElement(Bn.a,{key:e,span:4},e)})),!!t.entries&&t.entries.map(function(t,o){return n.renderPdoEntry(e,t,a,r,o)}),o.a.createElement(At.a,{className:"".concat(e,"-sync-manager-pdo-entries-add")},o.a.createElement(Bn.a,{span:20},o.a.createElement(Xr,null,o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:function(){n.addPdoEntry(a,r)}},"Add Pdo Entry"))))))},n.renderSyncManager=function(e,t,a){var r=n.props.form.getFieldDecorator;return o.a.createElement("div",{className:"".concat(e,"-sync-manager"),key:a},o.a.createElement(At.a,{className:"".concat(e,"-sync-manager-header")},"Sync Manager ",a+1,r("slave.syncManagerPoolObjects[0].syncManagers[".concat(a,"].isTx"),{initialValue:!!t.isTx})(o.a.createElement(Gr.a,null,"is_tx")),o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:n.addPdo.bind(Object(m.a)(n),a)},"Add PDO")),o.a.createElement("div",{className:"".concat(e,"-sync-manager-pdoes")},!!t.pdoes&&t.pdoes.map(function(t,r){return n.renderPdo(e,t,a,r)})))},n.renderForm=function(e){var t=n.state,a=t.slaves,r=t.selectedSlave,l=a[r];return o.a.createElement(Mn.a,null,!!l.isMotion&&n.renderMotionInputs(e,l),!l.isMotion&&n.renderSlaveInputs(e,l),o.a.createElement(At.a,{className:"".concat(e,"-is-motion")},o.a.createElement(Bn.a,{span:23},o.a.createElement(Gr.a,{checked:l.isMotion,onChange:function(e){(a=qr({},a))[r]=qr({},l,{isMotion:e.target.checked}),n.setState({slaves:a,saveError:null})}},"isMotion"))),!!l&&l.syncManagerPoolObjects&&l.syncManagerPoolObjects[0]&&l.syncManagerPoolObjects[0].syncManagers&&l.syncManagerPoolObjects[0].syncManagers.map(function(t,a){return n.renderSyncManager(e,t,a)}))},n.save=function(e){e.preventDefault();var t=Object(m.a)(n),a=n.props,r=a.sendCmd,o=a.cell,l=a.deleteResultByChannel;n.props.form.validateFields(function(e,a){var c=a.slave;if(e)t.setState({saveError:"\u8bf7\u4fee\u6b63\u4e0d\u5408\u7406\u7684\u8f93\u5165\u5185\u5bb9\uff01"});else{var i=n.state,s=i.slaves,u=i.selectedSlave,d=s[u];s[u]=qr({syncManagerPoolObjects:[{syncManagers:[{},{},{},{}]}]},c,{uuid:d.uuid,isMotion:d.isMotion});var p={name:"slave_pool",motions:[],slaves:[]};Object.keys(s).map(function(e){var t=s[e];t.isMotion?p.motions.push(t):p.slaves.push(t)});var m={name:"ethercat_controller",slavePoolObjects:[p]},f=jr.FromJSON(m);n.setState({saveError:null}),l("".concat(o.i,"-save")),r("set_xml --xml={<ControlServer>".concat(f.toXML(),"</ControlServer>}"),"".concat(o.i,"-save"))}})},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.saveResult,i=n.state,s=i.slaves,u=i.selectedSlave,d=i.vendors,p=i.selectedVendor,m=i.selectedDevice,f=i.saveError,b=t("ethercat-configuration",r);return o.a.createElement("div",{className:b},o.a.createElement(Lr,{prefixCls:b,slaves:s,addSlave:n.addSlave,removeSlave:n.removeSlave,selectSlave:n.selectSlave,selectedSlave:u,getEsiPdoList:n.getEsiPdoListForSlave,cell:l}),!!s&&!!u&&!!s[u]&&o.a.createElement("div",{className:"".concat(b,"-content"),onSubmit:function(){}},o.a.createElement(Wr,{cell:l,vendors:d,prefixCls:b,selectDevice:n.selectDevice,selectVendor:n.selectVendor,selectedVendor:p,selectedDevice:m,save:n.save,getEsiPdoList:n.getEsiPdoListForDevice}),o.a.createElement(At.a,{className:"".concat(b,"-error")},f&&o.a.createElement("div",{className:"error"},f),c&&0!==c.return_code&&o.a.createElement(lr,{result:c,className:"error"})),n.renderForm(b)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getEsiPdoListForDevice",value:function(e,t,n){var a=this.props,r=a.deleteResultByChannel,o=a.sendCmd,l=a.cell;r("".concat(l.i,"-pdolist")),o("getesipdolist --vendor_id=".concat(e," --product_code=").concat(t," --revision_num=").concat(n),"".concat(l.i,"-pdolist-for-device"))}},{key:"getEsiPdoListForSlave",value:function(e,t,n){var a=this.props,r=a.deleteResultByChannel,o=a.sendCmd,l=a.cell;r("".concat(l.i,"-pdolist")),o("getesipdolist --vendor_id=".concat(e," --product_code=").concat(t," --revision_num=").concat(n),"".concat(l.i,"-pdolist-for-slave"))}},{key:"shouldComponentUpdate",value:function(e,t,n){if(Xe()(e.ethercatMaster,this.props.ethercatMaster)||e.ethercatMaster&&e.ethercatMaster.vendors&&this.setState({vendors:e.ethercatMaster.vendors,saveError:null}),!Xe()(e.ethercatController,this.props.ethercatController)){if(e.ethercatController&&e.ethercatController.slavePoolObjects&&e.ethercatController.slavePoolObjects[0]){var a={};e.ethercatController.slavePoolObjects[0].motions&&e.ethercatController.slavePoolObjects[0].motions.forEach(function(e){a[e.uuid]=e}),e.ethercatController.slavePoolObjects[0].slaves&&e.ethercatController.slavePoolObjects[0].slaves.forEach(function(e){a[e.uuid]=e}),this.setState({slaves:a,saveError:null})}return!1}var r=this.state,o=r.selectedSlave,l=r.slaves;return!(!Xe()(e.pdoListForDevice,this.props.pdoListForDevice)&&!fn()(e.pdoListForDevice)&&o&&l&&l[o])||((l=qr({},l))[o]=qr({},e.pdoListForDevice,{phyId:l[this.state.selectedSlave].phyId,uuid:o}),this.setState({slaves:l,saveError:null}),!1)}},{key:"componentWillMount",value:function(){this.props.loadEsiPath()}},{key:"renderFormItemInput",value:function(e,t,n,a,r,l,c){var i=this.props.form.getFieldDecorator;return o.a.createElement(Bn.a,{span:l||7,offset:1,pull:1,key:t},o.a.createElement(Xr,Object.assign({},Qr,{label:n,hasFeedback:!0}),i("slave.".concat(t),{initialValue:a,rules:[{required:!!c,message:"Please input ".concat(n)}]})(o.a.createElement(jn.a,{placeholder:"".concat(n),size:"small"}))))}},{key:"renderFormItemNumberInput",value:function(e,t,n,a,r,l,c,i,s,u){var d=this.props.form.getFieldDecorator;return o.a.createElement(Bn.a,{span:r||7,offset:1,pull:1,key:t},o.a.createElement(Xr,Object.assign({},Qr,{label:n,hasFeedback:!0}),d("slave.".concat(t),{initialValue:a,rules:[{required:!!l,message:"Please input ".concat(n)}]})(o.a.createElement(Jn.a,{size:"small",step:c||.01,min:s||-360,max:u||360,placeholder:"".concat(n)})),!!i&&o.a.createElement("span",{className:"".concat(e,"-form-postfix")},i)))}}]),t}(Wt),Yr=Object(Ue.a)(Dr,Nr,Tr,Mr,function(e,t){var n=t.cell;return e.robot.resultsByChannel["".concat(n.i,"-save")]},function(e,t,n,a,r){return{ethercatMaster:e,ethercatController:t,pdoListForDevice:n,pdoListForSlave:a,saveResult:r}});var Kr=Object(i.b)(function(e,t){return Yr(e,t)},{loadEsiPath:function(){return U(Oe)},deleteResultByChannel:ie})(Mn.a.create({mapPropsToFields:function(e){return function e(t){return Object.keys(t).reduce(function(n,a){return qr({},n,Object(g.a)({},a,"object"!==typeof t[a]||"value"in t[a]?Mn.a.createFormField(qr({},t[a],{value:t[a]&&t[a].value})):ze()(t[a])?t[a].map(function(t){return e(t)}):e(t[a])))},{})}({slave:e.slave})},onValuesChange:function(e,t){}})(Zr));Kr.NAME="\u4ece\u7ad9\u914d\u7f6e";var $r=Kr,eo=n(330),to=n.n(eo),no=n(2),ao=n.n(no),ro=function(e){return/^[a-zA-Z][a-zA-Z0-9_]*$/.test(e)?e:"error"},oo=[["int","int"],["string","string"],["boolen","boolen"],["double","double"],["int[][]","array"]];ao.a.Blocks.base_variate={init:function(){var e=new ao.a.FieldDropdown(oo,this.validate);this.appendDummyInput().appendField(new ao.a.FieldLabelSerializable("VAR"),"NAME").appendField(e,"DROPDOWN1"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")},validate:function(e){return this.getSourceBlock().updateConnections(e),e},updateConnections:function(e){this.removeInput("other",!0),this.removeInput("array1",!0);var t=new ao.a.FieldTextInput("p1",ro);"int"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new ao.a.FieldTextInput("result"),"RESULT"):"string"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new ao.a.FieldTextInput("result"),"RESULT"):"boolen"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new ao.a.FieldTextInput("result"),"RESULT"):"double"==e?this.appendDummyInput("other").appendField(t,"INPUT1").appendField("=").appendField(new ao.a.FieldTextInput("result"),"RESULT"):"array"==e&&this.appendDummyInput("array1").appendField(t,"INPUT1").appendField(new ao.a.FieldTextInput("p2"),"INPUT2").appendField("=").appendField(new ao.a.FieldTextInput("result"),"RESULT")}},ao.a.Blocks.load_variate={init:function(){this.appendDummyInput().appendField("VAR load","FIRST_FIELD").appendField(new ao.a.FieldTextInput("piece1",ro),"VARIABLE").appendField("=").appendField("{").appendField(new ao.a.FieldTextInput("mass"),"MASS").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("cogx"),"COGX").appendField(",").appendField(new ao.a.FieldTextInput("cogy"),"COGY").appendField(",").appendField(new ao.a.FieldTextInput("cogz"),"COGZ").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new ao.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new ao.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new ao.a.FieldTextInput("q4"),"Q4").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("ix"),"IX").appendField(new ao.a.FieldTextInput("iy"),"IY").appendField(new ao.a.FieldTextInput("iz"),"IZ").appendField("}").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.pose_variate={init:function(){this.appendDummyInput().appendField("VAR pose","FIRST_FIELD").appendField(new ao.a.FieldTextInput("pose1",ro),"POST1").appendField("=").appendField("{{").appendField(new ao.a.FieldTextInput("x"),"X").appendField(",").appendField(new ao.a.FieldTextInput("y"),"Y").appendField(",").appendField(new ao.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new ao.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new ao.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new ao.a.FieldTextInput("q4"),"Q4").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.jointtarget_variate={init:function(){this.appendDummyInput().appendField("VAR jointtarget","FIRST_FIELD").appendField(new ao.a.FieldTextInput("home",ro),"HOME").appendField("=").appendField("{{").appendField(new ao.a.FieldTextInput("J1"),"J1").appendField(",").appendField(new ao.a.FieldTextInput("J2"),"J2").appendField(",").appendField(new ao.a.FieldTextInput("J3"),"J3").appendField(",").appendField(new ao.a.FieldTextInput("J4"),"J4").appendField(",").appendField(new ao.a.FieldTextInput("J5"),"J5").appendField(",").appendField(new ao.a.FieldTextInput("J6"),"J6").appendField("}").appendField("{").appendField(new ao.a.FieldTextInput("EJ"),"EJ").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.robtarget_variate={init:function(){this.appendDummyInput().appendField("VAR robtarget","FIRST_FIELD").appendField(new ao.a.FieldTextInput("pB1",ro),"INPUT1").appendField("=").appendField("{{").appendField(new ao.a.FieldTextInput("x"),"X").appendField(",").appendField(new ao.a.FieldTextInput("y"),"Y").appendField(",").appendField(new ao.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new ao.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new ao.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new ao.a.FieldTextInput("q4"),"Q4").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.speed_variate={init:function(){this.appendDummyInput().appendField("VAR speed","first_field").appendField(new ao.a.FieldTextInput("v1"),"V1").appendField("=").appendField("{").appendField(new ao.a.FieldTextInput("ter"),"TER").appendField(",").appendField(new ao.a.FieldTextInput("tcp"),"TCP").appendField(",").appendField(new ao.a.FieldTextInput("ori"),"ORI").appendField(",").appendField(new ao.a.FieldTextInput("exj_r"),"EXJ_R").appendField(",").appendField(new ao.a.FieldTextInput("exj_l"),"EXJ_L").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.zone_variate={init:function(){this.appendDummyInput().appendField("VAR zone","FIRST_FIELD").appendField(new ao.a.FieldTextInput("z100",ro),"INPUT1").appendField("=").appendField("{").appendField(new ao.a.FieldTextInput("dis"),"DIS").appendField(",").appendField(new ao.a.FieldTextInput("per"),"PER").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.tool_variate={init:function(){this.appendDummyInput().appendField("VAR tool","FIRST_FIELD").appendField(new ao.a.FieldTextInput("tool2",ro),"INPUT1").appendField("=").appendField("{").appendField(new ao.a.FieldDropdown([["true","true"],["false","false"]]),"CHOOSE").appendField(",").appendField("{{").appendField(new ao.a.FieldTextInput("x"),"X").appendField(",").appendField(new ao.a.FieldTextInput("y"),"Y").appendField(",").appendField(new ao.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("q1"),"A1").appendField(",").appendField(new ao.a.FieldTextInput("q2"),"A2").appendField(",").appendField(new ao.a.FieldTextInput("q3"),"A3").appendField(",").appendField(new ao.a.FieldTextInput("q4"),"A4").appendField("}}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("mass"),"MASS").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("cogx"),"COGX").appendField(",").appendField(new ao.a.FieldTextInput("cogy"),"XOGY").appendField(",").appendField(new ao.a.FieldTextInput("cogz"),"COGZ").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new ao.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new ao.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new ao.a.FieldTextInput("q4"),"Q4").appendField("}").appendField(",").appendField(new ao.a.FieldTextInput("ix"),"IX").appendField(",").appendField(new ao.a.FieldTextInput("iy"),"IY").appendField(",").appendField(new ao.a.FieldTextInput("iz"),"IZ").appendField("}}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.wobj_variate={init:function(){this.appendDummyInput().appendField("VAR wobj","FIRST_FIELD").appendField(new ao.a.FieldTextInput("wobj2",ro),"VALUE").appendField("=").appendField("{").appendField(new ao.a.FieldDropdown([["FALSE","FALSE"],["TRUE","TRUE"]]),"DropDown1").appendField(",").appendField(new ao.a.FieldDropdown([["TRUE","TRUE"],["FALSE","FALSE"]]),"DropDown2").appendField(",").appendField(new ao.a.FieldTextInput('"robot"'),"name_string").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("x"),"X").appendField(",").appendField(new ao.a.FieldTextInput("y"),"Y").appendField(",").appendField(new ao.a.FieldTextInput("z"),"Z").appendField("}").appendField(",").appendField("{").appendField(new ao.a.FieldTextInput("q1"),"Q1").appendField(",").appendField(new ao.a.FieldTextInput("q2"),"Q2").appendField(",").appendField(new ao.a.FieldTextInput("q3"),"Q3").appendField(",").appendField(new ao.a.FieldTextInput("q4"),"Q4").appendField("}").appendField(",").appendField(new ao.a.FieldTextInput("id"),"ID").appendField("}"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.robotcontrol_movel={updateEndPQ:function(e){var t=this;[0,1,2,3,4,5,6].forEach(function(n){return t.setFieldValue(e[n].toFixed(6),"END_PQ".concat(n))}),this.workspace&&this.workspace.render()},isEndPQEmpty:function(){var e=this;return 7===[0,1,2,3,4,5,6].filter(function(t){return e.getFieldValue("END_PQ".concat(t))===1/0}).length},init:function(){var e=[1/0,1/0,1/0,1/0,1/0,1/0,1/0];this.workspace&&this.workspace.endPQ&&(e=this.workspace.endPQ.map(function(e){return e.toFixed(6)})),this.appendValueInput("END_PQ_INPUT").setCheck(null).appendField("MoveL --pq=").appendField(new ao.a.FieldNumber(e[0]),"END_PQ0").appendField(new ao.a.FieldNumber(e[1]),"END_PQ1").appendField(new ao.a.FieldNumber(e[2]),"END_PQ2").appendField(new ao.a.FieldNumber(e[3]),"END_PQ3").appendField(new ao.a.FieldNumber(e[4]),"END_PQ4").appendField(new ao.a.FieldNumber(e[5]),"END_PQ5").appendField(new ao.a.FieldNumber(e[6]),"END_PQ6"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip("Move L"),this.setHelpUrl("")}},ao.a.Blocks.robotcontrol_movej={updateEndPQ:function(e){var t=this;[0,1,2,3,4,5,6].forEach(function(n){return t.setFieldValue(e[n].toFixed(6),"END_PQ".concat(n))}),this.workspace&&this.workspace.render()},isEndPQEmpty:function(){var e=this;return 7===[0,1,2,3,4,5,6].filter(function(t){return e.getFieldValue("END_PQ".concat(t))===1/0}).length},init:function(){var e=[1/0,1/0,1/0,1/0,1/0,1/0,1/0];this.workspace&&this.workspace.endPQ&&(e=this.workspace.endPQ.map(function(e){return e.toFixed(3)})),this.appendValueInput("END_PQ_INPUT").setCheck(null).appendField("MoveJ --pq=").appendField(new ao.a.FieldNumber(e[0]),"END_PQ0").appendField(new ao.a.FieldNumber(e[1]),"END_PQ1").appendField(new ao.a.FieldNumber(e[2]),"END_PQ2").appendField(new ao.a.FieldNumber(e[3]),"END_PQ3").appendField(new ao.a.FieldNumber(e[4]),"END_PQ4").appendField(new ao.a.FieldNumber(e[5]),"END_PQ5").appendField(new ao.a.FieldNumber(e[6]),"END_PQ6"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip("Move J"),this.setHelpUrl("")}},ao.a.Blocks.math_function={init:function(){this.appendDummyInput().appendField(new ao.a.FieldDropdown([["sin","SIN"],["cos","COS"],["tan","TAN"],["cot","COT"],["asin","ASIN"],["atan","ATAN"],["atan2","ATAN2"],["acot","ACOT"],["abs","ABS"],["exp","EXP"],["sqrt","SQRT"]]),"DROPDOWN1").appendField(new ao.a.FieldTextInput("default"),"INPUT1"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.while={init:function(){this.appendDummyInput().appendField("while"),this.appendValueInput("value1").setCheck(null),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.wait={init:function(){this.appendDummyInput().appendField("wait").appendField(new ao.a.FieldTextInput("0"),"NUM"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.pause={init:function(){this.appendDummyInput().appendField("pause"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.wait_until={init:function(){this.appendDummyInput().appendField("WaitUntil"),this.appendValueInput("NAME").setCheck(null),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.setdo={init:function(){this.appendDummyInput().appendField("SetDO").appendField(new ao.a.FieldTextInput("default"),"INPUT1").appendField(new ao.a.FieldDropdown([["True","TRUE"],["False","FALSE"]]),"DROPDOWN1"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.movej={init:function(){this.appendDummyInput().appendField("MoveJ").appendField(new ao.a.FieldDropdown([["ToPoint","TOPOINT"]]),"DROPDOWN1").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN2").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField("[").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.moveabsj={init:function(){this.appendDummyInput().appendField("MoveabsJ").appendField(new ao.a.FieldDropdown([["ToJointPos","ToJointPos"],["option","OPTIONNAME"],["option","OPTIONNAME"]]),"DROPDOWN1").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN2").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField("[").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.movel={init:function(){this.appendDummyInput().appendField("MoveL").appendField(new ao.a.FieldDropdown([["ToPoint","ToPoint"]]),"DROPDOWN1").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN2").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField("[").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.movec={init:function(){this.appendDummyInput().appendField("MoveC").appendField(new ao.a.FieldDropdown([["AuxPoint","AuxPoint"]]),"DROPDOWN1").appendField(",").appendField(new ao.a.FieldDropdown([["ToPoint","ToPoint"]]),"DROPDOWN2").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN3").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN4").appendField(",").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN5").appendField(",").appendField("[").appendField(new ao.a.FieldDropdown([["null","null"]]),"DROPDOWN6").appendField("]"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.else={init:function(){this.appendDummyInput().appendField("else"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.if={init:function(){this.appendDummyInput().appendField("if"),this.appendValueInput("input1").setCheck(null),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.end_if={init:function(){this.appendDummyInput().appendField("endif"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.end_while={init:function(){this.appendDummyInput().appendField("endwhile"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.simple_arithmetic={init:function(){this.appendDummyInput().appendField(new ao.a.FieldTextInput("value1"),"VALUE1").appendField(new ao.a.FieldDropdown([["+","sum"],["-","subtract"],["*","multiply"],["/","div"]]),"NAME").appendField(new ao.a.FieldTextInput("value2"),"VALUE2"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.fcpressp={init:function(){this.appendDummyInput().appendField("FCPressP").appendField("=").appendField("{").appendField(new ao.a.FieldTextInput("p1"),"P1").appendField(new ao.a.FieldTextInput("p2"),"P2").appendField(new ao.a.FieldTextInput("p3"),"P3").appendField(new ao.a.FieldTextInput("p4"),"P4").appendField(new ao.a.FieldTextInput("p5"),"P5").appendField(",").appendField(new ao.a.FieldTextInput("Force"),"FORCE").appendField(new ao.a.FieldTextInput("Tool"),"TOOL").appendField(new ao.a.FieldTextInput("Wobj"),"WOBJ").appendField("}"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.fcpressl={init:function(){this.appendDummyInput().appendField("FCPressL").appendField(new ao.a.FieldTextInput("Force"),"FORCE").appendField(new ao.a.FieldTextInput("Tool"),"TOOL").appendField(new ao.a.FieldTextInput("Wobj"),"WOBJ"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.fcpresss={init:function(){this.appendDummyInput().appendField("FCPressS").appendField(new ao.a.FieldTextInput("Force"),"FORCE").appendField(new ao.a.FieldTextInput("Tool"),"TOOL").appendField(new ao.a.FieldTextInput("Wobj"),"WOBJ"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.fcpresss={init:function(){this.appendDummyInput().appendField("FCPressS").appendField(new ao.a.FieldTextInput("Force"),"FORCE").appendField(new ao.a.FieldTextInput("Tool"),"TOOL").appendField(new ao.a.FieldTextInput("Wobj"),"WOBJ"),this.setColour(230),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Blocks.controls_if_self={init:function(){this.appendValueInput("IF0").setCheck("Boolean").appendField("if"),this.appendStatementInput("DO0").setCheck(null).appendField("do"),this.appendDummyInput().appendField("end_if"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ao.a.Robot=new ao.a.Generator("Robot"),ao.a.Robot.addReservedWords("Blockly,Robot"),ao.a.Robot.ORDER_ATOMIC=0,ao.a.Robot.ORDER_NEW=1.1,ao.a.Robot.ORDER_MEMBER=1.2,ao.a.Robot.ORDER_FUNCTION_CALL=2,ao.a.Robot.ORDER_INCREMENT=3,ao.a.Robot.ORDER_DECREMENT=3,ao.a.Robot.ORDER_BITWISE_NOT=4.1,ao.a.Robot.ORDER_UNARY_PLUS=4.2,ao.a.Robot.ORDER_UNARY_NEGATION=4.3,ao.a.Robot.ORDER_LOGICAL_NOT=4.4,ao.a.Robot.ORDER_TYPEOF=4.5,ao.a.Robot.ORDER_VOID=4.6,ao.a.Robot.ORDER_DELETE=4.7,ao.a.Robot.ORDER_AWAIT=4.8,ao.a.Robot.ORDER_EXPONENTIATION=5,ao.a.Robot.ORDER_MULTIPLICATION=5.1,ao.a.Robot.ORDER_DIVISION=5.2,ao.a.Robot.ORDER_MODULUS=5.3,ao.a.Robot.ORDER_SUBTRACTION=6.1,ao.a.Robot.ORDER_ADDITION=6.2,ao.a.Robot.ORDER_BITWISE_SHIFT=7,ao.a.Robot.ORDER_RELATIONAL=8,ao.a.Robot.ORDER_IN=8,ao.a.Robot.ORDER_INSTANCEOF=8,ao.a.Robot.ORDER_EQUALITY=9,ao.a.Robot.ORDER_BITWISE_AND=10,ao.a.Robot.ORDER_BITWISE_XOR=11,ao.a.Robot.ORDER_BITWISE_OR=12,ao.a.Robot.ORDER_LOGICAL_AND=13,ao.a.Robot.ORDER_LOGICAL_OR=14,ao.a.Robot.ORDER_CONDITIONAL=15,ao.a.Robot.ORDER_ASSIGNMENT=16,ao.a.Robot.ORDER_YIELD=17,ao.a.Robot.ORDER_COMMA=18,ao.a.Robot.ORDER_NONE=99,ao.a.Robot.ORDER_OVERRIDES=[[ao.a.Robot.ORDER_FUNCTION_CALL,ao.a.Robot.ORDER_MEMBER],[ao.a.Robot.ORDER_FUNCTION_CALL,ao.a.Robot.ORDER_FUNCTION_CALL],[ao.a.Robot.ORDER_MEMBER,ao.a.Robot.ORDER_MEMBER],[ao.a.Robot.ORDER_MEMBER,ao.a.Robot.ORDER_FUNCTION_CALL],[ao.a.Robot.ORDER_LOGICAL_NOT,ao.a.Robot.ORDER_LOGICAL_NOT],[ao.a.Robot.ORDER_MULTIPLICATION,ao.a.Robot.ORDER_MULTIPLICATION],[ao.a.Robot.ORDER_ADDITION,ao.a.Robot.ORDER_ADDITION],[ao.a.Robot.ORDER_LOGICAL_AND,ao.a.Robot.ORDER_LOGICAL_AND],[ao.a.Robot.ORDER_LOGICAL_OR,ao.a.Robot.ORDER_LOGICAL_OR]],ao.a.Robot.init=function(e){ao.a.Robot.definitions_=Object.create(null),ao.a.Robot.functionNames_=Object.create(null),ao.a.Robot.letiableDB_?ao.a.Robot.letiableDB_.reset():ao.a.Robot.letiableDB_=new ao.a.Names(ao.a.Robot.RESERVED_WORDS_),ao.a.Robot.letiableDB_.setVariableMap(e.getVariableMap());for(var t=[],n=ao.a.Variables.allDeveloperVariables(e),a=0;a<n.length;a++)t.push(ao.a.Robot.letiableDB_.getName(n[a],ao.a.Names.DEVELOPER_VARIABLE_TYPE));for(var r=ao.a.Variables.allUsedVarModels(e),o=0;o<r.length;o++)t.push(ao.a.Robot.letiableDB_.getName(r[o].getId(),ao.a.Variables.NAME_TYPE));t.length&&(ao.a.Robot.definitions_.letiables="let "+t.join(", ")+";")},ao.a.Robot.finish=function(e){var t=[];for(var n in ao.a.Robot.definitions_)t.push(ao.a.Robot.definitions_[n]);return delete ao.a.Robot.definitions_,delete ao.a.Robot.functionNames_,ao.a.Robot.letiableDB_.reset(),t.join("\n\n")+"\n\n\n"+e},ao.a.Robot.scrubNakedValue=function(e){return e+";\n"},ao.a.Robot.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},ao.a.Robot.scrub_=function(e,t,n){var a="";if(!e.outputConnection||!e.outputConnection.targetConnection){var r=e.getCommentText();(r=ao.a.utils.string.wrap(r,ao.a.Robot.COMMENT_WRAP-3))&&(e.getProcedureDef?a+="/**\n"+ao.a.Robot.prefixLines(r+"\n"," * ")+" */\n":a+=ao.a.Robot.prefixLines(r+"\n","// "));for(var o=0;o<e.inputList.length;o++)if(e.inputList[o].type==ao.a.INPUT_VALUE){var l=e.inputList[o].connection.targetBlock();if(l){var c=ao.a.Robot.allNestedComments(l);c&&(a+=ao.a.Robot.prefixLines(c,"// "))}}}var i=e.nextConnection&&e.nextConnection.targetBlock(),s=n?"":ao.a.Robot.blockToCode(i);return"".concat(a).concat(a?"\n":"").concat(t).concat(t?"\n":"").concat(s)},ao.a.Robot.getAdjusted=function(e,t,n,a,r){var o=n||0,l=r||ao.a.Robot.ORDER_NONE;e.workspace.options.oneBasedIndex&&o--;var c=e.workspace.options.oneBasedIndex?"1":"0",i="";if(i=o>0?ao.a.Robot.valueToCode(e,t,ao.a.Robot.ORDER_ADDITION)||c:o<0?ao.a.Robot.valueToCode(e,t,ao.a.Robot.ORDER_SUBTRACTION)||c:a?ao.a.Robot.valueToCode(e,t,ao.a.Robot.ORDER_UNARY_NEGATION)||c:ao.a.Robot.valueToCode(e,t,l)||c,ao.a.isNumber(i))i=parseFloat(i)+o,a&&(i=-i);else{var s=null;o>0?(i=i+" + "+o,s=ao.a.Robot.ORDER_ADDITION):o<0&&(i=i+" - "+-o,s=ao.a.Robot.ORDER_SUBTRACTION),a&&(i=o?"-("+i+")":"-"+i,s=ao.a.Robot.ORDER_UNARY_NEGATION),s=Math.floor(s),l=Math.floor(l),s&&l>=s&&(i="("+i+")")}return i},ao.a.Robot.robotcontrol_movejr=function(e){var t="moveJR -m="+e.getFieldValue("M_SELECT")+" --pos="+e.getFieldValue("JOINT_ANGLE")/180*3.14*e.getFieldValue("DIR");return"".concat(e.id).concat(t)},ao.a.Robot.robotcontrol_movel=function(e){var t=[0,1,2,3,4,5,6].map(function(t){return e.getFieldValue("END_PQ".concat(t))}).join(",");return"".concat(e.id,"mvl --pq={").concat(t,"}")},ao.a.Robot.robotcontrol_movej=function(e){var t=[0,1,2,3,4,5,6].map(function(t){return e.getFieldValue("END_PQ".concat(t))}).join(",");return"".concat(e.id,"mvj --pq={").concat(t,"}")},ao.a.Robot.fcpressp=function(e){e.getFieldValue("P1"),e.getFieldValue("P2"),e.getFieldValue("P3"),e.getFieldValue("P4"),e.getFieldValue("P5"),e.getFieldValue("FORCE"),e.getFieldValue("TOOL"),e.getFieldValue("WOBJ");return"".concat(e.id).concat("FCPressP")},ao.a.Robot.fcpressl=function(e){e.getFieldValue("FORCE"),e.getFieldValue("TOOL"),e.getFieldValue("WOBJ");return"".concat(e.id).concat("FCPressL")},ao.a.Robot.fcpresss=function(e){e.getFieldValue("FORCE"),e.getFieldValue("TOOL"),e.getFieldValue("WOBJ");return"".concat(e.id).concat("FCPressS")},ao.a.Robot.math_function=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("INPUT1");return["...",ao.a.JavaScript.ORDER_NONE]},ao.a.Robot.while=function(e){ao.a.JavaScript.valueToCode(e,"VALUE1",ao.a.JavaScript.ORDER_ATOMIC);return"".concat(e.id).concat("while")},ao.a.Robot.wait=function(e){e.getFieldValue("NUM");return"".concat(e.id).concat("wait")},ao.a.Robot.pause=function(e){return"".concat(e.id).concat("pause")},ao.a.Robot.wait_until=function(e){ao.a.JavaScript.valueToCode(e,"NAME",ao.a.JavaScript.ORDER_ATOMIC);return"".concat(e.id).concat("wait_until")},ao.a.Robot.setdo=function(e){e.getFieldValue("INPUT1"),e.getFieldValue("DROPDOWN1");return"".concat(e.id).concat("")},ao.a.Robot.movej=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("DROPDOWN3"),e.getFieldValue("DROPDOWN4"),e.getFieldValue("DROPDOWN5");return"".concat(e.id).concat("...;\n")},ao.a.Robot.moveabsj=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("DROPDOWN3"),e.getFieldValue("DROPDOWN4"),e.getFieldValue("DROPDOWN5");return"".concat(e.id).concat("...;\n")},ao.a.Robot.movel=function(e){e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("DROPDOWN3"),e.getFieldValue("DROPDOWN4"),e.getFieldValue("DROPDOWN5");return"".concat(e.id).concat("...;\n")},ao.a.Robot.else=function(e){return"".concat(e.id).concat("...;\n")},ao.a.Robot.if=function(e){ao.a.JavaScript.valueToCode(e,"INPUT1",ao.a.JavaScript.ORDER_ATOMIC);return"".concat(e.id).concat("...;\n")},ao.a.Robot.end_if=function(e){return"".concat(e.id).concat("...;\n")},ao.a.Robot.end_while=function(e){return"".concat(e.id).concat("...;\n")},ao.a.Robot.simple_arithmetic=function(e){e.getFieldValue("VALUE1"),e.getFieldValue("NAME"),e.getFieldValue("VALUE2");return"".concat(e.id).concat("...;\n")},ao.a.Robot.base_variate=function(e){var t=e.getFieldValue("DROPDOWN1");if("array"==t){var n="VAR "+t+" "+e.getFieldValue("INPUT1")+" "+e.getFieldValue("INPUT2")+"="+e.getFieldValue("RESULT")+"\n";return"".concat(e.id).concat(n)}var a="VAR "+t+" "+e.getFieldValue("INPUT1")+"="+e.getFieldValue("RESULT")+"\n";return"".concat(e.id).concat(a)},ao.a.Robot.load_variate=function(e){var t="VAR load "+e.getFieldValue("VARIABLE")+"={"+e.getFieldValue("MASS")+",{"+e.getFieldValue("COGX")+","+e.getFieldValue("COGY")+","+e.getFieldValue("COGZ")+"},{"+e.getFieldValue("Q1")+","+e.getFieldValue("Q2")+","+e.getFieldValue("Q3")+","+e.getFieldValue("Q4")+"},{"+e.getFieldValue("IX")+","+e.getFieldValue("IY")+","+e.getFieldValue("IZ")+"\n";return"".concat(e.id).concat(t)},ao.a.Robot.pose_variate=function(e){var t="VAR pose "+e.getFieldValue("POSE1")+"={{"+e.getFieldValue("X")+","+e.getFieldValue("Y")+","+e.getFieldValue("Z")+"},{"+e.getFieldValue("Q1")+","+e.getFieldValue("Q2")+","+e.getFieldValue("Q3")+","+e.getFieldValue("Q4")+"}};\n";return"".concat(e.id).concat(t)},ao.a.Robot.jointtarget_variate=function(e){var t="VAR jointtarget "+e.getFieldValue("HOME")+"={{"+e.getFieldValue("J1")+","+e.getFieldValue("J2")+","+e.getFieldValue("J3")+","+e.getFieldValue("J4")+",text_j5,"+e.getFieldValue("J5")+","+e.getFieldValue("J6")+"}{"+e.getFieldValue("EJ")+"}};\n";return"".concat(e.id).concat(t)},ao.a.Robot.robtarget_variate=function(e){var t="VAR robtarget "+e.getFieldValue("INPUT1")+"={{"+e.getFieldValue("X")+","+e.getFieldValue("Y")+","+e.getFieldValue("Z")+"},{"+e.getFieldValue("Q1")+","+e.getFieldValue("Q2")+","+e.getFieldValue("Q3")+","+e.getFieldValue("Q4")+"}};\n";return"".concat(e.id).concat(t)},ao.a.Robot.speed_variate=function(e){var t="VAR speed "+e.getFieldValue("V1")+"={"+e.getFieldValue("TER")+","+e.getFieldValue("TCP")+","+e.getFieldValue("ORI")+","+e.getFieldValue("EXJ_R")+","+e.getFieldValue("EXJ_L")+"}\n";return"".concat(e.id).concat(t)},ao.a.Robot.zone_variate=function(e){var t="VAR zone "+e.getFieldValue("INPUT1")+"={"+e.getFieldValue("DIS")+","+e.getFieldValue("PER")+"};\n";return"".concat(e.id).concat(t)},ao.a.Robot.tool_variate=function(e){e.getFieldValue("INPUT1"),e.getFieldValue("CHOOSE"),e.getFieldValue("X"),e.getFieldValue("Y"),e.getFieldValue("Z"),e.getFieldValue("A1"),e.getFieldValue("A2"),e.getFieldValue("A3"),e.getFieldValue("A4"),e.getFieldValue("MASS"),e.getFieldValue("COGX"),e.getFieldValue("COGY"),e.getFieldValue("COGZ"),e.getFieldValue("Q1"),e.getFieldValue("Q2"),e.getFieldValue("Q3"),e.getFieldValue("Q4"),e.getFieldValue("IX"),e.getFieldValue("IY"),e.getFieldValue("IZ");return"".concat(e.id).concat("VAR tool ...;\n")},ao.a.Robot.wobj_variate=function(e){e.getFieldValue("VALUE"),e.getFieldValue("DROPDOWN1"),e.getFieldValue("DROPDOWN2"),e.getFieldValue("NAME_STRING"),e.getFieldValue("X"),e.getFieldValue("Y"),e.getFieldValue("Z"),e.getFieldValue("Q1"),e.getFieldValue("Q2"),e.getFieldValue("Q3"),e.getFieldValue("Q4"),e.getFieldValue("ID");return"".concat(e.id).concat("...;\n")};var lo=n(61),co=n.n(lo),io=n(333),so=n(194),uo=[{name:"\u57fa\u672c\u6307\u4ee4",blocks:[{type:"base_variate",fields:{NAME:"VAR",DROPDOWN1:"int",INPUT1:"p1",RESULT:"result"}}]},{name:"\u7ed3\u6784\u4f53\u53d8\u91cf",blocks:[{type:"load_variate",fields:{VARIABLE:"piece1",MASS:"mass",COGX:"cogx",COGY:"cogy",COGZ:"cogz",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4",IX:"ix",IY:"iy",IZ:"iz"}},{type:"pose_variate",fields:{pose1:"pose1",X:"x",Y:"y",Z:"z",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4"}},{type:"jointtarget_variate",fields:{HOME:"home",J1:"J1",J2:"J2",J3:"J3",J4:"J4",J5:"J5",J6:"J6",EJ:"EJ"}},{type:"robtarget_variate",fields:{INPUT1:"input1",X:"x",Y:"y",Z:"z",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4"}},{type:"speed_variate",fields:{V1:"v1",TER:"ter",TCP:"tcp",ORI:"ori",EXJ_R:"exj_r",EXJ_L:"exj_l"}},{type:"zone_variate",fields:{INPUT1:"z100",DIS:"dis",PER:"per"}},{type:"tool_variate",fields:{INPUT1:"tool2",CHOOSE:"true",X:"x",Y:"y",Z:"z",A1:"q1",A2:"q2",A3:"q3",A4:"q4",MASS:"mass",COGX:"cogx",COGY:"cogy",COGZ:"cogz",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4",IX:"ix",IY:"iy",IZ:"iz"}},{type:"wobj_variate",fields:{VALUE:"wobj2",DROPDOWN1:"FALSE",DROPDOWN2:"TRUE",NAME_STRING:"robot",X:"x",Y:"y",Z:"z",Q1:"q1",Q2:"q2",Q3:"q3",Q4:"q4",ID:"id"}}]}],po=[{name:"\u6570\u5b66\u6307\u4ee4",blocks:[{type:"math_function",fields:{FROPDOWN1:"sin",INPUT1:"default"}},{type:"simple_arithmetic",fields:{VALUE1:"value1",NAME:"sum",VALUE2:"value2"}}]},{name:"\u903b\u8f91\u6307\u4ee4",blocks:[{type:"controls_if_self"},{type:"while"},{type:"end_while"},{type:"wait",fields:{NUM:0}}]},{name:"IO\u6307\u4ee4",blocks:[{type:"wait_until"},{type:"setdo",fields:{INPUT1:"default",DROPDOWN1:"True"}}]},{name:"\u8fd0\u52a8\u6307\u4ee4",blocks:[{type:"moveabsj",fields:{DROPDOWN1:"ToJointPos",DROPDOWN2:"Speed",DROPDOWN3:"Zone",DROPDOWN4:"Tool",DROPDOWN5:"Wobj"}},{type:"movec",fields:{DROPDOWN1:"AuxPoint",DROPDOWN2:"ToPoint",DROPDOWN3:"Speed",DROPDOWN4:"Zone",DROPDOWN5:"Tool",DROPDOWN6:"Wobj"}},{type:"robotcontrol_movel",fields:{}},{type:"robotcontrol_movej",fields:{}}]},{name:"\u529b\u63a7\u6307\u4ee4",blocks:[{type:"fcpressp",fields:{NAME:"name",P1:"p1",P2:"p2",P3:"p3",P4:"p4",P5:"p5",DROPDOWN1:"Force",DROPDOWN2:"Tool",DROPDOWN5:"Wobj"}},{type:"fcpressl",fields:{FCPressL:"FCPressL",NAME:"name",DROPDOWN1:"Force",DROPDOWN2:"Tool",DROPDOWN3:"Wobj"}},{type:"fcpresss",fields:{FCPressS:"FCPressS",NAME:"name",DROPDOWN1:"Force",DROPDOWN2:"Tool",DROPDOWN3:"Wobj"}}]}];function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={variablesToolboxCategories:uo,programToolboxCategories:po,looping:!1},n.rowIdMap={},n.debug=function(){var e=n.props,t=e.sendCmd,a=e.cell,r=e.currentPlanId,o=r<=Object.keys(n.rowIdMap).length&&r>0;if(o)n.state.debugging&&o&&t("run --forward",a.i);else{n.setState({running:!1,debugging:!0,looping:!1}),n.rowIdMap={};var l=[];if(n.variablesWorkspace){var c=ao.a.Robot.workspaceToCode(n.variablesWorkspace);c&&""!==c.trim()&&c.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(l.push("".concat(l.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[l.length]=e.slice(0,20))})}if(n.programWorkspace){var i=ao.a.Robot.workspaceToCode(n.programWorkspace);i&&""!==i.trim()&&i.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(l.push("".concat(l.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[l.length]=e.slice(0,20))})}l.length>0&&(t("collectcmd --cmdlist={".concat(l.join("").trim(),"}"),a.i),t("run --forward",a.i))}},n.tryStart=function(){var e=n.props,t=e.sendCmd,a=e.cell,r=e.currentPlanId;if(!(r<=Object.keys(n.rowIdMap).length&&r>0)){var o=[];if(n.rowIdMap={},n.variablesWorkspace){var l=ao.a.Robot.workspaceToCode(n.variablesWorkspace);l&&""!==l.trim()&&l.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(o.push("".concat(o.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[o.length]=e.slice(0,20))})}if(n.programWorkspace){var c=ao.a.Robot.workspaceToCode(n.programWorkspace);c&&""!==c.trim()&&c.split("\n").forEach(function(e){""!==e.slice(0,20).trim()&&(o.push("".concat(o.length+1,":").concat(e.slice(20),"\\r\\n ")),n.rowIdMap[o.length]=e.slice(0,20))})}o.length>0&&(t("collectcmd --cmdlist={".concat(o.join("").trim(),"}"),a.i),t("run --start",a.i))}},n.tryStop=function(){var e=n.props,t=e.cell,a=e.currentPlanId,r=e.sendCmd;a<=Object.keys(n.rowIdMap).length&&a>0&&r("run --stop",t.i)},n.loop=function(){var e=n.props,t=(e.sendCmd,e.cell,e.currentPlanId);Object.keys(n.rowIdMap).length;n.state.looping?n.state.looping&&(n.setState({looping:!1}),n.tryStop()):(n.setState({looping:!0,running:!1,debugging:!1}),n.tryStart())},n.run=function(){n.state.running?n.state.running&&(n.setState({running:!1}),n.tryStop()):(n.setState({running:!0,debugging:!1,looping:!1}),n.tryStart())},n.variablesWorkspaceDidChange=function(e){var t=n.props.program,a=ao.a.Xml.domToText(ao.a.Xml.workspaceToDom(e));if(t){var r=fo({},t);r.files=Object(b.a)(r.files),r.files.forEach(function(e,n){e.name===t.name+".dat"&&(r.files[n]=fo({},e,{content:a}))}),n.props.updateProgram(t.name,r)}},n.programWorkspaceDidChange=function(e){console.log(ao.a.Robot.workspaceToCode(e));var t=n.props.program,a=ao.a.Xml.domToText(ao.a.Xml.workspaceToDom(e));if(t){var r=fo({},t);r.files=Object(b.a)(r.files),r.files.forEach(function(e,n){e.name===t.name+".pro"&&(r.files[n]=fo({},e,{content:a}))}),n.props.updateProgram(t.name,r)}},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"componentDidUpdate",value:function(e,t,n){if(e.size.width!==this.props.size.width||e.size.height!==this.props.size.height){var a=this;clearTimeout(a.timer),a.timer=setTimeout(function(){a.programWorkspace&&ao.a.svgResize(a.programWorkspace),a.variablesWorkspace&&ao.a.svgResize(a.variablesWorkspace)},50)}e.currentPlanId!==this.props.currentPlanId&&(this.rowIdMap[this.props.currentPlanId]&&this.programWorkspace&&this.programWorkspace.highlightBlock(this.rowIdMap[this.props.currentPlanId],!0),this.rowIdMap[e.currentPlanId]&&this.programWorkspace&&this.programWorkspace.highlightBlock(this.rowIdMap[e.currentPlanId],!1),this.props.currentPlanId>Object.keys(this.rowIdMap).length&&this.state.looping&&this.tryStart())}},{key:"shouldComponentUpdate",value:function(e,t,n){return e.endPQ!==this.props.endPQ&&this.programWorkspace&&e.endPQ&&(this.programWorkspace.endPQ=e.endPQ,this.programWorkspace.getAllBlocks().forEach(function(t){t.updateEndPQ&&t.isEndPQEmpty&&t.isEndPQEmpty()&&t.updateEndPQ(e.endPQ)})),!0}},{key:"render",value:function(){var e=this,t=this,n=t.props,a=n.prefixCls,l=n.size,c=l.width,i=l.height,s=n.program,u=n.options,d=n.currentPlanId,p=this.state,m=p.running,f=p.debugging,b=p.looping,g=d<=Object.keys(this.rowIdMap).length&&d>0,h="",O="";s&&s.files&&s.files.forEach(function(e){e.name===s.name+".dat"&&(O=e.content),e.name===s.name+".pro"&&(h=e.content)});var v=u.variablesHeight?parseFloat(u.variablesHeight):200;v<=50&&(v=50);var E=i-v-5;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(a,"-editors")},!!O&&!u.hideVariablesWorkspace&&o.a.createElement(so.ResizableBox,{width:c,height:v,minConstraints:[c,100],maxConstraints:[c,i-30-100],className:"".concat(a,"-editors-variables"),axis:"y",handle:o.a.createElement("div",{className:"".concat(a,"-divider")}),onResize:function(e,n){var a=n.size,r=a.height;a.width;t.props.updateOptions(fo({},u,{variablesHeight:r})),t.programWorkspace&&ao.a.svgResize(t.programWorkspace),t.variablesWorkspace&&ao.a.svgResize(t.variablesWorkspace)}},o.a.createElement(io.a.BlocklyEditor,{ref:function(t){t&&t.workspace&&t.workspace.state&&(e.variablesWorkspace=t.workspace.state.workspace)},toolboxCategories:this.state.variablesToolboxCategories,initialXml:O,workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0}},wrapperDivClassName:"".concat(a,"-full-height"),workspaceDidChange:this.variablesWorkspaceDidChange})),!!h&&o.a.createElement("div",{className:"".concat(a,"-editors-program ").concat(u.hideVariablesWorkspace?"".concat(a,"-editors-program-full-height"):""),style:{height:E}},o.a.createElement(io.a.BlocklyEditor,{ref:function(t){t&&t.workspace&&t.workspace.state&&(e.programWorkspace=t.workspace.state.workspace)},toolboxCategories:this.state.programToolboxCategories,initialXml:h,workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0}},wrapperDivClassName:"".concat(a,"-full-height"),workspaceDidChange:this.programWorkspaceDidChange}),o.a.createElement(co.a,{placement:"bottom",title:u.hideVariablesWorkspace?"\u663e\u793a\u53d8\u91cf\u5b9a\u4e49":"\u9690\u85cf\u53d8\u91cf\u5b9a\u4e49"},o.a.createElement(w.a,{type:"double-right",className:"".concat(a,"-editors-program-toggle"),onClick:function(){e.props.updateOptions(fo({},u,{hideVariablesWorkspace:!u.hideVariablesWorkspace}))}})))),o.a.createElement("div",{className:"".concat(a,"-operations")},o.a.createElement("div",{className:"".concat(a,"-operations-left")},!!u.hideSidebar&&o.a.createElement(w.a,{type:"double-right",className:"".concat(a,"-sidebar-toggle"),onClick:function(){e.props.updateOptions(fo({},u,{hideSidebar:""}))}}),!u.hideSidebar&&o.a.createElement(w.a,{type:"double-left",className:"".concat(a,"-sidebar-toggle"),onClick:function(){e.props.updateOptions(fo({},u,{hideSidebar:"true"}))}}),o.a.createElement("span",{className:"".concat(a,"-operations-left-name")},s.name)),o.a.createElement(Ut.a,{size:"small",type:"primary",disabled:(f||m)&&g,onClick:this.loop},b?"\u505c\u6b62\u5faa\u73af":"\u5faa\u73af\u8fd0\u884c"),o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:this.debug,disabled:m&&g||b},f&&g?"\u4e0b\u4e00\u6b65":"\u8c03\u8bd5"),f&&g&&o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:function(){e.tryStop()}}," \u505c\u6b62"),!(f&&g)&&o.a.createElement(Ut.a,{size:"small",type:"primary",onClick:this.run,disabled:f&&g||b},m&&g?"\u505c\u6b62":"\u8fd0\u884c")))}}]),t}(r.Component),go=Object(Ue.a)(Ye,pt,function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.current_plan_id},ot,function(e,t,n,a){return{result:e,currentPlan:t,currentPlanId:n,endPQ:a}});var ho=Object(i.b)(function(e,t){return go(e,t)},{deleteResultByChannel:ie,loadPrograms:je,loadProgram:Se,createProgram:_e,deleteProgram:Me,updateProgram:function(e,t){return U(Ie,{name:e,program:t})},renameProgram:Le,sendCmd:ce})(Object(h.withSize)({monitorHeight:!0,refreshRate:30})(bo)),Oo=Mn.a.Item,vo=(An.a.Group,An.a.Button,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.createProgram;n.props.form.validateFields(function(e,n){e?console.error(e):t(n)})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleCreateProgramModal,n=e.prefixCls,a=e.creatingProgramStatus,r=this.props.form.getFieldDecorator;return o.a.createElement(pn.a,{title:"\u6dfb\u52a0\u7a0b\u5e8f",visible:!!a.showCreateProgramModal,okText:"\u521b\u5efa",cancelText:"\u53d6\u6d88",onOk:this.handleSubmit,onCancel:t,wrapClassName:"".concat(n,"-create-program-modal")},o.a.createElement(Mn.a,null,o.a.createElement(Oo,{label:"\u540d\u79f0",className:"".concat(n,"-input-col")},r("name",{rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u7a0b\u5e8f\u540d\u79f0"}]})(o.a.createElement(jn.a,{size:"small",disabled:!!a.creatingProgram})))),o.a.createElement("div",{className:"".concat(n,"-status")},!!a.creatingProgram&&o.a.createElement("div",{className:"info"},"\u521b\u5efa\u4e2d..."),!!a.creatingProgramFailure&&o.a.createElement("div",{className:"error"},"\u521b\u5efa\u9519\u8bef: ",a.creatingProgramFailure),!!a.creatingProgramSuccess&&o.a.createElement("div",{className:"success"},"\u521b\u5efa\u6210\u529f")))}}]),t}(r.Component)),Eo=Mn.a.create()(vo),yo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props;(0,t.deleteProgram)(t.deletingProgramStatus.showDeleteProgramModal)},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleDeleteProgramModal,n=e.prefixCls,a=e.deletingProgramStatus;return o.a.createElement(pn.a,{title:"\u5220\u9664\u7a0b\u5e8f",visible:!!a.showDeleteProgramModal,okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:this.handleSubmit,onCancel:function(){return t()},wrapClassName:"".concat(n,"-delete-program-modal")},o.a.createElement("div",{className:"info"},"\u662f\u5426\u786e\u8ba4\u5220\u9664",!0!==a.showDeleteProgramModal?' "'.concat(a.showDeleteProgramModal,'" '):"","!"),o.a.createElement("div",{className:"".concat(n,"-status")},!!a.deletingProgram&&o.a.createElement("div",{className:"info"},"\u5220\u9664\u4e2d..."),!!a.deletingProgramFailure&&o.a.createElement("div",{className:"error"},"\u5220\u9664\u9519\u8bef: ",a.deletingProgramFailure),!!a.deletingProgramSuccess&&o.a.createElement("div",{className:"success"},"\u5220\u9664\u6210\u529f")))}}]),t}(r.Component);function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var jo=to.a.Panel,Fo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedProgram:null},n.run=function(){n.editors&&n.editors.run()},n.renderContent=function(e){var t=e.getPrefixCls,a=Object(m.a)(n),r=a.props,l=r.prefixCls,c=r.cell,i=r.size,s=i.width,u=i.height,d=r.programs,p=(n.state.running,t("blockly",l));n.prefixCls=p;var f=n.getOptions(),b=f.sidebarWidth||200,g=d[f.selectedProgramName];return o.a.createElement("div",{className:"".concat(p)},(!f.hideSidebar||!g)&&o.a.createElement(so.ResizableBox,{width:b,height:u,minConstraints:[100,u],maxConstraints:[s/2,u],className:"".concat(p,"-left-col"),axis:"x",handle:o.a.createElement("div",{className:"".concat(p,"-hdivider")}),onResize:function(e,t){var n=t.size,r=n.width;n.height;a.updateOptions(Po({},f,{sidebarWidth:r}))}},n.renderPrograms(p)),o.a.createElement("div",{className:"".concat(p,"-right-col"),style:{width:f.hideSidebar?s:s-b}},!!g&&o.a.createElement(ho,{program:g,cell:c,prefixCls:p,updateOptions:function(e){return n.updateOptions(e)},options:n.getOptions()}),!g&&o.a.createElement("div",{className:"".concat(p,"-no-program")},o.a.createElement("span",null,"\u6ca1\u6709\u7a0b\u5e8f, \u8bf7\u9009\u4e2d\u6216\u65b0\u5efa."))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.loadPrograms()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this;if(e.creatingProgramStatus.creatingProgramSuccess!==this.props.creatingProgramStatus.creatingProgramSuccess&&this.props.creatingProgramStatus.creatingProgramSuccess){var r=this.getOptions(),o=this.props.creatingProgramStatus.creatingProgramSuccess.name;r.selectedProgramName?(this.updateOptions(Po({},r,{selectedProgramName:null})),clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.updateOptions(Po({},r,{selectedProgramName:o}))},50)):this.updateOptions(Po({},r,{selectedProgramName:o}))}if(e.editingProgramNameStatus.renamingProgramSuccess!==this.props.editingProgramNameStatus.renamingProgramSuccess&&this.props.editingProgramNameStatus.renamingProgramSuccess){var l=this.getOptions(),c=this.props.editingProgramNameStatus.renamingProgramSuccess.name;l.selectedProgramName?(this.updateOptions(Po({},l,{selectedProgramName:null})),clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.updateOptions(Po({},l,{selectedProgramName:c}))},50)):this.updateOptions(Po({},l,{selectedProgramName:c}))}}},{key:"renderPrograms",value:function(e){var t=this,n=this.props,a=n.programs,l=n.createProgram,c=n.creatingProgramStatus,i=n.toggleCreateProgramModal,s=n.deleteProgram,u=n.deletingProgramStatus,d=n.toggleDeleteProgramModal,p=n.toggleEditProgramName,m=n.renameProgram,f=n.resetRenameProgramStatus,b=n.editingProgramNameStatus,g=b.renamingProgramFailure,h=b.editingProgramName,O=this.getOptions();return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(e,"-program-header")},"\u7a0b\u5e8f\u5217\u8868",o.a.createElement(co.a,{placement:"top",title:"\u65b0\u5efa\u7a0b\u5e8f"},o.a.createElement(w.a,{type:"plus-square",theme:"filled",className:"".concat(e,"-program-header-add"),onClick:i})),o.a.createElement(Eo,{createProgram:l,toggleCreateProgramModal:i,creatingProgramStatus:c,prefixCls:e})),0===Object.keys(a).length&&o.a.createElement("div",{style:{opacity:.5}},"\u6ca1\u6709\u7a0b\u5e8f"),Object.keys(a).length>0&&o.a.createElement("div",{className:"".concat(e,"-program-collapse")},o.a.createElement(to.a,{accordion:!0,activeKey:O.selectedProgramName},Object.keys(a).sort().map(function(n){var r=o.a.createElement("div",{className:"".concat(e,"-program-name"),onClick:function(){O.selectedProgramName&&O.selectedProgramName!==n?(t.updateOptions(Po({},O,{selectedProgramName:null})),clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.updateOptions(Po({},O,{selectedProgramName:n}))},50)):t.updateOptions(Po({},O,{selectedProgramName:n}))}},h!==n&&o.a.createElement("span",{className:"".concat(e,"-program-name-text"),onDoubleClick:function(e){e.preventDefault(),e.stopPropagation(),p(n)}},n),h===n&&o.a.createElement(jn.a,{size:"small",onKeyUp:function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),p())},onClick:function(e){e.preventDefault(),e.stopPropagation()},className:"".concat(e,"-program-name-input"),defaultValue:n,onPressEnter:function(e){n!==e.target.value?m(n,e.target.value):p()}}),h!==n&&o.a.createElement("span",{className:"".concat(e,"-program-name-actions")},o.a.createElement(w.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),p(n)},type:"edit",theme:"filled"}),o.a.createElement(w.a,{type:"copy",theme:"filled",onClick:function(e){e.preventDefault(),e.stopPropagation();for(var t=n+" copy",r=!1;!r;)r=!0,Object.keys(a).forEach(function(e){e===t&&(t+=" copy",r=!1)});m(n,t,!0)}}),o.a.createElement(w.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),d(n)},type:"delete",theme:"filled"})));return o.a.createElement(jo,{header:r,key:n},a[n].files&&a[n].files.map(function(e){return o.a.createElement("p",{key:e.name},e.name)}))}))),o.a.createElement(yo,{deleteProgram:s,toggleDeleteProgramModal:d,deletingProgramStatus:u,prefixCls:e}),!!h&&!!g&&o.a.createElement(pn.a,{title:"\u91cd\u547d\u540d\u9519\u8bef",visible:!!h&&!!g,onCancel:f,onOk:f,okText:"\u786e\u8ba4",cancelButtonProps:{style:{display:"none"}}},o.a.createElement("div",{className:"error"},!!g&&g)),!h&&!!g&&o.a.createElement(pn.a,{title:"\u6587\u4ef6\u590d\u5236\u9519\u8bef",visible:!h&&!!g,onCancel:f,onOk:f,okText:"\u786e\u8ba4",cancelButtonProps:{style:{display:"none"}}},o.a.createElement("div",{className:"error"},!!g&&g)))}}]),t}(Wt);Fo.propTypes={};var Ro=Object(Ue.a)(function(e){return e.robot.programs},Ye,function(e){return{showCreateProgramModal:e.robot.showCreateProgramModal,creatingProgram:e.robot.creatingProgram,creatingProgramFailure:e.robot.creatingProgramFailure,creatingProgramSuccess:e.robot.creatingProgramSuccess}},function(e){return{showDeleteProgramModal:e.robot.showDeleteProgramModal,deletingProgram:e.robot.deletingProgram,deletingProgramFailure:e.robot.deletingProgramFailure,deletingProgramSuccess:e.robot.deletingProgramSuccess}},function(e){return{editingProgramName:e.robot.editingProgramName,renamingProgram:e.robot.renamingProgram,renamingProgramFailure:e.robot.renamingProgramFailure,renamingProgramSuccess:e.robot.renamingProgramSuccess}},function(e,t,n,a,r){return{programs:e,result:t,creatingProgramStatus:n,deletingProgramStatus:a,editingProgramNameStatus:r}});var So=Object(i.b)(function(e,t){return Ro(e,t)},{deleteResultByChannel:ie,loadPrograms:je,loadProgram:Se,toggleCreateProgramModal:function(){return U("TOGGLE_CREATE_PROGRAM_MODAL")},createProgram:_e,toggleDeleteProgramModal:function(e){return U("TOGGLE_DELETE_PROGRAM_MODAL",{name:e})},deleteProgram:Me,toggleEditProgramName:function(e){return U("TOGGLE_EDITING_PROGRAM_NAME",{name:e})},renameProgram:Le,resetRenameProgramStatus:function(){return U("RESET_RENAME_PROGRAM_STATUS")}})(Object(h.withSize)({monitorHeight:!0,refreshRate:30})(Fo));So.NAME="\u53ef\u89c6\u5316\u7f16\u7a0b",So.WIDTH=24,So.HEIGHT=12,So.ICON=function(e){return o.a.createElement(w.a,Object.assign({type:"codepen"},e))};var wo=So,xo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.get,c=t("example-cell",r);return o.a.createElement("div",{className:c},o.a.createElement("p",null,!!l&&JSON.stringify(l,null,"\n")))},n}return Object(f.a)(t,e),t}(Wt);xo.propTypes={get:Mt.a.object};var _o=Object(i.b)(function(e,t){return{get:Ke(e,"get")}})(xo);_o.NAME="\u9762\u677f\u793a\u4f8b",_o.WIDTH=24,_o.HEIGHT=12,_o.ICON=function(e){return o.a.createElement(w.a,Object.assign({type:"codepen"},e))};var Io=_o,No=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.get,c=t("ShowGetContent-cell",r);return o.a.createElement("div",{className:c},o.a.createElement("p",null,!!l&&JSON.stringify(l,null,"\n")))},n}return Object(f.a)(t,e),t}(Wt);No.propTypes={get:Mt.a.object};var Do=Object(i.b)(function(e,t){return{get:Ke(e,"get")}})(No);Do.NAME="GET\u6570\u636e\u663e\u793a",Do.WIDTH=12,Do.HEIGHT=12;var To=Do;function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ao=jn.a.Search,Lo=An.a.Group,Uo=Mn.a.Item,Vo=Un.a.Option,Bo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sources:[]},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var a=n.getOptions();n.updateOptions(ko({},a,{},t,{sources:t.sources,showConfig:!1}))}})},n.remove=function(e){n.setState({sources:n.state.sources.filter(function(t,n){return n!==e})})},n.add=function(){n.setState({sources:[].concat(Object(b.a)(n.state.sources),[{}])})},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cell,c=a.sendCmd,i=n.getOptions(),s=n.props.form.getFieldDecorator,u=t("realtime-data-config",r),d=i.interval||1e3;return o.a.createElement(pn.a,{title:"\u6dfb\u52a0\u6570\u636e",visible:!!i.showConfig,maskClosable:!1,okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",width:"80%",onOk:n.handleSubmit,onCancel:n.hideConfig,wrapClassName:"".concat(u)},o.a.createElement(Mn.a,{layout:"horizontal"},o.a.createElement(Uo,{label:"\u6570\u636e\u6765\u6e90"},s("channel",{initialValue:"command"===i.channel?"command":"get",rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6765\u6e90"}]})(o.a.createElement(Lo,{onChange:function(e){n.updateOptions(ko({},i,{channel:e.target.value}))}},o.a.createElement(An.a,{value:"get"},"\u9ed8\u8ba4GET"),o.a.createElement(An.a,{value:"command"},"\u81ea\u5b9a\u4e49\u547d\u4ee4")))),"command"===i.channel&&o.a.createElement(At.a,null,o.a.createElement(Bn.a,{span:20},o.a.createElement(Uo,{label:"\u8fd0\u884c\u6307\u4ee4",labelCol:{span:4},wrapperCol:{span:20}},s("command",{initialValue:i.command,rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4"}]})(o.a.createElement(Ao,{onSearch:function(e){c(e,l.i)},enterButton:"\u8fd0\u884c"})))),o.a.createElement(Bn.a,{span:4},o.a.createElement(Uo,{label:"\u8fd0\u884c\u95f4\u9694",labelCol:{span:12},wrapperCol:{span:12}},s("interval",{initialValue:d,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4"}]})(o.a.createElement(Jn.a,{min:30,step:1,formatter:function(e){return"".concat(e,"\u6beb\u79d2")},parser:function(e){return e.replace("\u6beb\u79d2","")}}))))),n.renderDataSources(i)))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){var a=e.cell,r=e.dataSources,o=this.props,l=o.cell,c=o.dataSources;if(!Xe()(a,l)&&l&&l.options&&l.options&&l.options.sources)try{this.setState({sources:l.options.sources})}catch(i){}Xe()(r,c)||this.setState({sources:this.state.sources.filter(function(e){return!e.source||-1!==c.indexOf(e.source)})})}},{key:"renderDataSources",value:function(e){var t=this,n=this.props.form,a=n.getFieldDecorator,l=(n.getFieldValue,n.getFieldsValue),c=this.props,i=c.dataSources,s=c.dataIndexes;(e.sources||[]).forEach(function(e,t){a("sources[".concat(t,"].source"),{initialValue:e.source})});var u=this.state.sources;if(!i||!s)return o.a.createElement("div",null,"\u6570\u636e\u7b49\u5f85\u4e2d...");if(0===Object.keys(i).length)return o.a.createElement("div",{style:{textAlign:"center"},className:"error"},"\u65e0\u53ef\u6dfb\u52a0\u6570\u636e\u9879\uff0c\u8bf7\u8f93\u5165\u5e76\u8fd0\u884c\u6307\u4ee4\uff0c\u5e76\u786e\u8ba4\u8fd4\u56de\u7ed3\u679c\u4e2d\u5305\u542b\u6570\u503c\u3002");var d=l().sources;d||(d=[]);var p=u.map(function(e,n){return o.a.createElement(At.a,{key:n},o.a.createElement(Bn.a,{span:10},o.a.createElement(Uo,{label:"\u6570\u636e\u9879",labelCol:{span:8},wrapperCol:{span:16}},a("sources[".concat(n,"].source"),{initialValue:e.source,rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u9879"}]})(o.a.createElement(Un.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9\u6570\u636e\u9879"},i.map(function(e){return o.a.createElement(Vo,{key:e,value:e},e)}))))),o.a.createElement(Bn.a,{span:10},!!d[n]&&!!s[d[n].source]&&o.a.createElement(Uo,{label:"index",labelCol:{span:8},wrapperCol:{span:16}},a("sources[".concat(n,"].index"),{initialValue:e.index,rules:[{type:"number",required:!0,message:"\u8bf7\u9009\u62e9index"}]})(o.a.createElement(Un.a,{style:{width:"100%"},size:"small",placeholder:"\u9009\u62e9index"},s[d[n].source].map(function(e){return o.a.createElement(Vo,{key:e.toString(),value:e},e)}))))),o.a.createElement(Bn.a,{span:4},o.a.createElement(Mn.a.Item,{style:{paddingLeft:20}},o.a.createElement(Ut.a,{onClick:t.remove.bind(t,n),type:"danger"},o.a.createElement(w.a,{type:"minus"})," \u79fb\u9664"))))});return o.a.createElement(r.Fragment,null,p,o.a.createElement(Mn.a.Item,{wrapperCol:{span:24},style:{textAlign:"center"}},o.a.createElement(Ut.a,{type:"dashed",onClick:this.add},o.a.createElement(w.a,{type:"plus"})," \u6dfb\u52a0\u6570\u636e\u9879")))}}]),t}(Dn),Wo=Object(Ue.a)(et,tt,function(e,t){return{dataSources:e,dataIndexes:t}});var Jo=Object(i.b)(function(e,t){return Wo(e,t)},{sendCmd:ce,deleteResultByChannel:ie})(Mn.a.create({mapPropsToFields:function(e){var t=e.sources;e.cell;return function e(t){return Object.keys(t).reduce(function(n,a){return ko({},n,Object(g.a)({},a,"object"!==typeof t[a]||"value"in t[a]?Mn.a.createFormField(ko({},t[a],{value:t[a]&&t[a].value})):ze()(t[a])?t[a].map(function(t){return e(t)}):e(t[a])))},{})}({sources:t})},onValuesChange:function(e,t){}})(Bo));function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var zo=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).interval=null,n.state={playing:!0},n.resetInterval=function(){clearInterval(n.interval);var e=n.props,t=e.cell,a=e.sendCmd;if(t.options&&!t.options.showConfig&&"command"===t.options.channel&&t.options.command&&t.options.interval&&!t.options.paused){var r=t.options.command,o=t.i;n.interval=setInterval(function(){a(r,o)},t.options.interval)}},n.handleChange=function(e){var t=n.getOptions();n.updateOptions(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{channel:e}))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,l=a.prefixCls,c=a.cell,i=a.results,s=t("realtime-data",l),u=c.options&&c.options.channel&&c.options.sources&&c.options.sources.length>0,d="".concat("get"===c.options.channel?"get":c.options.command);return o.a.createElement("div",{className:"".concat(s," ").concat(!u&&s+"-no-data")},!u&&o.a.createElement("div",null,o.a.createElement("span",null,"\u5b9e\u65f6\u7ed8\u56fe\u6570\u636e\u914d\u7f6e"),o.a.createElement("div",{style:{marginTop:20}},o.a.createElement(Ut.a,{type:"primary",onClick:function(){n.updateOptions({showConfig:!0})}},"\u914d\u7f6e"))),u&&o.a.createElement(r.Fragment,null,o.a.createElement("div",null,"\u6570\u636e\u6765\u6e90\uff1a",d),o.a.createElement("div",null,"\u65f6\u95f4\uff1a",Object.keys(i).map(function(e){return i[e][i[e].length-1].value[0]})),o.a.createElement("div",null,Object.keys(i),"\u6570\u503c\u4e3a:"),o.a.createElement("div",null,Object.keys(i).map(function(e){return i[e][i[e].length-1].value[1]}))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidMount",value:function(){this.resetInterval()}},{key:"componentDidUpdate",value:function(e,t,n){var a=e.cell,r=this.props.cell;Xe()(a,r)||this.resetInterval(),r.options.showConfig!==a.options.showConfig&&r.options.showConfig&&this.props.deleteResultByChannel(r.i)}}]),t}(Wt);zo.propTypes={results:Mt.a.object.isRequired};var qo=Object(i.b)(function(){var e=at(1e3);return function(t,n){return{results:e(t,n)}}},{deleteResultByChannel:ie})(zo);qo.NAME="\u5b9e\u65f6\u7ed8\u56fe\u6570\u636e\u663e\u793a",qo.CONFIG=Jo;var Xo={Blockly:wo,MotionCalib:Da,RealtimeChart:sa,Debugger:_n,CodeEditor:Cn,Logger:_,View3D:Dt,SetDH:Qa,"3DView":Dt,ModelConfiguration:or,ZeroCalib:xa,LoadCalib:La,JogCoordinate:qt,JogJoint:$t,RobotStatus:cn,ManualSwitch:hn,ToolCalib:Pa,Unknown:I,EthercatConfiguration:$r,ExampleCell:Io,ShowGetContentCell:To,RealTimeData:qo};function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Zo=j.a.Item,Yo=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).getOptions=function(){return Ho({},n.props.cell.options)},n.updateOptions=function(e){var t=Ho({},n.props.cell);t.options=Ho({},t.options,{},e),n.props.onCellUpdate(t)},n.handleConfigCell=function(){n.updateOptions(Ho({},n.getOptions(),{showConfig:!0}))},n.handleDeleteCell=function(){var e=n.props;(0,e.onDelete)(e.cell.i)},n.handleCloneCell=function(){var e=n.props,t=e.onClone,a=e.cell;(a=Ho({},a)).y=a.y+1,t(a)},n.editMenu=function(e){var t=Object(m.a)(n),a=n.props,r=a.cell,l=a.onCellUpdate,c=r&&r.type&&n.cellByTypes[r.type.toLowerCase()]?n.cellByTypes[r.type.toLowerCase()].CONFIG:null,i=o.a.createElement(j.a,{onClick:function(e){switch(e.key){case"config":t.handleConfigCell();break;case"clone":t.handleCloneCell();break;case"delete":t.handleDeleteCell()}}},!!c&&o.a.createElement(Zo,{key:"config"},"\u914d\u7f6e",o.a.createElement(c,{cell:r,onCellUpdate:l})),o.a.createElement(Zo,{key:"clone"},"\u514b\u9686"),o.a.createElement(Zo,{key:"delete"},"\u5220\u9664"));return o.a.createElement(R.a,{overlay:i,trigger:["click"],placement:"bottomRight",className:"".concat(e,"--button"),overlayClassName:"".concat(e,"--dropdown-menu"),getPopupContainer:t.props.getPopupContainer},o.a.createElement(w.a,{type:"edit"}))},n.renderMenu=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls;if(a.isEditable){var l=t("layout-cell-context",r);return o.a.createElement("div",{className:"".concat(l)},n.editMenu(l))}},n.state={subMenuIsOpen:!1};var a=Object(m.a)(n);return a.cellByTypes={},Object.keys(Xo).forEach(function(e){a.cellByTypes[e.toLowerCase()]=Xo[e]}),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderMenu)}}]),t}(r.Component),Ko=n(13),$o=n.n(Ko);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nl=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).renderLayoutCellHeader=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.isEditable,c=t("layout-cell-header",r),i=t("layout-cell",r),s="".concat(i,"--draggable"),u="".concat(c,"--draggable"),d={};return d[s]=l,d[u]=l,o.a.createElement("div",{className:$o()("".concat(c),tl({},d))},n.cellName(c),n.headingBar(c))},n.cellName=function(e){var t=n.props.cellName,a={};a["".concat(e,"-name__default")]=!t||""===t.trim();var r=$o()("".concat(e,"-name"),tl({},a));return o.a.createElement("span",{className:r},t||"\u672a\u547d\u540d")},n.headingBar=function(e){if(n.props.isEditable)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"".concat(e,"--header-bar")}),o.a.createElement("div",{className:"".concat(e,"--header-dragger")}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayoutCellHeader)}}]),t}(r.Component),al=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLayoutCell=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.isEditable,c=a.cell,i=a.onCloneCell,s=a.onCellUpdate,u=a.onDeleteCell,d=a.children,p=Object(m.a)(n),f=t("layout-cell",r);return o.a.createElement("div",{className:"".concat(f),ref:function(e){p.container=e}},o.a.createElement(Yo,{cell:c,isEditable:l,dataExists:!1,onClone:i,onDelete:u,onCellUpdate:s,getPopupContainer:function(){return p.container}}),o.a.createElement(nl,{cell:c,cellName:c.name,isEditable:l}),o.a.createElement("div",{className:"".concat(f,"-body")},d))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayoutCell)}}]),t}(r.Component),rl=Xo.Unknown,ol=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderLayout=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.isEditable,c=a.cell,i=a.onCloneCell,s=a.onDeleteCell,u=a.sendCmd,d=a.onCellUpdate,p=t("layout",r);return o.a.createElement(al,{cell:c,onCellUpdate:d,onDeleteCell:s,sendCmd:u,onCloneCell:i,isEditable:l},n.renderLayoutBody(p))},n.cellByTypes={};var a=Object(m.a)(n);return Object.keys(Xo).forEach(function(e){a.cellByTypes[e.toLowerCase()]=Xo[e]}),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderLayoutBody",value:function(e){var t=this.props,n=t.cell,a=t.onCellUpdate,l=t.sendCmd,c=t.commandSendInterval,i=t.commandSendDelay;if(n.type&&this.cellByTypes[n.type.toLowerCase()]){var s=this.cellByTypes[n.type.toLowerCase()];return s.CONFIG?o.a.createElement(r.Fragment,null,o.a.createElement(s,{cell:n,onCellUpdate:a,sendCmd:l,commandSendInterval:c,commandSendDelay:i}),o.a.createElement(s.CONFIG,{cell:n,onCellUpdate:a})):o.a.createElement(s,{cell:n,onCellUpdate:a,sendCmd:l,commandSendInterval:c,commandSendDelay:i})}return o.a.createElement(rl,{cell:n,onCellUpdate:a,sendCmd:l})}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayout)}}]),t}(r.Component);var ll=Object(i.b)(function(e,t){return{commandSendInterval:St(e),commandSendDelay:xt(e)}})(ol),cl=n(544),il=n.n(cl);function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ul=Object(y.WidthProvider)(C.a),dl=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLayoutChange=function(e){if(n.props.onPositionChange){var t=Object(m.a)(n),a=!1,r=t.props.cells.map(function(t){var n=e.find(function(e){return e.i==t.i});if(n){t.x===n.x&&t.y===n.y&&t.h===n.h&&t.w===n.w||(a=!0);var r={x:n.x,y:n.y,h:n.h,w:n.w};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{},r)}});a&&n.props.onPositionChange(r)}},n.renderLayoutRender=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.cells,c=a.onZoom,i=a.isEditable,s=a.onDeleteCell,u=a.onCloneCell,d=a.sendCmd,p=a.onCellUpdate,m=a.layoutCols,f=a.layoutMargin,b=a.layoutContainerPadding,g=(a.layoutRowHeight,a.windowWidth),h=a.windowHeight,O=t("layout-renderer",r),v=".".concat(t("layout-cell",r),"--draggable"),E=Math.floor(g/m);Math.floor((h-50-40)/E);return o.a.createElement("div",{className:"".concat(O," ").concat(i?"editable":"")},o.a.createElement(ul,{layout:l,cols:m,rowHeight:E,margin:[f,f],containerPadding:[b,b],useCSSTransforms:!1,onLayoutChange:n.handleLayoutChange,draggableHandle:v,isDraggable:!0,isResizable:!0},l.map(function(e){return o.a.createElement("div",{key:e.i,className:i?"editable":""},o.a.createElement(ll,{cell:e,onDeleteCell:s,onCloneCell:u,onCellUpdate:p,onZoom:c,sendCmd:d,isEditable:i}))})))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderLayoutRender)}}]),t}(r.Component),pl=il()(dl),ml=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDashboard=function(e){var t=e.getPrefixCls,a=n.props,r=a.dashboard,l=a.prefixCls,c=a.onZoom,i=a.onCloneCell,s=a.onDeleteCell,u=a.onPositionChange,d=a.sendCmd,p=a.onCellUpdate,m=a.layoutCols,f=a.layoutRowHeight,b=a.layoutMargin,g=a.layoutContainerPadding,h=t("dashboard",l);return o.a.createElement("div",{className:"".concat(h),id:"dashboard"},r.cells&&r.cells.length?o.a.createElement(pl,{layoutCols:m,layoutRowHeight:f,layoutMargin:b,layoutContainerPadding:g,cells:r.cells,templates:[],manualRefresh:10,onCellUpdate:p,isEditable:!!r.editable,onZoom:c,sendCmd:d,onCloneCell:i,onDeleteCell:s,onPositionChange:u}):o.a.createElement(E,{dashboard:r,onAddCell:function(){}}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderDashboard)}}]),t}(r.Component);function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var gl=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onPositionChange=function(e){var t=n.props,a=t.dashboard;(0,t.updateDashboard)(a=bl({},a,{cells:Object(b.a)(e)}))},n.onCellUpdate=function(e){var t=n.props,a=t.dashboard,r=t.updateDashboard,o=Object(b.a)(a.cells);o.forEach(function(t,n){e.i===t.i&&(o[n]=bl({},e))}),r(a=bl({},a,{cells:o}))},n.onAddCell=function(e){console.log(e),delete(e=bl({},e)).i,n.props.createCell(n.props.dashboard.i,e)},n.onDeleteCell=function(e){n.props.deleteCell(n.props.dashboard.i,e)},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dashboard,n=(e.cells,e.layoutCols),a=e.layoutRowHeight,r=e.layoutMargin,l=e.layoutContainerPadding,c=e.sendCmd;return o.a.createElement(ml,{dashboard:t,layoutCols:n,layoutRowHeight:a,layoutMargin:r,layoutContainerPadding:l,inPresentationMode:!1,onPositionChange:this.onPositionChange,onCellUpdate:this.onCellUpdate,onDeleteCell:this.onDeleteCell,onCloneCell:this.onAddCell,onAddCell:this.onAddCell,sendCmd:c,onSummonOverlayTechnologies:function(){},manualRefresh:0,timeRange:{},onZoom:function(){},setScrollTop:function(){},inView:function(){}})}}]),t}(r.Component);ml.propTypes={dashboard:Mt.a.object.isRequired,layoutCols:Mt.a.number.isRequired,layoutRowHeight:Mt.a.number.isRequired,layoutMargin:Mt.a.number.isRequired,layoutContainerPadding:Mt.a.number.isRequired};var hl=Object(i.b)(function(e,t){return t.match.params.id,{dashboard:Pt(e),layoutCols:tn(e),layoutRowHeight:nn(e),layoutMargin:an(e),layoutContainerPadding:rn(e)}},{updateDashboard:G,sendCmd:ce,createCell:X,deleteCell:function(e,t){return U(Q,{dashboardId:e,cellId:t})}})(gl);var Ol=function(){return o.a.createElement("div",{className:"App"},"Configuration")},vl=o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:hl}),o.a.createElement(c.a,{path:"/configuration",component:Ol}),o.a.createElement(c.a,{path:"/dashboards/:id",component:hl})),El=n(326),yl=n.n(El),Cl=Mn.a.Item,Pl=An.a.Group,jl=An.a.Button,Fl=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.createCell;n.props.form.validateFields(function(e,n){e?console.error(e):t(n)})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.toggleCreateCellModal,a=e.prefixCls,r=e.creatingCellStatus,l=this.props.form,c=l.getFieldDecorator,i=(0,l.getFieldValue)("type");return o.a.createElement(pn.a,{title:"\u6dfb\u52a0\u9762\u677f",visible:!!t,width:"75%",okText:"\u521b\u5efa",cancelText:"\u53d6\u6d88",onOk:this.handleSubmit,onCancel:n,wrapClassName:"".concat(a,"-create-cell-modal")},o.a.createElement(Mn.a,null,o.a.createElement(Cl,{label:"\u7c7b\u578b",className:"".concat(a,"-type-selector")},c("type",{rules:[{type:"string",required:!0,message:"\u8bf7\u9009\u62e9\u9762\u677f\u7c7b\u578b!"}]})(o.a.createElement(Pl,{disabled:!!r.creatingCell},Object.keys(Xo).map(function(e){if("Unknown"!==e){var t=Xo[e].ICON?Xo[e].ICON:function(e){return o.a.createElement(w.a,Object.assign({type:"block"},e))};return o.a.createElement(jl,{value:e,key:e},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(t,null)),o.a.createElement("div",{className:"".concat(a,"-type-name")},Xo[e].NAME?Xo[e].NAME:e)))}})))),o.a.createElement(Cl,{label:"\u540d\u79f0",className:"".concat(a,"-input-col")},c("name",{rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u9762\u677f\u540d\u79f0"}]})(o.a.createElement(jn.a,{size:"small",disabled:!!r.creatingCell}))),o.a.createElement(Cl,{label:"\u5bbd\u5ea6",className:"".concat(a,"-input-col")},c("w",{initialValue:Xo[i]&&Xo[i].WIDTH?Xo[i].WIDTH:24,rules:[{type:"integer",required:!0,message:"\u8bf7\u8f93\u5165\u9762\u677f\u5bbd\u5ea6"}]})(o.a.createElement(Jn.a,{max:48,min:3,step:1,size:"small",disabled:!!r.creatingCell}))),o.a.createElement(Cl,{label:"\u9ad8\u5ea6",className:"".concat(a,"-input-col")},c("h",{initialValue:Xo[i]&&Xo[i].HEIGHT?Xo[i].HEIGHT:12,rules:[{type:"integer",required:!0,message:"\u8bf7\u8f93\u5165\u9762\u677f\u9ad8\u5ea6"}]})(o.a.createElement(Jn.a,{max:48,min:3,step:1,size:"small",disabled:!!r.creatingCell})))),o.a.createElement("div",{className:"".concat(a,"-status")},!!r.creatingCell&&o.a.createElement("div",{className:"info"},"\u521b\u5efa\u4e2d..."),!!r.creatingCellFailure&&o.a.createElement("div",{className:"error"},"\u521b\u5efa\u9519\u8bef: ",r.creatingCellFailure),!!r.creatingCellSuccess&&o.a.createElement("div",{className:"success"},"\u521b\u5efa\u6210\u529f")))}}]),t}(r.Component),Rl=Mn.a.create()(Fl);function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var wl=j.a.Item,xl=Un.a.Option,_l=Un.a.OptGroup,Il=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={fullscreen:!1},n.escFunction=function(e){27===e.keyCode&&document.fullscreenElement&&document.exitFullscreen()},n.onFullscreenChange=function(e){document.fullscreenElement?n.setState({fullscreen:!0}):n.setState({fullscreen:!1})},n.handleClick=function(e){n.props.navigate(e.key)},n.createCell=function(e){var t=n.props,a=t.createCell,r=(t.pathname,t.dashboard);r&&a(r.i,e)},n.toggleLock=function(){var e=n.props,t=e.updateDashboard,a=e.dashboard;a&&t(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a,{editable:!a.editable}))},n.renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.pathname,c=a.dashboards,i=a.dashboard,s=a.workObjectIds,u=a.toolIds,d=a.updateMotionVelPercent,p=a.updateToolId,m=a.updateCoordinateId,f=a.updateWorkObjectId,b=a.toolId,g=a.coordinateId,h=a.workObjectId,O=a.motionVelPercent,v=a.toggleCreateCellModal,E=a.creatingCellStatus,y=t("header",r);return"/"===l&&c.length>0&&(l="/dashboards/".concat(c[0].i)),o.a.createElement("div",{className:y},o.a.createElement(j.a,{onClick:n.handleClick,selectedKeys:[l],mode:"horizontal"},c.map(function(e){return o.a.createElement(wl,{key:"/dashboards/".concat(e.i)},e.name)})),o.a.createElement("div",{className:"".concat(y,"-actions"),style:{position:"absolute",right:0,top:0,display:"inline-block"}},o.a.createElement(yl.a,{tooltipVisible:!1,min:0,max:100,tipFormatter:function(e){return"".concat(e,"%")},value:O,onChange:function(e){n.throttleSendCmd("setvel --vel_percent=".concat(e),"setvel"),d(e)}}),o.a.createElement(Jn.a,{min:0,max:100,size:"small",value:O,onChange:function(e){n.throttleSendCmd("setvel --vel_percent=".concat(e),"setvel"),d(e)}}),o.a.createElement(Gr.a,{checked:!!g,onChange:function(e){m(e.target.checked?1:0)}},"\u5916\u90e8\u5de5\u5177"),o.a.createElement(Un.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u5177\u5750\u6807",onChange:p,value:b},o.a.createElement(_l,{label:"\u9009\u62e9\u5de5\u5177\u5750\u6807\u7cfb"},u.map(function(e){return o.a.createElement(xl,{value:e,key:e},"\u5de5\u5177\u5750\u6807\u7cfb",e)}))),o.a.createElement(Un.a,{size:"small",placeholder:"\u9009\u62e9\u5de5\u4ef6\u5750\u6807\u7cfb",onChange:f,value:h},o.a.createElement(_l,{label:"\u9009\u62e9\u5de5\u4ef6\u5750\u6807\u7cfb"},s.map(function(e){return o.a.createElement(xl,{value:e,key:e},"\u5de5\u4ef6\u5750\u6807\u7cfb",e)}))),o.a.createElement(w.a,{className:"".concat(i&&i.editable?"":"disabled"),type:"block",onClick:function(){i&&i.editable&&v()}}),o.a.createElement(w.a,{type:"lock",className:"".concat(i&&i.editable?"":"info"),onClick:n.toggleLock}),!n.state.fullscreen&&o.a.createElement(w.a,{type:"fullscreen",onClick:function(){document.getElementById("body").requestFullscreen()}}),!!n.state.fullscreen&&o.a.createElement(w.a,{type:"fullscreen-exit",onClick:function(){document.exitFullscreen()}}),o.a.createElement(w.a,{type:"sync",onClick:function(){window.location.reload()}})),o.a.createElement(Rl,{visible:E.showCreateCellModal,toggleCreateCellModal:v,createCell:n.createCell,creatingCellStatus:E,prefixCls:y}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.interval,n=e.sendCmd;this.throttleSendCmd=M()(n,t),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1),document.removeEventListener("fullscreenchange",this.onFullscreenChange,!1)}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component),Nl=Object(Ue.a)(yt,vt,mt,function(e){return e.robot.workObjectIds},ft,bt,gt,ht,St,function(e){return{showCreateCellModal:e.config.showCreateCellModal,creatingCell:e.config.creatingCell,creatingCellFailure:e.config.creatingCellFailure,creatingCellSuccess:e.config.creatingCellSuccess}},function(e,t,n,a,r,o,l,c,i,s){var u=null;if("/"!==t&&-1!==t.indexOf("/dashboards/")){var d=t.replace("/dashboards/","");u=e&&e.filter(function(e){return e.i===d})[0]}return{dashboards:e,pathname:t,toolIds:n,workObjectIds:a,toolId:r,workObjectId:o,coordinateId:l,motionVelPercent:c,interval:i,dashboard:u||e&&e[0],creatingCellStatus:s}});var Dl=Object(i.b)(function(e){return Nl(e)},{createCell:X,navigate:K,updateDashboard:G,updateMotionVelPercent:function(e){return U("UPDATE_MOTION_VEL_PERCENT",{motionVelPercent:e})},updateToolId:function(e){return U("UPDATE_TOOL_ID",{toolId:e})},updateCoordinateId:function(e){return U("UPDATE_COORDINATE_ID",{coordinateId:e})},updateWorkObjectId:function(e){return U("UPDATE_WORK_OBJECT_ID",{workObjectId:e})},sendCmd:ce,toggleCreateCellModal:function(){return U("TOGGLE_CREATE_CELL_MODAL")}})(Il),Tl=(j.a.Item,Un.a.Option,Un.a.OptGroup,function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderContent=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,l=a.currentCommand,c=a.websocketConnected,i=a.stateCode,s=a.currentPlan,u=t("footer",r),d={100:"#AAAAAA",200:"#FF851B",300:"#FF4136",400:"#0074D9",500:"#01FF70"}[i||100],p={100:"\u53bb\u4f7f\u80fd",200:"\u624b\u52a8",300:"\u51c6\u5907\u81ea\u52a8",400:"\u81ea\u52a8",500:"\u9519\u8bef\u505c\u76ee"}[i],m="success";return 0===l.return_code?m="success":l.return_code&&(m="error"),s=!!s&&"none"!==s,o.a.createElement("div",{className:u},o.a.createElement("div",{className:"".concat(u,"-command ").concat(m)},!!l.cmd&&o.a.createElement("div",{className:"".concat(u,"-cmd ").concat(l.isRunning&&"".concat(u,"-cmd-running"))},o.a.createElement(co.a,{placement:"top",title:"\u8fd0\u884c\u547d\u4ee4"},o.a.createElement(w.a,{type:"code"})),o.a.createElement("span",null,l.cmd)),!!l.cmd_response_time&&o.a.createElement("div",{className:"".concat(u,"-cmd-response-time")},o.a.createElement(co.a,{placement:"top",title:"\u8fd4\u56de\u65f6\u95f4"},o.a.createElement(w.a,{type:"clock-circle"})),o.a.createElement("span",null,l.cmd_response_time,"ms")),void 0!==l.return_code&&o.a.createElement("div",{className:"".concat(u,"-return-code")},o.a.createElement(co.a,{placement:"top",title:"\u8fd4\u56de\u4ee3\u7801"},o.a.createElement(w.a,{type:"bulb"})),o.a.createElement("span",null,l.return_code)),!!l.return_message&&o.a.createElement("div",{className:"".concat(u,"-return-message")},o.a.createElement(co.a,{placement:"top",title:"\u8fd4\u56de\u6d88\u606f"},o.a.createElement(w.a,{type:"message"})),o.a.createElement("span",null,l.return_message))),o.a.createElement("div",{className:"".concat(u,"-status")},o.a.createElement("div",null,!!c&&o.a.createElement(co.a,{placement:"top",title:"Websocket"},o.a.createElement(w.a,{type:"wifi",className:"success"})),!!c&&o.a.createElement("span",null,"\u5df2\u8fde\u63a5"),!c&&o.a.createElement(co.a,{placement:"top",title:"Websocket"},o.a.createElement(w.a,{type:"wifi",className:"danger"})),!c&&o.a.createElement("span",null,"\u672a\u8fde\u63a5")),o.a.createElement("div",{className:p?"info":"disabled"},o.a.createElement(co.a,{placement:"top",title:"State Code"},o.a.createElement(w.a,{style:{color:d,fill:d},fill:d,type:"check-circle",className:"info",theme:"filled"})),o.a.createElement("span",null,p||"\u65e0\u72b6\u6001")),o.a.createElement("div",{className:s?"success":"disabled"},o.a.createElement(co.a,{placement:"top",title:"Current Plan"},o.a.createElement(w.a,{style:{color:d,fill:d},fill:d,type:"setting",theme:"filled",spin:!!s})),o.a.createElement("span",null,s?"\u8fd0\u52a8\u4e2d":"\u505c\u6b62"))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderContent)}}]),t}(r.Component)),Ml=Object(Ue.a)(function(e){return e.robot.currentCommand},Ft,function(e){return e.robot.resultsByChannel.get&&e.robot.resultsByChannel.get.state_code},pt,function(e,t,n,a){return{currentCommand:e,websocketConnected:t,stateCode:n,currentPlan:a}});var kl=Object(i.b)(function(e){return Ml(e)},{})(Tl),Al=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderApp=function(e){var t=e.getPrefixCls,a=n.props,r=(a.location.pathname,a.dashboards),l=(a.navigate,a.prefixCls),c=(a.createCell,a.dashboard,a.updateDashboard,t("app",l));return r?o.a.createElement("div",{className:c},o.a.createElement(Dl,null),o.a.createElement("div",{className:"".concat(c,"-content")},n.renderErrorMessage(),vl),o.a.createElement(kl,null)):o.a.createElement("div",{className:"".concat(c,"-loading")},o.a.createElement(w.a,{type:"loading"}))},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleDismissClick=n.handleDismissClick.bind(Object(m.a)(n)),n.getData(),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){}},{key:"componentWillMount",value:function(){this.props.loadInterfaceConfig(),this.props.updateRouterState({pathname:this.props.location.pathname,params:this.props.params}),this.props.ws&&this.props.startWebsocket(this.props.ws)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalTimer),this.props.stopWebsocket()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this;if(this.props.location.pathname!==e.location.pathname&&this.props.updateRouterState({pathname:e.location.pathname,params:e.params}),this.props.ws!==e.ws&&e.ws&&this.props.startWebsocket(e.ws),this.props.getInterval!==e.getInterval&&e.getInterval){this.intervalTimer&&clearInterval(this.intervalTimer);var a=e.sendCmd,r=e.getInterval;this.intervalTimer=setInterval(function(){var e=n.props,t=e.websocketConnected;e.xml;t&&a("get","get")},r)}}},{key:"handleDismissClick",value:function(e){this.props.resetErrorMessage(),e.preventDefault()}},{key:"handleChange",value:function(e){this.props.navigate("/".concat(e))}},{key:"renderErrorMessage",value:function(){var e=this.props.errorMessage;return e?o.a.createElement("p",{style:{backgroundColor:"#e99",padding:10}},o.a.createElement("b",null,e)," (",o.a.createElement("a",{href:"#",onClick:this.handleDismissClick},"Dismiss"),")"):null}},{key:"render",value:function(){return o.a.createElement(O.ConfigConsumer,null,this.renderApp)}}]),t}(r.Component);var Ll=Object(i.b)(function(e){return{dashboards:yt(e),dashboard:jt(e),xml:Ot(e),errorMessage:e.errorMessage,websocketConnected:e.robot.websocketConnected,getInterval:wt(e),ws:Rt(e)}},{loadInterfaceConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return U(V,{requiredFields:e})},navigate:K,updateRouterState:function(e){return U(Z,{state:e})},resetErrorMessage:function(){return U("RESET_ERROR_MESSAGE")},startWebsocket:ae,stopWebsocket:function(){return U(ee,{stopped:!0})},createCell:X,sendCmd:ce,updateDashboard:G})(Al),Ul=n(92),Vl=(n(1170),n(197));n(1171),n(1175);function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jl={showCreateCellModal:!1,creatingCell:!1,creatingCellFailure:null,creatingCellSuccess:null};function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ql=0;if(window.localStorage.getItem("currentToolId"))try{Ql=JSON.parse(window.localStorage.getItem("currentToolId"))}catch(ms){}var Hl=0;if(window.localStorage.getItem("currentWorkObjectId"))try{Hl=JSON.parse(window.localStorage.getItem("currentWorkObjectId"))}catch(ms){}var Zl=0;if(window.localStorage.getItem("currentCoordinateId"))try{Zl=JSON.parse(window.localStorage.getItem("currentCoordinateId"))}catch(ms){}var Yl={resultsByChannel:{},websocketConnected:!1,websocketError:null,channelsById:{},commandsById:{},currentCommand:{},robotStatus:4,toolIds:Object(b.a)(Array(16).keys()),workObjectIds:Object(b.a)(Array(32).keys()),currentToolId:Ql,currentWorkObjectId:Hl,currentCoordinateId:Zl,currentMotionVelPercent:0,firstGet:!0,createRobotModelModalVisible:!1,currentRobotBrand:null,currentRobotModel:null,esiFileUploadingSuccess:null,esiFileUploadingRequest:null,esiFileUploadingFailure:null,esiPathFetchingSuccess:null,esiPathFetchingRequest:null,esiPathFetchingFailure:null,esiPath:null,xml:null,programs:{},showCreatingProgramModal:!1,creatingProgram:!1,creatingProgramFailure:!1,creatingProgramSuccess:!1,showDeletingProgramModal:!1,deletingProgram:!1,deletingProgramFailure:!1,deletingProgramSuccess:!1,editingProgramName:null},Kl={};function $l(e,t,n){var a=new DataView(e),r=(a.getInt32(0),a.getInt32(4,!0),a.getFloat64(16,!0));if(t[r])try{var o=function(e){var t,n,a,r,o,l;for(t="",a=e.length,n=0;n<a;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],l=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&l)<<0)}return t}(new Uint8Array(e,40));return Xl({},JSON.parse(o),{id:r,cmd_response_time:Date.now()-r})}catch(ms){console.error(ms)}}var ec=Object(Ul.c)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INTERFACE_CONFIG_FETCH_REQUEST":case"INTERFACE_CONFIG_FETCH_FAILURE":return{};case"INTERFACE_CONFIG_FETCH_SUCCESS":return Wl({},e,{},t.response);case W:var n=t.dashboard,a=Object(b.a)(e.dashboards);return a.forEach(function(e,t){e.i===n.i&&(a[t]=Wl({},a[t],{},n))}),Wl({},e,{dashboards:a});case"DASHBOARD_UPDATE_SUCCESS":var r=t.dashboard,o=Object(b.a)(e.dashboards);return o.forEach(function(e,t){e.i===r.i&&(o[t]=Wl({},o[t],{},r))}),Wl({},e,{dashboards:o});case"TOGGLE_CREATE_CELL_MODAL":return Wl({},e,{showCreateCellModal:!e.showCreateCellModal,creatingCell:!1,creatingCellFailure:null,creatingCellSuccess:null});case"CELL_CREATE_REQUEST":return Wl({},e,{creatingCell:!1,creatingCellFailure:null,creatingCellSuccess:null});case"CELL_CREATE_FAILURE":return Wl({},e,{creatingCell:!1,creatingCellFailure:t.error,creatingCellSuccess:null});case"CELL_CREATE_SUCCESS":var l=t.dashboardId,c=t.cell,i=Object(b.a)(e.dashboards);return i.forEach(function(e,t){e.i===l&&(i[t]=Wl({},i[t]),i[t].cells=i[t].cells.map(function(e){return Wl({},e,{y:e.y+1})}),i[t].cells=[].concat(Object(b.a)(i[t].cells),[c]))}),Wl({},e,{dashboards:i,showCreateCellModal:!1,creatingCellFailure:null,creatingCell:null,creatingCellSuccess:c});case"CELL_DELETE_SUCCESS":var s=t.dashboardId,u=t.cell,d=Object(b.a)(e.dashboards);return d.forEach(function(e,t){e.i===s&&(d[t]=Wl({},d[t]),d[t].cells=d[t].cells.filter(function(e){return e.i!==u.i}))}),Wl({},e,{dashboards:d});default:return e}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.error,r=t.errorType;return"RESET_ERROR_MESSAGE"===n?r?e[r]&&delete(e=zl({},e))[r]:e={}:a&&((e=zl({},e))[n]=a),e},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pathname:"/"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return t.state;default:return e}},robot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEBSOCKET_CONNECTED":return Xl({},e,{websocketConnected:!0});case"WEBSOCKET_DISCONNECTED":return Xl({},e,{websocketConnected:!1});case"WEBSOCKET_ERROR":return Xl({},e,{websocketError:t.payload});case te:var n=t.id,a=t.channel,r=t.cmd,o=t.callback;if(a){var l=Xl({},e.channelsById);l[n]=a;var c=e.commandsById,i=e.currentCommand;return"get"!==a&&((c=Xl({},c))[n]=r,o&&(Kl[n]=o),i={id:n,cmd:r,channel:a,isRunning:!0}),Xl({},e,{channelsById:l,commandsById:c,currentCommand:i})}return e;case ne:var s=t.data,u=e.channelsById,d=e.resultsByChannel,p=e.commandsById,m=e.currentCommand,f=e.firstGet,b=$l(s,e.channelsById,e.model);if(b){var g=(u=Xl({},u))[b.id],h=Kl[b.id];return delete u[b.id],delete Kl[b.id],h&&"function"===typeof h&&h(b),"get"!==g&&p[b.id]&&delete(p=Xl({},p))[b.id],g&&((d=Xl({},d))[g]=b),m.id===b.id&&(m=Xl({},m,{},b,{isRunning:!1})),Xl({},e,f&&"get"===g?{channelsById:u,resultsByChannel:d,commandsById:p,currentCommand:m,currentMotionVelPercent:b.vel_percent||0,firstGet:!1}:{channelsById:u,resultsByChannel:d,commandsById:p,currentCommand:m})}return e;case"DELETE_RESULT_BY_CHANNEL":var O=t.channel,v=Xl({},e.resultsByChannel);return delete v[O],Xl({},e,{resultsByChannel:v});case"UPDATE_MOTION_VEL_PERCENT":return Xl({},e,{currentMotionVelPercent:t.motionVelPercent});case"UPDATE_COORDINATE_ID":return window.localStorage.setItem("currentCoordinateId",t.coordinateId),Xl({},e,{currentCoordinateId:t.coordinateId});case"UPDATE_TOOL_ID":return window.localStorage.setItem("currentToolId",t.toolId),Xl({},e,{currentToolId:t.toolId});case"UPDATE_WORK_OBJECT_ID":return window.localStorage.setItem("currentWorkObjectId",t.workObjectId),Xl({},e,{currentWorkObjectId:t.workObjectId});case"ROBOT_MODELS_FETCH_SUCCESS":return Xl({},e,{robotModels:t.robotModels});case"ROBOT_MODEL_DELETE_SUCCESS":var E=t.model,y=Xl({},e.robotModels);return y[E.brand]=Xl({},y[E.brand]),delete y[E.brand][E.model],fn()(y[E.brand])&&delete y[E.brand],Xl({},e,{robotModels:y});case"ROBOT_MODEL_PART_UPLOAD_SUCCESS":var C=t.model,P=Xl({},e.robotModels);return P[C.brand]=Xl({},P[C.brand]),P[C.brand][C.model]=C,Xl({},e,{robotModels:P});case"ROBOT_MODEL_PART_DELETE_SUCCESS":var j=t.model,F=Xl({},e.robotModels);return F[j.brand]=Xl({},F[j.brand]),F[j.brand][j.model]=j,Xl({},e,{robotModels:F});case"ROBOT_MODEL_CREATE_REQUEST":return Xl({},e,{creatingRobotModel:!0,creatingRobotModelError:!1,creatingRobotModelResult:null});case"ROBOT_MODEL_CREATE_SUCCESS":var R=t.model,S=Xl({},e.robotModels);return S[R.brand]=Xl({},S[R.brand]),S[R.brand][R.model]=R,Xl({},e,{robotModels:S,currentRobotBrand:R.brand,currentRobotModel:R.model,createRobotModelModalVisible:!1,creatingRobotModel:!1,creatingRobotModelError:!1,creatingRobotModelResult:R});case"ROBOT_MODEL_CREATE_FAILURE":return Xl({},e,{creatingRobotModel:!1,creatingRobotModelError:t.error,creatingRobotModelResult:!1});case"SHOW_CREATE_ROBOT_MODEL_MODAL":return Xl({},e,{createRobotModelModalVisible:!0,creatingRobotModel:!1,creatingRobotModelError:null,creatingRobotModelResult:null});case"HIDE_CREATE_ROBOT_MODEL_MODAL":return Xl({},e,{createRobotModelModalVisible:!1});case"SELECT_CURRENT_ROBOT_BRAND":return Xl({},e,{currentRobotBrand:t.brand});case"SELECT_CURRENT_ROBOT_MODEL":return Xl({},e,{currentRobotModel:t.model});case"UPLOAD_ESI_FILE_REQUEST":return Xl({},e,{esiFileUploadingSuccess:null,esiFileUploadingRequest:!0,esiFileUploadingFailure:null});case"UPLOAD_ESI_FILE_FAILURE":return Xl({},e,{esiFileUploadingSuccess:null,esiFileUploadingRequest:!1,esiFileUploadingFailure:t.error});case"UPLOAD_ESI_FILE_SUCCESS":return Xl({},e,{esiFileUploadingRequest:!1,esiFileUploadingSuccess:!0,esiFileUploadingFailure:!1});case"ESI_PATH_FETCH_REQUEST":return Xl({},e,{esiPath:null,esiPathFetchingRequest:!0,esiPathFetchingSuccess:!1,esiPathFetchingFailure:!1});case"ESI_PATH_FETCH_FAILURE":return Xl({},e,{esiPath:null,esiPathFetchingRequest:!1,esiPathFetchingSuccess:!1,esiPathFetchingFailure:t.error});case"ESI_PATH_FETCH_SUCCESS":return Xl({},e,{esiPath:t.path,esiPathFetchingRequest:!1,esiPathFetchingSuccess:!0,esiPathFetchingFailure:!1});case"CONFIG_XML_FETCH_SUCCESS":return Xl({},e,{xml:t.xml});case"PROGRAMS_FETCH_REQUEST":return Xl({},e,{loadingProgram:!0,loadingProgramError:null});case"PROGRAMS_FETCH_FAILURE":return Xl({},e,{loadingProgram:!1,loadingProgramError:t.error});case"PROGRAMS_FETCH_SUCCESS":return Xl({},e,{loadingProgram:!1,loadingProgramError:null,programs:t.programs});case"PROGRAM_UPDATE_REQUEST":var w=Xl({},e.programs);return w[t.name]=t.program,Xl({},e,{updatingProgram:!0,updatingProgramError:null,programs:w});case"PROGRAM_UPDATE_FAILURE":return Xl({},e,{updatingProgram:!1,updatingProgramError:t.error});case"PROGRAM_UPDATE_SUCCESS":var x=Xl({},e.programs);return x[t.program.name]=t.program,Xl({},e,{updatingProgram:!1,updatingProgramError:null,programs:x});case"TOGGLE_CREATE_PROGRAM_MODAL":return Xl({},e,{showCreateProgramModal:!e.showCreateProgramModal,creatingProgram:!1,creatingProgramFailure:null,creatingProgramSuccess:null});case"PROGRAM_CREATE_REQUEST":return Xl({},e,{creatingProgram:!1,creatingProgramFailure:null,creatingProgramSuccess:null});case"PROGRAM_CREATE_FAILURE":return Xl({},e,{creatingProgram:!1,creatingProgramFailure:t.error,creatingProgramSuccess:null});case"PROGRAM_CREATE_SUCCESS":var _=t.program,I=Xl({},e.programs);return I[_.name]=_,Xl({},e,{programs:I,showCreateProgramModal:!1,creatingProgramFailure:null,creatingProgram:null,creatingProgramSuccess:_});case"TOGGLE_DELETE_PROGRAM_MODAL":return Xl({},e,{showDeleteProgramModal:t.name?t.name:!e.showDeleteProgramModal,deletingProgram:!1,deletingProgramFailure:null,deletingProgramSuccess:null});case"PROGRAM_DELETE_REQUEST":return Xl({},e,{deletingProgram:!1,deletingProgramFailure:null,deletingProgramSuccess:null});case"PROGRAM_DELETE_FAILURE":return Xl({},e,{deletingProgram:!1,deletingProgramFailure:t.error,deletingProgramSuccess:null});case"PROGRAM_DELETE_SUCCESS":var N=t.program,D=Xl({},e.programs);return delete D[N.name],Xl({},e,{programs:D,showDeleteProgramModal:!1,deletingProgramFailure:null,deletingProgram:null,deletingProgramSuccess:N});case"TOGGLE_EDITING_PROGRAM_NAME":var T=t.name;return Xl({},e,{renamingProgram:!1,renamingProgramFailure:null,renamingProgramSuccess:null,editingProgramName:e.editingProgramName==T?null:T});case"PROGRAM_RENAME_REQUEST":return Xl({},e,{renamingProgram:!1,renamingProgramFailure:null,renamingProgramSuccess:null});case"PROGRAM_RENAME_FAILURE":return Xl({},e,{renamingProgram:!1,renamingProgramFailure:t.error,renamingProgramSuccess:null});case"PROGRAM_RENAME_SUCCESS":var M=t.program,k=t.name,A=t.copy,L=Xl({},e.programs);return A||delete L[k],L[M.name]=M,Xl({},e,{programs:L,editingProgramName:null,renamingProgram:null,renamingProgramFailure:null,renamingProgramSuccess:M});case"RESET_RENAME_PROGRAM_STATUS":return Xl({},e,{renamingProgram:null,renamingProgramFailure:null,renamingProgramSuccess:null});default:return e}return e}}),tc=Ul.d;var nc=n(16),ac=n.n(nc),rc=n(4);n(1237),n(274),n(1238);function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cc(e){return fetch(e).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}function ic(e,t){return fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}function sc(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}function uc(e,t){return fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})}var dc=function(){return cc("/api/config/interface")},pc=function(e){return(e=lc({},e)).cells&&(e.cells=e.cells.map(function(e){return(e=lc({},e)).options&&(e.options=JSON.stringify(e.options)),e})),ic("/api/dashboards/".concat(e.i),e)},mc=function(e,t){return t.options&&"string"!==typeof t.options&&((t=lc({},t)).options=JSON.stringify(t.options)),sc("/api/dashboards/".concat(e,"/cells"),lc({},t))},fc=function(e,t){return uc("/api/dashboards/".concat(e,"/cells/").concat(t),{})},bc=function(){return cc("/api/robots")},gc=function(e,t,n){return uc("/api/robots/".concat(e,"/").concat(t,"/parts/").concat(n))},hc=function(e,t){return uc("/api/robots/".concat(e,"/").concat(t))},Oc=function(e){return sc("/api/robots",e)},vc=function(){return cc("/api/esi/path")},Ec=function(){return fetch("/api/config/robot/xml").then(function(e){return e.text().then(function(t){return{text:t,response:e}})}).then(function(e){var t=e.text;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}})},yc=function(){return cc("/api/programs")},Cc=function(e){return cc("/api/programs/".concat(encodeURIComponent(e)))},Pc=function(e){return sc("/api/programs",{name:e})},jc=function(e,t){return ic("/api/programs/".concat(encodeURIComponent(e)),t)},Fc=function(e){return uc("/api/programs/".concat(encodeURIComponent(e)))},Rc=function(e,t,n){return a=n?"/api/programs/".concat(encodeURIComponent(e),"?copy=true"):"/api/programs/".concat(encodeURIComponent(e)),r={name:t},fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)}).then(function(e){return{response:e}},function(e){return{error:e.message||e.error||"Something bad happened"}});var a,r},Sc=n(96),wc=a,xc=Object(Sc.a)(),_c=ac.a.mark(Wc),Ic=ac.a.mark(Jc),Nc=ac.a.mark(Gc),Dc=ac.a.mark(zc),Tc=ac.a.mark(qc),Mc=ac.a.mark(Xc),kc=ac.a.mark(Qc),Ac=ac.a.mark(Hc),Lc=ac.a.mark(Zc),Uc=ac.a.mark(Yc),Vc=ac.a.mark(Kc),Bc=B;function Wc(){var e,t,n;return ac.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(rc.f)(Bc.request());case 2:return a.next=4,Object(rc.b)(wc.fetchInterfaceConfig);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(rc.f)(Bc.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(rc.f)(Bc.failure(n));case 14:case"end":return a.stop()}},_c)}function Jc(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.c)(50);case 2:return e.next=4,Object(rc.b)(Wc);case 4:case"end":return e.stop()}},Ic)}function Gc(){var e,t,n;return ac.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(rc.f)(ye.request());case 2:return a.next=4,Object(rc.b)(wc.fetchConfigXml);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(rc.f)(ye.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(rc.f)(ye.failure(n));case 14:case"end":return a.stop()}},Nc)}function zc(e){var t,n,a,r;return ac.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.dashboard,o.next=3,Object(rc.c)(500);case 3:return o.next=5,Object(rc.h)(Ct,t.i);case 5:if(t=o.sent,fn()(t)){o.next=21;break}return o.next=9,Object(rc.f)(J.request());case 9:return o.next=11,Object(rc.b)(wc.updateDashboard,t);case 11:if(n=o.sent,a=n.response,r=n.error,!a){o.next=19;break}return o.next=17,Object(rc.f)(J.success(a));case 17:o.next=21;break;case 19:return o.next=21,Object(rc.f)(J.failure(r));case 21:case"end":return o.stop()}},Dc)}function qc(e){var t,n,a,r,o;return ac.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.dashboardId,n=e.cell,l.next=3,Object(rc.c)(50);case 3:return l.next=5,Object(rc.f)(q.request());case 5:return l.next=7,Object(rc.b)(wc.createCell,t,n);case 7:if(a=l.sent,r=a.response,o=a.error,!r){l.next=15;break}return l.next=13,Object(rc.f)(q.success(t,r));case 13:l.next=17;break;case 15:return l.next=17,Object(rc.f)(q.failure(o));case 17:case"end":return l.stop()}},Tc)}function Xc(e){var t,n,a,r,o;return ac.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.dashboardId,n=e.cellId,l.next=3,Object(rc.c)(50);case 3:return l.next=5,Object(rc.f)(H.request(t,n));case 5:return l.next=7,Object(rc.b)(wc.deleteCell,t,n);case 7:if(a=l.sent,r=a.response,o=a.error,!r){l.next=15;break}return l.next=13,Object(rc.f)(H.success(t,r));case 13:l.next=17;break;case 15:return l.next=17,Object(rc.f)(H.failure(o));case 17:case"end":return l.stop()}},Mc)}function Qc(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(W,zc);case 2:case"end":return e.stop()}},kc)}function Hc(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(z,qc);case 2:case"end":return e.stop()}},Ac)}function Zc(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(V,Jc);case 2:case"end":return e.stop()}},Lc)}function Yc(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(Q,Xc);case 2:case"end":return e.stop()}},Uc)}function Kc(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(Ee,Gc);case 2:case"end":return e.stop()}},Vc)}var $c=[Object(rc.e)(Zc),Object(rc.e)(Qc),Object(rc.e)(Hc),Object(rc.e)(Yc),Object(rc.e)(Kc)],ei=ac.a.mark(ci),ti=ac.a.mark(ii),ni=ac.a.mark(si),ai=ac.a.mark(ui);function ri(e,t){var n=t.split("&");if(n.length>3){var a=parseInt(n[0]),r=parseInt(n[1]),o=parseInt(n[2]),l=parseInt(n[3]),c=parseInt(n[4]),i=n[5].length,s=new ArrayBuffer(40+i),u=new DataView(s);u.setInt32(0,i,!0),u.setInt32(4,a,!0),u.setInt32(8,r,!0),u.setFloat64(16,o,!0),u.setInt32(24,l,!0),u.setInt32(32,c,!0);for(var d=0;d<i;d++)u.setUint8(40+d,n[5].charCodeAt(d));e.send(u.buffer)}}function oi(e){return new Promise(function(t,n){var a=new WebSocket(e||window.location.origin.replace("https","wss").replace("http","ws"));a.onopen=function(){a.binaryType="arraybuffer",t(a)},a.onerror=function(e){n(e)}})}function li(e){return Object(Vl.c)(function(t){e.onmessage=function(e){e.data instanceof ArrayBuffer&&t({data:e.data,type:ne})},e.onclose=function(){t(oe())},e.onerror=function(e){t(le(e.message))};return function(){e.onmessage=null,e.onerror=null}})}function ci(e){var t,n,a;return ac.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(rc.i)(te);case 3:t=r.sent,n=t.cmd,a=t.id,r.t0=e.readyState,r.next=r.t0===WebSocket.CONNECTING?9:r.t0===WebSocket.OPEN?10:r.t0===WebSocket.CLOSING?11:r.t0===WebSocket.CLOSED?12:13;break;case 9:return r.abrupt("break",13);case 10:ri(e,"get"===n?"0&1&"+a+"&0&0&"+n:"1&1&"+a+"&0&0&"+n);case 11:case 12:return r.abrupt("break",13);case 13:r.next=0;break;case 15:case"end":return r.stop()}},ei)}function ii(e){var t;return ac.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,Object(rc.i)(e);case 4:return t=n.sent,n.next=7,Object(rc.f)(t);case 7:n.next=1;break;case 9:return n.prev=9,console.log("message channel closed"),n.finish(9);case 12:case"end":return n.stop()}},ti,null,[[0,,9,12]])}function si(e){return ac.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(rc.c)(5e3);case 2:return t.next=4,Object(rc.f)(ae(e));case 4:case"end":return t.stop()}},ni)}function ui(){var e,t,n,a,r,o,l;return ac.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(rc.i)($);case 3:return a=c.sent,r=a.url,c.prev=5,c.next=8,Object(rc.b)(oi,r);case 8:return e=c.sent,c.next=11,Object(rc.b)(li,e);case 11:return t=c.sent,c.next=14,Object(rc.f)(re());case 14:return c.next=16,Object(rc.g)({internal:Object(rc.b)(ci,e),external:Object(rc.b)(ii,t),cancel:Object(rc.i)(ee)});case 16:o=c.sent,l=o.cancel,n=l,c.next=26;break;case 21:return c.prev=21,c.t0=c.catch(5),console.log(c.t0),c.next=26,Object(rc.f)(le(c.t0.message));case 26:return c.prev=26,e&&(e.close(),e=null),c.next=30,Object(rc.f)(oe());case 30:if(t&&(t.close(),t=null),n){c.next=34;break}return c.next=34,Object(rc.e)(si,r);case 34:return c.finish(26);case 35:c.next=0;break;case 37:case"end":return c.stop()}},ai,null,[[5,21,26,35]])}var di=[Object(rc.e)(ui)],pi=ac.a.mark(Ui),mi=ac.a.mark(Vi),fi=ac.a.mark(Bi),bi=ac.a.mark(Wi),gi=ac.a.mark(Ji),hi=ac.a.mark(Gi),Oi=ac.a.mark(zi),vi=ac.a.mark(qi),Ei=ac.a.mark(Xi),yi=ac.a.mark(Qi),Ci=ac.a.mark(Hi),Pi=ac.a.mark(Zi),ji=ac.a.mark(Yi),Fi=ac.a.mark(Ki),Ri=ac.a.mark($i),Si=ac.a.mark(es),wi=ac.a.mark(ts),xi=ac.a.mark(ns),_i=ac.a.mark(as),Ii=ac.a.mark(rs),Ni=ac.a.mark(os),Di=ac.a.mark(ls),Ti=pe,Mi=fe,ki=ge,Ai=ue,Li=ve;function Ui(){var e,t,n;return ac.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(rc.f)(Ai.request());case 2:return a.next=4,Object(rc.b)(wc.fetchRobotModels);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(rc.f)(Ai.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(rc.f)(Ai.failure(n));case 14:case"end":return a.stop()}},pi)}function Vi(){var e,t,n;return ac.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(rc.f)(Li.request());case 2:return a.next=4,Object(rc.b)(wc.fetchESIPath);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(rc.f)(Li.success(t.path));case 10:a.next=14;break;case 12:return a.next=14,Object(rc.f)(Li.failure(n));case 14:case"end":return a.stop()}},mi)}function Bi(){var e,t,n;return ac.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(rc.f)(Pe.request());case 2:return a.next=4,Object(rc.b)(wc.fetchPrograms);case 4:if(e=a.sent,t=e.response,n=e.error,!t){a.next=12;break}return a.next=10,Object(rc.f)(Pe.success(t));case 10:a.next=14;break;case 12:return a.next=14,Object(rc.f)(Pe.failure(n));case 14:case"end":return a.stop()}},fi)}function Wi(e){var t,n,a,r;return ac.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,o.next=3,Object(rc.f)(Re.request());case 3:return o.next=5,Object(rc.b)(wc.fetchProgram,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(rc.f)(Re.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(rc.f)(Re.failure(r));case 15:case"end":return o.stop()}},bi)}function Ji(e){var t,n,a,r;return ac.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,o.next=3,Object(rc.f)(xe.request());case 3:return o.next=5,Object(rc.b)(wc.createProgram,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(rc.f)(xe.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(rc.f)(xe.failure(r));case 15:case"end":return o.stop()}},gi)}function Gi(e){var t,n,a,r,o;return ac.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.name,n=e.program,l.next=3,Object(rc.c)(500);case 3:return l.next=5,Object(rc.f)(Ne.request(t,n));case 5:return l.next=7,Object(rc.b)(wc.updateProgram,t,n);case 7:if(a=l.sent,r=a.response,o=a.error,!r){l.next=15;break}return l.next=13,Object(rc.f)(Ne.success(r));case 13:l.next=17;break;case 15:return l.next=17,Object(rc.f)(Ne.failure(o));case 17:case"end":return l.stop()}},hi)}function zi(e){var t,n,a,r;return ac.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,o.next=3,Object(rc.f)(Te.request());case 3:return o.next=5,Object(rc.b)(wc.deleteProgram,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(rc.f)(Te.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(rc.f)(Te.failure(r));case 15:case"end":return o.stop()}},Oi)}function qi(e){var t,n,a,r,o,l;return ac.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.name,n=e.newName,a=e.copy,c.next=3,Object(rc.f)(Ae.request());case 3:return c.next=5,Object(rc.b)(wc.renameProgram,t,n,a);case 5:if(r=c.sent,o=r.response,l=r.error,!o){c.next=13;break}return c.next=11,Object(rc.f)(Ae.success(t,o,a));case 11:c.next=15;break;case 13:return c.next=15,Object(rc.f)(Ae.failure(l));case 15:case"end":return c.stop()}},vi)}function Xi(e){var t,n,a,r,o,l;return ac.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.brand,n=e.model,a=e.part,c.next=3,Object(rc.f)(Ti.request());case 3:return c.next=5,Object(rc.b)(wc.deleteRobotModelPart,t,n,a);case 5:if(r=c.sent,o=r.response,l=r.error,!o){c.next=13;break}return c.next=11,Object(rc.f)(Ti.success(o));case 11:c.next=15;break;case 13:return c.next=15,Object(rc.f)(Ti.failure(l));case 15:case"end":return c.stop()}},Ei)}function Qi(e){var t,n,a,r,o;return ac.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.brand,n=e.model,l.next=3,Object(rc.f)(Mi.request());case 3:return l.next=5,Object(rc.b)(wc.deleteRobotModel,t,n);case 5:if(a=l.sent,r=a.response,o=a.error,!r){l.next=13;break}return l.next=11,Object(rc.f)(Mi.success(r));case 11:l.next=15;break;case 13:return l.next=15,Object(rc.f)(Mi.failure(o));case 15:case"end":return l.stop()}},yi)}function Hi(e){var t,n,a,r;return ac.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.model,o.next=3,Object(rc.f)(ki.request());case 3:return o.next=5,Object(rc.b)(wc.createRobotModel,t);case 5:if(n=o.sent,a=n.response,r=n.error,!a){o.next=13;break}return o.next=11,Object(rc.f)(ki.success(a));case 11:o.next=15;break;case 13:return o.next=15,Object(rc.f)(ki.failure(r));case 15:case"end":return o.stop()}},Ci)}function Zi(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(se,Ui);case 2:case"end":return e.stop()}},Pi)}function Yi(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(de,Xi);case 2:case"end":return e.stop()}},ji)}function Ki(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(me,Qi);case 2:case"end":return e.stop()}},Fi)}function $i(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(be,Hi);case 2:case"end":return e.stop()}},Ri)}function es(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(Oe,Vi);case 2:case"end":return e.stop()}},Si)}function ts(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(Ce,Bi);case 2:case"end":return e.stop()}},wi)}function ns(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(Fe,Wi);case 2:case"end":return e.stop()}},xi)}function as(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(we,Ji);case 2:case"end":return e.stop()}},_i)}function rs(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(Ie,Gi);case 2:case"end":return e.stop()}},Ii)}function os(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(De,zi);case 2:case"end":return e.stop()}},Ni)}function ls(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.j)(ke,qi);case 2:case"end":return e.stop()}},Di)}var cs=[Object(rc.e)(Zi),Object(rc.e)(Yi),Object(rc.e)(Ki),Object(rc.e)($i),Object(rc.e)(es),Object(rc.e)(ts),Object(rc.e)(ns),Object(rc.e)(as),Object(rc.e)(rs),Object(rc.e)(os),Object(rc.e)(ls)],is=ac.a.mark(us),ss=ac.a.mark(ds);function us(){var e,t;return ac.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(rc.i)(Y);case 3:return e=n.sent,t=e.pathname,n.next=7,xc.push(t);case 7:n.next=0;break;case 9:case"end":return n.stop()}},is)}function ds(){return ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rc.a)([].concat(Object(b.a)($c),Object(b.a)(di),Object(b.a)(cs),[Object(rc.e)(us)]));case 2:case"end":return e.stop()}},ss)}n(1240);var ps=function(e){var t=Object(Vl.b)(),n=Object(Ul.e)(ec,e,tc(Object(Ul.a)(t)));return n.runSaga=t.run,n.close=function(){return n.dispatch(Vl.a)},n}();ps.runSaga(ds),Object(l.render)(o.a.createElement(i.a,{store:ps},o.a.createElement(v.a,{prefixCls:"rchmi"},o.a.createElement(c.b,{history:xc},o.a.createElement(c.a,{path:"/",component:Ll})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},542:function(e,t,n){e.exports=n.p+"static/media/six_axes.090ff2c1.png"},543:function(e,t,n){e.exports=n.p+"static/media/seven_axes.10605d29.png"},545:function(e,t,n){e.exports=n(1241)}},[[545,1,2]]]);
//# sourceMappingURL=main.1b2f9a8f.chunk.js.map